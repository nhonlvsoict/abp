/* tslint:disable:variable-name */
import { LinkedList } from '@abp/utils';
export class ActionList extends LinkedList {
}
export class ActionData {
    get data() {
        return {
            getInjected: this.getInjected,
            index: this.index,
            record: this.record,
        };
    }
}
export class Action {
    constructor(permission, visible = _ => true, action = _ => { }) {
        this.permission = permission;
        this.visible = visible;
        this.action = action;
    }
}
export class ActionsFactory {
    constructor() {
        this.contributorCallbacks = {};
    }
    get(name) {
        this.contributorCallbacks[name] = this.contributorCallbacks[name] || [];
        return new this._ctor(this.contributorCallbacks[name]);
    }
}
export class Actions {
    constructor(callbackList) {
        this.callbackList = callbackList;
    }
    get actions() {
        const actionList = new this._ctor();
        this.callbackList.forEach(callback => callback(actionList));
        return actionList;
    }
    addContributor(contributeCallback) {
        this.callbackList.push(contributeCallback);
    }
    clearContributors() {
        while (this.callbackList.length)
            this.callbackList.pop();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9ucy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL3RoZW1lLXNoYXJlZC9leHRlbnNpb25zL3NyYy9saWIvbW9kZWxzL2FjdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0NBQWtDO0FBQ2xDLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFJeEMsTUFBTSxPQUFnQixVQUFtQyxTQUFRLFVBQWE7Q0FBRztBQUVqRixNQUFNLE9BQWdCLFVBQVU7SUFTOUIsSUFBSSxJQUFJO1FBQ04sT0FBTztZQUNMLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVztZQUM3QixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7WUFDakIsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNO1NBQ3BCLENBQUM7SUFDSixDQUFDO0NBQ0Y7QUFJRCxNQUFNLE9BQWdCLE1BQU07SUFDMUIsWUFDa0IsVUFBa0IsRUFDbEIsVUFBOEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQ3ZDLFNBQTRCLENBQUMsQ0FBQyxFQUFFLEdBQUUsQ0FBQztRQUZuQyxlQUFVLEdBQVYsVUFBVSxDQUFRO1FBQ2xCLFlBQU8sR0FBUCxPQUFPLENBQWdDO1FBQ3ZDLFdBQU0sR0FBTixNQUFNLENBQTZCO0lBQ2xELENBQUM7Q0FDTDtBQUtELE1BQU0sT0FBZ0IsY0FBYztJQUFwQztRQUVVLHlCQUFvQixHQUFzRCxFQUFFLENBQUM7SUFPdkYsQ0FBQztJQUxDLEdBQUcsQ0FBQyxJQUFZO1FBQ2QsSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFFeEUsT0FBTyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDekQsQ0FBQztDQUNGO0FBRUQsTUFBTSxPQUFnQixPQUFPO0lBVzNCLFlBQTZCLFlBQTRDO1FBQTVDLGlCQUFZLEdBQVosWUFBWSxDQUFnQztJQUFHLENBQUM7SUFSN0UsSUFBSSxPQUFPO1FBQ1QsTUFBTSxVQUFVLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFcEMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztRQUU1RCxPQUFPLFVBQVUsQ0FBQztJQUNwQixDQUFDO0lBSUQsY0FBYyxDQUFDLGtCQUFnRDtRQUM3RCxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRCxpQkFBaUI7UUFDZixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTTtZQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDM0QsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLyogdHNsaW50OmRpc2FibGU6dmFyaWFibGUtbmFtZSAqL1xuaW1wb3J0IHsgTGlua2VkTGlzdCB9IGZyb20gJ0BhYnAvdXRpbHMnO1xuaW1wb3J0IHsgSW5qZWN0RmxhZ3MsIEluamVjdGlvblRva2VuLCBUeXBlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPIH0gZnJvbSAndHMtdG9vbGJlbHQnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWN0aW9uTGlzdDxSID0gYW55LCBBID0gQWN0aW9uPFI+PiBleHRlbmRzIExpbmtlZExpc3Q8QT4ge31cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFjdGlvbkRhdGE8UiA9IGFueT4ge1xuICBhYnN0cmFjdCBnZXRJbmplY3RlZDogPFQ+KFxuICAgIHRva2VuOiBUeXBlPFQ+IHwgSW5qZWN0aW9uVG9rZW48VD4sXG4gICAgbm90Rm91bmRWYWx1ZT86IFQsXG4gICAgZmxhZ3M/OiBJbmplY3RGbGFncyxcbiAgKSA9PiBUO1xuICBpbmRleD86IG51bWJlcjtcbiAgYWJzdHJhY3QgcmVjb3JkOiBSO1xuXG4gIGdldCBkYXRhKCk6IFJlYWRvbmx5QWN0aW9uRGF0YTxSPiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldEluamVjdGVkOiB0aGlzLmdldEluamVjdGVkLFxuICAgICAgaW5kZXg6IHRoaXMuaW5kZXgsXG4gICAgICByZWNvcmQ6IHRoaXMucmVjb3JkLFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgUmVhZG9ubHlBY3Rpb25EYXRhPFIgPSBhbnk+ID0gTy5SZWFkb25seTxPbWl0PEFjdGlvbkRhdGE8Uj4sICdkYXRhJz4+O1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWN0aW9uPFIgPSBhbnk+IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHBlcm1pc3Npb246IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmlzaWJsZTogQWN0aW9uUHJlZGljYXRlPFI+ID0gXyA9PiB0cnVlLFxuICAgIHB1YmxpYyByZWFkb25seSBhY3Rpb246IEFjdGlvbkNhbGxiYWNrPFI+ID0gXyA9PiB7fSxcbiAgKSB7fVxufVxuXG5leHBvcnQgdHlwZSBBY3Rpb25DYWxsYmFjazxULCBSID0gYW55PiA9IChkYXRhPzogT21pdDxBY3Rpb25EYXRhPFQ+LCAnZGF0YSc+KSA9PiBSO1xuZXhwb3J0IHR5cGUgQWN0aW9uUHJlZGljYXRlPFQ+ID0gKGRhdGE/OiBPbWl0PEFjdGlvbkRhdGE8VD4sICdkYXRhJz4pID0+IGJvb2xlYW47XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBY3Rpb25zRmFjdG9yeTxDIGV4dGVuZHMgQWN0aW9uczxhbnk+PiB7XG4gIHByb3RlY3RlZCBhYnN0cmFjdCBfY3RvcjogVHlwZTxDPjtcbiAgcHJpdmF0ZSBjb250cmlidXRvckNhbGxiYWNrczogQWN0aW9uQ29udHJpYnV0b3JDYWxsYmFja3M8SW5mZXJyZWRBY3Rpb25MaXN0PEM+PiA9IHt9O1xuXG4gIGdldChuYW1lOiBzdHJpbmcpOiBDIHtcbiAgICB0aGlzLmNvbnRyaWJ1dG9yQ2FsbGJhY2tzW25hbWVdID0gdGhpcy5jb250cmlidXRvckNhbGxiYWNrc1tuYW1lXSB8fCBbXTtcblxuICAgIHJldHVybiBuZXcgdGhpcy5fY3Rvcih0aGlzLmNvbnRyaWJ1dG9yQ2FsbGJhY2tzW25hbWVdKTtcbiAgfVxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWN0aW9uczxMIGV4dGVuZHMgQWN0aW9uTGlzdD4ge1xuICBwcm90ZWN0ZWQgYWJzdHJhY3QgX2N0b3I6IFR5cGU8TD47XG5cbiAgZ2V0IGFjdGlvbnMoKTogTCB7XG4gICAgY29uc3QgYWN0aW9uTGlzdCA9IG5ldyB0aGlzLl9jdG9yKCk7XG5cbiAgICB0aGlzLmNhbGxiYWNrTGlzdC5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKGFjdGlvbkxpc3QpKTtcblxuICAgIHJldHVybiBhY3Rpb25MaXN0O1xuICB9XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBjYWxsYmFja0xpc3Q6IEFjdGlvbkNvbnRyaWJ1dG9yQ2FsbGJhY2s8TD5bXSkge31cblxuICBhZGRDb250cmlidXRvcihjb250cmlidXRlQ2FsbGJhY2s6IEFjdGlvbkNvbnRyaWJ1dG9yQ2FsbGJhY2s8TD4pIHtcbiAgICB0aGlzLmNhbGxiYWNrTGlzdC5wdXNoKGNvbnRyaWJ1dGVDYWxsYmFjayk7XG4gIH1cblxuICBjbGVhckNvbnRyaWJ1dG9ycygpIHtcbiAgICB3aGlsZSAodGhpcy5jYWxsYmFja0xpc3QubGVuZ3RoKSB0aGlzLmNhbGxiYWNrTGlzdC5wb3AoKTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBBY3Rpb25Db250cmlidXRvckNhbGxiYWNrczxMIGV4dGVuZHMgQWN0aW9uTGlzdDxhbnk+PiA9IFJlY29yZDxcbiAgc3RyaW5nLFxuICBBY3Rpb25Db250cmlidXRvckNhbGxiYWNrPEw+W11cbj47XG5cbmV4cG9ydCB0eXBlIEFjdGlvbkNvbnRyaWJ1dG9yQ2FsbGJhY2s8TCBleHRlbmRzIEFjdGlvbkxpc3Q8YW55Pj4gPSAoYWN0aW9uTGlzdDogTCkgPT4gYW55O1xuXG50eXBlIEluZmVycmVkQWN0aW9uTGlzdDxDPiA9IEMgZXh0ZW5kcyBBY3Rpb25zPGluZmVyIEw+ID8gTCA6IG5ldmVyO1xuIl19