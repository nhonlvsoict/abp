{"version":3,"file":"abp-ng.core.js","sources":["../../../packages/core/src/lib/abstracts/ng-model.component.ts","../../../packages/core/src/lib/actions/config.actions.ts","../../../packages/core/src/lib/actions/loader.actions.ts","../../../packages/core/src/lib/actions/profile.actions.ts","../../../packages/core/src/lib/actions/rest.actions.ts","../../../packages/core/src/lib/tokens/options.token.ts","../../../packages/core/src/lib/utils/common-utils.ts","../../../packages/core/src/lib/utils/object-utils.ts","../../../packages/core/src/lib/utils/internal-store-utils.ts","../../../packages/core/src/lib/services/environment.service.ts","../../../packages/core/src/lib/services/rest.service.ts","../../../packages/core/src/lib/proxy/volo/abp/asp-net-core/mvc/application-configurations/abp-application-configuration.service.ts","../../../packages/core/src/lib/utils/localization-utils.ts","../../../packages/core/src/lib/utils/string-utils.ts","../../../packages/core/src/lib/services/config-state.service.ts","../../../packages/core/src/lib/services/session-state.service.ts","../../../packages/core/src/lib/services/localization.service.ts","../../../packages/core/src/lib/utils/route-utils.ts","../../../packages/core/src/lib/services/replaceable-components.service.ts","../../../packages/core/src/lib/services/router-events.service.ts","../../../packages/core/src/lib/utils/array-utils.ts","../../../packages/core/src/lib/utils/tree-utils.ts","../../../packages/core/src/lib/services/permission.service.ts","../../../packages/core/src/lib/services/routes.service.ts","../../../packages/core/src/lib/services/subscription.service.ts","../../../packages/core/src/lib/components/dynamic-layout.component.ts","../../../packages/core/src/lib/components/replaceable-route-container.component.ts","../../../packages/core/src/lib/components/router-outlet.component.ts","../../../packages/core/src/lib/constants/different-locales.ts","../../../packages/core/src/lib/directives/autofocus.directive.ts","../../../packages/core/src/lib/directives/debounce.directive.ts","../../../packages/core/src/lib/directives/for.directive.ts","../../../packages/core/src/lib/directives/form-submit.directive.ts","../../../packages/core/src/lib/directives/init.directive.ts","../../../packages/core/src/lib/directives/permission.directive.ts","../../../packages/core/src/lib/directives/replaceable-template.directive.ts","../../../packages/core/src/lib/directives/stop-propagation.directive.ts","../../../packages/core/src/lib/directives/visibility.directive.ts","../../../packages/core/src/lib/handlers/oauth-configuration.handler.ts","../../../packages/core/src/lib/handlers/routes.handler.ts","../../../packages/core/src/lib/utils/http-utils.ts","../../../packages/core/src/lib/tokens/lodaer-delay.token.ts","../../../packages/core/src/lib/services/http-wait.service.ts","../../../packages/core/src/lib/tokens/tenant-key.token.ts","../../../packages/core/src/lib/interceptors/api.interceptor.ts","../../../packages/core/src/lib/pipes/localization.pipe.ts","../../../packages/core/src/lib/localization.module.ts","../../../packages/core/src/lib/pipes/sort.pipe.ts","../../../packages/core/src/lib/providers/locale.provider.ts","../../../packages/core/src/lib/services/profile.service.ts","../../../packages/core/src/lib/states/profile.state.ts","../../../packages/core/src/lib/utils/auth-utils.ts","../../../packages/core/src/lib/strategies/auth-flow.strategy.ts","../../../packages/core/src/lib/utils/date-extensions.ts","../../../packages/core/src/lib/services/auth.service.ts","../../../packages/core/src/lib/tokens/app-config.token.ts","../../../packages/core/src/lib/utils/environment-utils.ts","../../../packages/core/src/lib/proxy/pages/abp/multi-tenancy/abp-tenant.service.ts","../../../packages/core/src/lib/services/multi-tenancy.service.ts","../../../packages/core/src/lib/utils/multi-tenancy-utils.ts","../../../packages/core/src/lib/utils/initial-utils.ts","../../../packages/core/src/lib/core.module.ts","../../../packages/core/src/lib/guards/auth.guard.ts","../../../packages/core/src/lib/guards/permission.guard.ts","../../../packages/core/src/lib/models/dtos.ts","../../../packages/core/src/lib/services/application-configuration.service.ts","../../../packages/core/src/lib/services/content-projection.service.ts","../../../packages/core/src/lib/utils/date-utils.ts","../../../packages/core/src/lib/utils/factory-utils.ts","../../../packages/core/src/lib/utils/file-utils.ts","../../../packages/core/src/lib/utils/number-utils.ts","../../../packages/core/src/lib/utils/form-utils.ts","../../../packages/core/src/lib/utils/generator-utils.ts","../../../packages/core/src/lib/strategies/cross-origin.strategy.ts","../../../packages/core/src/lib/strategies/dom.strategy.ts","../../../packages/core/src/lib/utils/lazy-load-utils.ts","../../../packages/core/src/lib/utils/rxjs-utils.ts","../../../packages/core/src/lib/services/dom-insertion.service.ts","../../../packages/core/src/lib/services/resource-wait.service.ts","../../../packages/core/src/lib/services/lazy-load.service.ts","../../../packages/core/src/lib/tokens/list.token.ts","../../../packages/core/src/lib/services/list.service.ts","../../../packages/core/src/lib/states/config.state.ts","../../../packages/core/src/lib/services/profile-state.service.ts","../../../packages/core/src/lib/services/router-wait.service.ts","../../../packages/core/src/lib/services/track-by.service.ts","../../../packages/core/src/lib/strategies/container.strategy.ts","../../../packages/core/src/lib/strategies/content-security.strategy.ts","../../../packages/core/src/lib/strategies/content.strategy.ts","../../../packages/core/src/lib/strategies/context.strategy.ts","../../../packages/core/src/lib/strategies/loading.strategy.ts","../../../packages/core/src/lib/strategies/projection.strategy.ts","../../../packages/core/src/lib/tokens/manage-profile.token.ts","../../../packages/core/src/lib/validators/age.validator.ts","../../../packages/core/src/lib/validators/credit-card.validator.ts","../../../packages/core/src/lib/validators/range.validator.ts","../../../packages/core/src/lib/validators/required.validator.ts","../../../packages/core/src/lib/validators/string-length.validator.ts","../../../packages/core/src/lib/validators/url.validator.ts","../../../packages/core/src/lib/validators/index.ts","../../../packages/core/src/lib/proxy/volo/abp/asp-net-core/mvc/api-exploring/abp-api-definition.service.ts","../../../packages/core/src/public-api.ts","../../../packages/core/src/abp-ng.core.ts"],"sourcesContent":["import { ControlValueAccessor } from '@angular/forms';\nimport { ChangeDetectorRef, Component, Injector, Input } from '@angular/core';\n\n// Not an abstract class on purpose. Do not change!\n// tslint:disable-next-line: use-component-selector\n@Component({ template: '' })\nexport class AbstractNgModelComponent<T = any, U = T> implements ControlValueAccessor {\n  protected _value: T;\n  protected cdRef: ChangeDetectorRef;\n  onChange: (value: T) => {};\n  onTouched: () => {};\n\n  @Input()\n  disabled: boolean;\n\n  @Input()\n  readonly: boolean;\n\n  @Input()\n  valueFn: (value: U, previousValue?: T) => T = value => (value as any) as T;\n\n  @Input()\n  valueLimitFn: (value: T, previousValue?: T) => any = value => false;\n\n  @Input()\n  set value(value: T) {\n    value = this.valueFn((value as any) as U, this._value);\n\n    if (this.valueLimitFn(value, this._value) !== false || this.readonly) return;\n\n    this._value = value;\n    this.notifyValueChange();\n  }\n\n  get value(): T {\n    return this._value || this.defaultValue;\n  }\n\n  get defaultValue(): T {\n    return this._value;\n  }\n\n  constructor(public injector: Injector) {\n    // tslint:disable-next-line: deprecation\n    this.cdRef = injector.get(ChangeDetectorRef);\n  }\n\n  notifyValueChange(): void {\n    if (this.onChange) {\n      this.onChange(this.value);\n    }\n  }\n\n  writeValue(value: T): void {\n    this._value = this.valueLimitFn(value, this._value) || value;\n    setTimeout(() => this.cdRef.markForCheck(), 0);\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n}\n","import { Config } from '../models/config';\n\n/**\n * @deprecated Use ConfigStateService. To be deleted in v5.0.\n */\nexport class GetAppConfiguration {\n  static readonly type = '[Config] Get App Configuration';\n}\n\n/**\n * @deprecated Use EnvironmentService instead. To be deleted in v5.0.\n */\nexport class SetEnvironment {\n  static readonly type = '[Config] Set Environment';\n  constructor(public environment: Config.Environment) {}\n}\n\n/**\n * @deprecated Use EnvironmentService instead. To be deleted in v5.0.\n */\nexport class PatchConfigState {\n  static readonly type = '[Config] Set State';\n  constructor(public state: Config.State) {}\n}\n","import { HttpRequest } from '@angular/common/http';\n\nexport class StartLoader {\n  static readonly type = '[Loader] Start';\n  constructor(public payload: HttpRequest<any>) {}\n}\n\nexport class StopLoader {\n  static readonly type = '[Loader] Stop';\n  constructor(public payload: HttpRequest<any>) {}\n}\n","import { Profile } from '../models';\n\nexport class GetProfile {\n  static readonly type = '[Profile] Get';\n}\n\nexport class UpdateProfile {\n  static readonly type = '[Profile] Update';\n  constructor(public payload: Profile.Response) {}\n}\n\nexport class ChangePassword {\n  static readonly type = '[Profile] Change Password';\n  constructor(public payload: Profile.ChangePasswordRequest) {}\n}\n","import { HttpErrorResponse } from '@angular/common/http';\n\nexport class RestOccurError {\n  static readonly type = '[Rest] Error';\n  constructor(public payload: HttpErrorResponse | any) {}\n}\n","import { InjectionToken } from '@angular/core';\nimport { ABP } from '../models/common';\n\nexport const CORE_OPTIONS = new InjectionToken<ABP.Root>('CORE_OPTIONS');\n\nexport function coreOptionsFactory({ ...options }: ABP.Root) {\n  return {\n    ...options,\n  } as ABP.Root;\n}\n","export function noop() {\n  // tslint:disable-next-line: only-arrow-functions\n  const fn = function() {};\n  return fn;\n}\n\nexport function isUndefinedOrEmptyString(value: unknown): boolean {\n  return value === undefined || value === '';\n}\n\nexport function isNullOrUndefined(obj) {\n  return obj === null || obj === undefined;\n}\n\nexport function exists(obj) {\n  return !isNullOrUndefined(obj);\n}\n\nexport function isObject(obj) {\n  return obj instanceof Object;\n}\n\nexport function isArray(obj) {\n  return Array.isArray(obj);\n}\n\nexport function isObjectAndNotArray(obj) {\n  return isObject(obj) && !isArray(obj);\n}\n\nexport function isNode(obj) {\n  return obj instanceof Node;\n}\n\nexport function isObjectAndNotArrayNotNode(obj) {\n  return isObjectAndNotArray(obj) && !isNode(obj);\n}\n","import {\n  exists,\n  isArray,\n  isNode,\n  isNullOrUndefined,\n  isObject,\n  isObjectAndNotArrayNotNode,\n} from './common-utils';\n\nexport function deepMerge(target, source) {\n  if (isObjectAndNotArrayNotNode(target) && isObjectAndNotArrayNotNode(source)) {\n    return deepMergeRecursively(target, source);\n  } else if (isNullOrUndefined(target) && isNullOrUndefined(source)) {\n    return {};\n  } else {\n    return exists(source) ? source : target;\n  }\n}\n\nfunction deepMergeRecursively(target, source) {\n  const shouldNotRecurse =\n    isNullOrUndefined(target) ||\n    isNullOrUndefined(source) || // at least one not defined\n    isArray(target) ||\n    isArray(source) || // at least one array\n    !isObject(target) ||\n    !isObject(source) || // at least one not an object\n    isNode(target) ||\n    isNode(source); // at least one node\n\n  /**\n   * if we will not recurse any further,\n   * we will prioritize source if it is a defined value.\n   */\n  if (shouldNotRecurse) {\n    return exists(source) ? source : target;\n  }\n\n  const keysOfTarget = Object.keys(target);\n  const keysOfSource = Object.keys(source);\n  const uniqueKeys = new Set(keysOfTarget.concat(keysOfSource));\n  return [...uniqueKeys].reduce((retVal, key) => {\n    retVal[key] = deepMergeRecursively(target[key], source[key]);\n    return retVal;\n  }, {});\n}\n","import compare from 'just-compare';\nimport { BehaviorSubject, Subject } from 'rxjs';\nimport { distinctUntilChanged, filter, map } from 'rxjs/operators';\nimport { DeepPartial } from '../models';\nimport { deepMerge } from './object-utils';\n\nexport class InternalStore<State> {\n  private state$ = new BehaviorSubject<State>(this.initialState);\n\n  private update$ = new Subject<DeepPartial<State>>();\n\n  get state() {\n    return this.state$.value;\n  }\n\n  sliceState = <Slice>(\n    selector: (state: State) => Slice,\n    compareFn: (s1: Slice, s2: Slice) => boolean = compare,\n  ) => this.state$.pipe(map(selector), distinctUntilChanged(compareFn));\n\n  sliceUpdate = <Slice>(\n    selector: (state: DeepPartial<State>) => Slice,\n    filterFn = (x: Slice) => x !== undefined,\n  ) => this.update$.pipe(map(selector), filter(filterFn));\n\n  constructor(private initialState: State) {}\n\n  patch(state: Partial<State>) {\n    let patchedState = state as State;\n\n    if (typeof state === 'object' && !Array.isArray(state)) {\n      patchedState = { ...this.state, ...state };\n    }\n\n    this.state$.next(patchedState);\n    this.update$.next(patchedState as DeepPartial<State>);\n  }\n\n  deepPatch(state: DeepPartial<State>) {\n    this.state$.next(deepMerge(this.state, state));\n    this.update$.next(state);\n  }\n\n  set(state: State) {\n    this.state$.next(state);\n    this.update$.next(state as DeepPartial<State>);\n  }\n\n  reset() {\n    this.set(this.initialState);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Apis, Environment } from '../models/environment';\nimport { InternalStore } from '../utils/internal-store-utils';\n\nconst mapToApiUrl = (key: string) => (apis: Apis) =>\n  (apis[key] || apis.default).url || apis.default.url;\n\n@Injectable({ providedIn: 'root' })\nexport class EnvironmentService {\n  private readonly store = new InternalStore({} as Environment);\n\n  get createOnUpdateStream() {\n    return this.store.sliceUpdate;\n  }\n\n  getEnvironment$(): Observable<Environment> {\n    return this.store.sliceState(state => state);\n  }\n\n  getEnvironment(): Environment {\n    return this.store.state;\n  }\n\n  getApiUrl(key?: string) {\n    return mapToApiUrl(key)(this.store.state.apis);\n  }\n\n  getApiUrl$(key?: string) {\n    return this.store.sliceState(state => state.apis).pipe(map(mapToApiUrl(key)));\n  }\n\n  setState(environment: Environment) {\n    this.store.set(environment);\n  }\n}\n","import { HttpClient, HttpRequest } from '@angular/common/http';\nimport { Inject, Injectable } from '@angular/core';\nimport { Store } from '@ngxs/store';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { RestOccurError } from '../actions/rest.actions';\nimport { ABP } from '../models/common';\nimport { Rest } from '../models/rest';\nimport { CORE_OPTIONS } from '../tokens/options.token';\nimport { isUndefinedOrEmptyString } from '../utils/common-utils';\nimport { EnvironmentService } from './environment.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class RestService {\n  constructor(\n    @Inject(CORE_OPTIONS) protected options: ABP.Root,\n    protected http: HttpClient,\n    protected environment: EnvironmentService,\n    protected store: Store,\n  ) {}\n\n  protected getApiFromStore(apiName: string): string {\n    return this.environment.getApiUrl(apiName);\n  }\n\n  handleError(err: any): Observable<any> {\n    this.store.dispatch(new RestOccurError(err));\n    return throwError(err);\n  }\n\n  // TODO: Deprecate service or improve interface in v5.0\n  request<T, R>(\n    request: HttpRequest<T> | Rest.Request<T>,\n    config?: Rest.Config,\n    api?: string,\n  ): Observable<R> {\n    config = config || ({} as Rest.Config);\n    api = api || this.getApiFromStore(config.apiName);\n    const { method, params, ...options } = request;\n    const { observe = Rest.Observe.Body, skipHandleError } = config;\n\n    return this.http\n      .request<R>(method, api + request.url, {\n        observe,\n        ...(params && {\n          params: Object.keys(params).reduce((acc, key) => {\n            const value = params[key];\n\n            if (isUndefinedOrEmptyString(value)) return acc;\n            if (value === null && !this.options.sendNullsAsQueryParam) return acc;\n\n            acc[key] = value;\n            return acc;\n          }, {}),\n        }),\n        ...options,\n      } as any)\n      .pipe(catchError(err => (skipHandleError ? throwError(err) : this.handleError(err))));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { RestService } from '../../../../../../services/rest.service';\nimport type { ApplicationConfigurationDto } from './models';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AbpApplicationConfigurationService {\n  apiName = 'abp';\n\n  get() {\n    return this.restService.request<any, ApplicationConfigurationDto>(\n      {\n        method: 'GET',\n        url: '/api/abp/application-configuration',\n      },\n      { apiName: this.apiName },\n    );\n  }\n\n  constructor(private restService: RestService) {}\n}\n","import snq from 'snq';\nimport { ApplicationLocalizationConfigurationDto } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/models';\n\n// This will not be necessary when only Angukar 9.1+ is supported\nexport function getLocaleDirection(locale: string): 'ltr' | 'rtl' {\n  return /^(ar(-[A-Z]{2})?|ckb(-IR)?|fa(-AF)?|he|ks|lrc(-IQ)?|mzn|pa-Arab|ps(-PK)?|sd|ug|ur(-IN)?|uz-Arab|yi)$/.test(\n    locale,\n  )\n    ? 'rtl'\n    : 'ltr';\n}\n\nexport function createLocalizer(localization: ApplicationLocalizationConfigurationDto) {\n  return (resourceName: string, key: string, defaultValue: string) => {\n    if (resourceName === '_') return key;\n\n    const resource = snq(() => localization.values[resourceName]);\n\n    if (!resource) return defaultValue;\n\n    return resource[key] || defaultValue;\n  };\n}\n\nexport function createLocalizerWithFallback(localization: ApplicationLocalizationConfigurationDto) {\n  const findLocalization = createLocalizationFinder(localization);\n\n  return (resourceNames: string[], keys: string[], defaultValue: string) => {\n    const { localized } = findLocalization(resourceNames, keys);\n    return localized || defaultValue;\n  };\n}\n\nexport function createLocalizationPipeKeyGenerator(\n  localization: ApplicationLocalizationConfigurationDto,\n) {\n  const findLocalization = createLocalizationFinder(localization);\n\n  return (resourceNames: string[], keys: string[], defaultKey: string) => {\n    const { resourceName, key } = findLocalization(resourceNames, keys);\n    return !resourceName ? defaultKey : resourceName === '_' ? key : `${resourceName}::${key}`;\n  };\n}\n\nfunction createLocalizationFinder(localization: ApplicationLocalizationConfigurationDto) {\n  const localize = createLocalizer(localization);\n\n  return (resourceNames: string[], keys: string[]) => {\n    resourceNames = resourceNames.concat(localization.defaultResourceName).filter(Boolean);\n\n    const resourceCount = resourceNames.length;\n    const keyCount = keys.length;\n\n    for (let i = 0; i < resourceCount; i++) {\n      const resourceName = resourceNames[i];\n\n      for (let j = 0; j < keyCount; j++) {\n        const key = keys[j];\n        const localized = localize(resourceName, key, null);\n        if (localized) return { resourceName, key, localized };\n      }\n    }\n\n    return { resourceName: undefined, key: undefined, localized: undefined };\n  };\n}\n","export function createTokenParser(format: string) {\n  return (str: string) => {\n    const tokens: string[] = [];\n    const regex = format.replace(/\\./g, '\\\\.').replace(/\\{\\s?([0-9a-zA-Z]+)\\s?\\}/g, (_, token) => {\n      tokens.push(token);\n      return '(.+)';\n    });\n\n    const matches = (str.match(regex) || []).slice(1);\n\n    return matches.reduce((acc, v, i) => {\n      const key = tokens[i];\n      acc[key] = [...(acc[key] || []), v].filter(Boolean);\n      return acc;\n    }, {} as Record<string, string[]>);\n  };\n}\n\nexport function interpolate(text: string, params: string[]) {\n  return text\n    .replace(/(['\"]?\\{\\s*(\\d+)\\s*\\}['\"]?)/g, (_, match, digit) => params[digit] ?? match)\n    .replace(/\\s+/g, ' ');\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map, tap } from 'rxjs/operators';\nimport { ApplicationConfigurationDto } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/models';\nimport { InternalStore } from '../utils/internal-store-utils';\nimport { AbpApplicationConfigurationService } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/abp-application-configuration.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ConfigStateService {\n  private readonly store = new InternalStore({} as ApplicationConfigurationDto);\n\n  get createOnUpdateStream() {\n    return this.store.sliceUpdate;\n  }\n\n  constructor(private abpConfigService: AbpApplicationConfigurationService) {}\n\n  setState(state: ApplicationConfigurationDto) {\n    this.store.set(state);\n  }\n\n  refreshAppState() {\n    return this.abpConfigService.get().pipe(tap(res => this.setState(res)));\n  }\n\n  getOne$(key: string) {\n    return this.store.sliceState(state => state[key]);\n  }\n\n  getOne(key: string) {\n    return this.store.state[key];\n  }\n\n  getAll$(): Observable<ApplicationConfigurationDto> {\n    return this.store.sliceState(state => state);\n  }\n\n  getAll(): ApplicationConfigurationDto {\n    return this.store.state;\n  }\n\n  getDeep$(keys: string[] | string) {\n    keys = splitKeys(keys);\n\n    return this.store\n      .sliceState(state => state)\n      .pipe(\n        map(state => {\n          return (keys as string[]).reduce((acc, val) => {\n            if (acc) {\n              return acc[val];\n            }\n\n            return undefined;\n          }, state);\n        }),\n      );\n  }\n\n  getDeep(keys: string[] | string) {\n    keys = splitKeys(keys);\n\n    return (keys as string[]).reduce((acc, val) => {\n      if (acc) {\n        return acc[val];\n      }\n\n      return undefined;\n    }, this.store.state);\n  }\n\n  getFeature(key: string) {\n    return this.store.state.features?.values?.[key];\n  }\n\n  getFeature$(key: string) {\n    return this.store.sliceState(state => state.features?.values?.[key]);\n  }\n\n  getFeatures(keys: string[]) {\n    const { features } = this.store.state;\n    if (!features) return;\n\n    return keys.reduce((acc, key) => ({ ...acc, [key]: features.values[key] }), {});\n  }\n\n  getFeatures$(keys: string[]) {\n    return this.store.sliceState(({ features }) => {\n      if (!features?.values) return;\n\n      return keys.reduce((acc, key) => ({ ...acc, [key]: features.values[key] }), {});\n    });\n  }\n\n  getSetting(key: string) {\n    return this.store.state.setting?.values?.[key];\n  }\n\n  getSetting$(key: string) {\n    return this.store.sliceState(state => state.setting?.values?.[key]);\n  }\n\n  getSettings(keyword?: string) {\n    const settings = this.store.state.setting?.values || {};\n\n    if (!keyword) return settings;\n\n    const keysFound = Object.keys(settings).filter(key => key.indexOf(keyword) > -1);\n\n    return keysFound.reduce((acc, key) => {\n      acc[key] = settings[key];\n      return acc;\n    }, {});\n  }\n\n  getSettings$(keyword?: string) {\n    return this.store\n      .sliceState(state => state.setting?.values)\n      .pipe(\n        map((settings = {}) => {\n          if (!keyword) return settings;\n\n          const keysFound = Object.keys(settings).filter(key => key.indexOf(keyword) > -1);\n\n          return keysFound.reduce((acc, key) => {\n            acc[key] = settings[key];\n            return acc;\n          }, {});\n        }),\n      );\n  }\n}\n\nfunction splitKeys(keys: string[] | string): string[] {\n  if (typeof keys === 'string') {\n    keys = keys.split('.');\n  }\n\n  if (!Array.isArray(keys)) {\n    throw new Error('The argument must be a dot string or an string array.');\n  }\n\n  return keys;\n}\n","import { Injectable } from '@angular/core';\nimport compare from 'just-compare';\nimport { filter, take } from 'rxjs/operators';\nimport { Session } from '../models/session';\nimport { CurrentTenantDto } from '../proxy/volo/abp/asp-net-core/mvc/multi-tenancy/models';\nimport { InternalStore } from '../utils/internal-store-utils';\nimport { ConfigStateService } from './config-state.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SessionStateService {\n  private readonly store = new InternalStore({} as Session.State);\n\n  private updateLocalStorage = () => {\n    localStorage.setItem('abpSession', JSON.stringify(this.store.state));\n  };\n\n  constructor(private configState: ConfigStateService) {\n    this.init();\n    this.setInitialLanguage();\n  }\n\n  private init() {\n    const session = localStorage.getItem('abpSession');\n    if (session) {\n      this.store.set(JSON.parse(session));\n    }\n\n    this.store.sliceUpdate(state => state).subscribe(this.updateLocalStorage);\n  }\n\n  private setInitialLanguage() {\n    if (this.getLanguage()) return;\n\n    this.configState\n      .getDeep$('localization.currentCulture.cultureName')\n      .pipe(\n        filter(cultureName => !!cultureName),\n        take(1),\n      )\n      .subscribe(lang => {\n        if (lang.includes(';')) {\n          lang = lang.split(';')[0];\n        }\n\n        this.setLanguage(lang);\n      });\n  }\n\n  onLanguageChange$() {\n    return this.store.sliceUpdate(state => state.language);\n  }\n\n  onTenantChange$() {\n    return this.store.sliceUpdate(state => state.tenant);\n  }\n\n  getLanguage() {\n    return this.store.state.language;\n  }\n\n  getLanguage$() {\n    return this.store.sliceState(state => state.language);\n  }\n\n  getTenant() {\n    return this.store.state.tenant;\n  }\n\n  getTenant$() {\n    return this.store.sliceState(state => state.tenant);\n  }\n\n  setTenant(tenant: CurrentTenantDto) {\n    if (compare(tenant, this.store.state.tenant)) return;\n\n    this.store.set({ ...this.store.state, tenant });\n  }\n\n  setLanguage(language: string) {\n    if (language === this.store.state.language) return;\n\n    this.store.patch({ language });\n    document.documentElement.setAttribute('lang', language);\n  }\n}\n","import { registerLocaleData } from '@angular/common';\nimport { Injectable, Injector, isDevMode, Optional, SkipSelf } from '@angular/core';\nimport { from, Observable, Subject } from 'rxjs';\nimport { filter, map, mapTo, switchMap, tap } from 'rxjs/operators';\nimport { ABP } from '../models/common';\nimport { Config } from '../models/config';\nimport { AbpApplicationConfigurationService } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/abp-application-configuration.service';\nimport { ApplicationConfigurationDto } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/models';\nimport { CORE_OPTIONS } from '../tokens/options.token';\nimport { createLocalizer, createLocalizerWithFallback } from '../utils/localization-utils';\nimport { interpolate } from '../utils/string-utils';\nimport { ConfigStateService } from './config-state.service';\nimport { SessionStateService } from './session-state.service';\n\n@Injectable({ providedIn: 'root' })\nexport class LocalizationService {\n  private latestLang = this.sessionState.getLanguage();\n  private _languageChange$ = new Subject<string>();\n\n  /**\n   * Returns currently selected language\n   */\n  get currentLang(): string {\n    return this.latestLang || this.sessionState.getLanguage();\n  }\n\n  get languageChange$(): Observable<string> {\n    return this._languageChange$.asObservable();\n  }\n\n  constructor(\n    private sessionState: SessionStateService,\n    private injector: Injector,\n    @Optional()\n    @SkipSelf()\n    otherInstance: LocalizationService,\n    private configState: ConfigStateService,\n    private appConfigService: AbpApplicationConfigurationService,\n  ) {\n    if (otherInstance) throw new Error('LocalizationService should have only one instance.');\n\n    this.listenToSetLanguage();\n  }\n\n  private listenToSetLanguage() {\n    this.sessionState\n      .onLanguageChange$()\n      .pipe(\n        filter(\n          lang => this.configState.getDeep('localization.currentCulture.cultureName') !== lang,\n        ),\n        switchMap(lang =>\n          this.appConfigService\n            .get()\n            .pipe(tap(res => this.configState.setState(res)))\n            .pipe(mapTo(lang)),\n        ),\n        switchMap(lang => from(this.registerLocale(lang).then(() => lang))),\n      )\n      .subscribe(lang => this._languageChange$.next(lang));\n  }\n\n  registerLocale(locale: string) {\n    const { registerLocaleFn }: ABP.Root = this.injector.get(CORE_OPTIONS);\n\n    return registerLocaleFn(locale).then(module => {\n      if (module?.default) registerLocaleData(module.default);\n      this.latestLang = locale;\n    });\n  }\n\n  /**\n   * Returns an observable localized text with the given interpolation parameters in current language.\n   * @param key Localizaton key to replace with localized text\n   * @param interpolateParams Values to interpolate\n   */\n  get(\n    key: string | Config.LocalizationWithDefault,\n    ...interpolateParams: string[]\n  ): Observable<string> {\n    return this.configState\n      .getAll$()\n      .pipe(map(state => getLocalization(state, key, ...interpolateParams)));\n  }\n\n  getResource(resourceName: string) {\n    return this.configState.getDeep(`localization.values.${resourceName}`);\n  }\n\n  getResource$(resourceName: string) {\n    return this.configState.getDeep$(`localization.values.${resourceName}`);\n  }\n\n  /**\n   * Returns localized text with the given interpolation parameters in current language.\n   * @param key Localization key to replace with localized text\n   * @param interpolateParams Values to intepolate.\n   */\n  instant(key: string | Config.LocalizationWithDefault, ...interpolateParams: string[]): string {\n    return getLocalization(this.configState.getAll(), key, ...interpolateParams);\n  }\n\n  localize(resourceName: string, key: string, defaultValue: string): Observable<string> {\n    return this.configState.getOne$('localization').pipe(\n      map(createLocalizer),\n      map(localize => localize(resourceName, key, defaultValue)),\n    );\n  }\n\n  localizeSync(resourceName: string, key: string, defaultValue: string): string {\n    const localization = this.configState.getOne('localization');\n    return createLocalizer(localization)(resourceName, key, defaultValue);\n  }\n\n  localizeWithFallback(\n    resourceNames: string[],\n    keys: string[],\n    defaultValue: string,\n  ): Observable<string> {\n    return this.configState.getOne$('localization').pipe(\n      map(createLocalizerWithFallback),\n      map(localizeWithFallback => localizeWithFallback(resourceNames, keys, defaultValue)),\n    );\n  }\n\n  localizeWithFallbackSync(resourceNames: string[], keys: string[], defaultValue: string): string {\n    const localization = this.configState.getOne('localization');\n    return createLocalizerWithFallback(localization)(resourceNames, keys, defaultValue);\n  }\n}\n\nfunction getLocalization(\n  state: ApplicationConfigurationDto,\n  key: string | Config.LocalizationWithDefault,\n  ...interpolateParams: string[]\n) {\n  if (!key) key = '';\n  let defaultValue: string;\n\n  if (typeof key !== 'string') {\n    defaultValue = key.defaultValue;\n    key = key.key;\n  }\n\n  const keys = key.split('::') as string[];\n  const warn = (message: string) => {\n    if (isDevMode) console.warn(message);\n  };\n\n  if (keys.length < 2) {\n    warn('The localization source separator (::) not found.');\n    return defaultValue || (key as string);\n  }\n  if (!state.localization) return defaultValue || keys[1];\n\n  const sourceName = keys[0] || state.localization.defaultResourceName;\n  const sourceKey = keys[1];\n\n  if (sourceName === '_') {\n    return defaultValue || sourceKey;\n  }\n\n  if (!sourceName) {\n    warn('Localization source name is not specified and the defaultResourceName was not defined!');\n\n    return defaultValue || sourceKey;\n  }\n\n  const source = state.localization.values[sourceName];\n  if (!source) {\n    warn('Could not find localization source: ' + sourceName);\n    return defaultValue || sourceKey;\n  }\n\n  let localization = source[sourceKey];\n  if (typeof localization === 'undefined') {\n    return defaultValue || sourceKey;\n  }\n\n  interpolateParams = interpolateParams.filter(params => params != null);\n  if (localization) localization = interpolate(localization, interpolateParams);\n\n  if (typeof localization !== 'string') localization = '';\n\n  return localization || defaultValue || (key as string);\n}\n","import { NgZone } from '@angular/core';\nimport { PRIMARY_OUTLET, Router, UrlSegmentGroup } from '@angular/router';\nimport { ABP } from '../models/common';\nimport { RoutesService } from '../services/routes.service';\nimport { noop } from './common-utils';\nimport { TreeNode } from './tree-utils';\n\nexport function findRoute(routesService: RoutesService, path: string): TreeNode<ABP.Route> {\n  const node = routesService.find(route => route.path === path);\n\n  return node || path === '/'\n    ? node\n    : findRoute(routesService, path.split('/').slice(0, -1).join('/') || '/');\n}\n\nexport function getRoutePath(router: Router, url = router.url) {\n  const emptyGroup = { segments: [] } as UrlSegmentGroup;\n  const primaryGroup = router.parseUrl(url).root.children[PRIMARY_OUTLET];\n\n  return '/' + (primaryGroup || emptyGroup).segments.map(({ path }) => path).join('/');\n}\n\nexport function reloadRoute(router: Router, ngZone: NgZone) {\n  const { shouldReuseRoute } = router.routeReuseStrategy;\n  const setRouteReuse = (reuse: typeof shouldReuseRoute) => {\n    router.routeReuseStrategy.shouldReuseRoute = reuse;\n  };\n\n  setRouteReuse(() => false);\n  router.navigated = false;\n\n  ngZone.run(async () => {\n    await router.navigateByUrl(router.url).catch(noop);\n    setRouteReuse(shouldReuseRoute);\n  });\n}\n","import { Injectable, NgZone } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { ReplaceableComponents } from '../models/replaceable-components';\nimport { InternalStore } from '../utils/internal-store-utils';\nimport { reloadRoute } from '../utils/route-utils';\n\n@Injectable({ providedIn: 'root' })\nexport class ReplaceableComponentsService {\n  private readonly store: InternalStore<ReplaceableComponents.ReplaceableComponent[]>;\n\n  get replaceableComponents$(): Observable<ReplaceableComponents.ReplaceableComponent[]> {\n    return this.store.sliceState(state => state);\n  }\n\n  get replaceableComponents(): ReplaceableComponents.ReplaceableComponent[] {\n    return this.store.state;\n  }\n\n  get onUpdate$(): Observable<ReplaceableComponents.ReplaceableComponent[]> {\n    return this.store.sliceUpdate(state => state);\n  }\n\n  constructor(private ngZone: NgZone, private router: Router) {\n    this.store = new InternalStore([]);\n  }\n\n  add(replaceableComponent: ReplaceableComponents.ReplaceableComponent, reload?: boolean): void {\n    const replaceableComponents = [...this.store.state];\n\n    const index = replaceableComponents.findIndex(\n      component => component.key === replaceableComponent.key,\n    );\n\n    if (index > -1) {\n      replaceableComponents[index] = replaceableComponent;\n    } else {\n      replaceableComponents.push(replaceableComponent);\n    }\n\n    this.store.set(replaceableComponents);\n\n    if (reload) reloadRoute(this.router, this.ngZone);\n  }\n\n  get(replaceableComponentKey: string): ReplaceableComponents.ReplaceableComponent {\n    return this.replaceableComponents.find(component => component.key === replaceableComponentKey);\n  }\n\n  get$(replaceableComponentKey: string): Observable<ReplaceableComponents.ReplaceableComponent> {\n    return this.replaceableComponents$.pipe(\n      map(components => components.find(component => component.key === replaceableComponentKey)),\n    );\n  }\n}\n","import { Injectable, Type } from '@angular/core';\nimport {\n  NavigationCancel,\n  NavigationEnd,\n  NavigationError,\n  NavigationStart,\n  Router,\n  RouterEvent,\n} from '@angular/router';\nimport { filter } from 'rxjs/operators';\n\nexport const NavigationEvent = {\n  Cancel: NavigationCancel,\n  End: NavigationEnd,\n  Error: NavigationError,\n  Start: NavigationStart,\n};\n\n@Injectable({ providedIn: 'root' })\nexport class RouterEvents {\n  constructor(private router: Router) {}\n\n  getEvents<T extends RouterEventConstructors>(...eventTypes: T) {\n    type FilteredRouterEvent = T extends Type<infer Ctor>[] ? Ctor : never;\n\n    const filterRouterEvents = (event: RouterEvent): event is FilteredRouterEvent =>\n      eventTypes.some(type => event instanceof type);\n\n    return this.router.events.pipe(filter(filterRouterEvents));\n  }\n\n  getNavigationEvents<T extends NavigationEventKeys>(...navigationEventKeys: T) {\n    type FilteredNavigationEvent = T extends (infer Key)[]\n      ? Key extends NavigationEventKey\n        ? InstanceType<NavigationEventType[Key]>\n        : never\n      : never;\n\n    const filterNavigationEvents = (event: RouterEvent): event is FilteredNavigationEvent =>\n      navigationEventKeys.some(key => event instanceof NavigationEvent[key]);\n\n    return this.router.events.pipe(filter(filterNavigationEvents));\n  }\n\n  getAllEvents() {\n    return this.router.events;\n  }\n\n  getAllNavigationEvents() {\n    const keys = Object.keys(NavigationEvent) as NavigationEventKeys;\n    return this.getNavigationEvents(...keys);\n  }\n}\n\ntype RouterEventConstructors = [Type<RouterEvent>, ...Type<RouterEvent>[]];\n\ntype NavigationEventKeys = [NavigationEventKey, ...NavigationEventKey[]];\n\ntype NavigationEventType = typeof NavigationEvent;\n\nexport type NavigationEventKey = keyof NavigationEventType;\n","export function pushValueTo<T extends any>(array: T[]) {\n  return (element: T) => {\n    array.push(element);\n    return array;\n  };\n}\n","export class BaseTreeNode<T extends object> {\n  children: TreeNode<T>[] = [];\n  isLeaf = true;\n  parent?: TreeNode<T>;\n\n  constructor(props: T) {\n    Object.assign(this, props);\n  }\n\n  static create<T extends object>(props: T) {\n    return new BaseTreeNode<T>(props) as TreeNode<T>;\n  }\n}\n\nexport function createTreeFromList<T extends object, R extends unknown>(\n  list: T[],\n  keySelector: (item: T) => NodeKey,\n  parentKeySelector: typeof keySelector,\n  valueMapper: (item: T) => R,\n) {\n  const map = createMapFromList(list, keySelector, valueMapper);\n  const tree: NodeValue<T, typeof valueMapper>[] = [];\n\n  list.forEach(row => {\n    const id = keySelector(row);\n    const parentId = parentKeySelector(row);\n    const node = map.get(id);\n\n    if (!node) return;\n\n    if (parentId) {\n      const parent = map.get(parentId);\n      if (!parent) return;\n      (parent as any).children.push(node);\n      (parent as any).isLeaf = false;\n      (node as any).parent = parent;\n    } else {\n      tree.push(node);\n    }\n  });\n\n  return tree;\n}\n\nexport function createMapFromList<T extends object, R extends unknown>(\n  list: T[],\n  keySelector: (item: T) => NodeKey,\n  valueMapper: (item: T) => R,\n) {\n  type Key = ReturnType<typeof keySelector>;\n  type Value = NodeValue<T, typeof valueMapper>;\n  const map = new Map<Key, Value>();\n  list.forEach(row => map.set(keySelector(row), valueMapper(row)));\n  return map;\n}\n\nexport function createTreeNodeFilterCreator<T extends object>(\n  key: keyof T,\n  mapperFn: (value: any) => string,\n) {\n  return (search: string) => {\n    const regex = new RegExp('.*' + search + '.*', 'i');\n\n    return function collectNodes(nodes: TreeNode<T>[], matches = []) {\n      for (const node of nodes) {\n        if (regex.test(mapperFn(node[key]))) matches.push(node);\n\n        if (node.children.length) collectNodes(node.children, matches);\n      }\n\n      return matches;\n    };\n  };\n}\n\nexport type TreeNode<T extends object> = {\n  [K in keyof T]: T[K];\n} & {\n  children: TreeNode<T>[];\n  isLeaf: boolean;\n  parent?: TreeNode<T>;\n};\n\ntype NodeKey = number | string | symbol | undefined | null;\n\ntype NodeValue<T extends object, F extends (...args: any) => any> = F extends undefined\n  ? TreeNode<T>\n  : ReturnType<F>;\n","import { Injectable } from '@angular/core';\nimport { map } from 'rxjs/operators';\nimport snq from 'snq';\nimport { ApplicationConfigurationDto } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/models';\nimport { ConfigStateService } from './config-state.service';\nimport { ABP } from '../models/common';\n\n@Injectable({ providedIn: 'root' })\nexport class PermissionService {\n  constructor(protected configState: ConfigStateService) {}\n\n  getGrantedPolicy$(key: string) {\n    return this.getStream().pipe(\n      map(grantedPolicies => this.isPolicyGranted(key, grantedPolicies)),\n    );\n  }\n\n  getGrantedPolicy(key: string) {\n    const policies = this.getSnapshot();\n    return this.isPolicyGranted(key, policies);\n  }\n\n  filterItemsByPolicy<T extends ABP.HasPolicy>(items: Array<T>) {\n    const policies = this.getSnapshot();\n    return items.filter(\n      item => !item.requiredPolicy || this.isPolicyGranted(item.requiredPolicy, policies),\n    );\n  }\n\n  filterItemsByPolicy$<T extends ABP.HasPolicy>(items: Array<T>) {\n    return this.getStream().pipe(\n      map(policies =>\n        items.filter(\n          item => !item.requiredPolicy || this.isPolicyGranted(item.requiredPolicy, policies),\n        ),\n      ),\n    );\n  }\n\n  protected isPolicyGranted(key: string, grantedPolicies: Record<string, boolean>) {\n    if (!key) return true;\n\n    const orRegexp = /\\|\\|/g;\n    const andRegexp = /&&/g;\n\n    // TODO: Allow combination of ANDs & ORs\n    if (orRegexp.test(key)) {\n      const keys = key.split('||').filter(Boolean);\n\n      if (keys.length < 2) return false;\n\n      return keys.some(k => this.getPolicy(k.trim(), grantedPolicies));\n    } else if (andRegexp.test(key)) {\n      const keys = key.split('&&').filter(Boolean);\n\n      if (keys.length < 2) return false;\n\n      return keys.every(k => this.getPolicy(k.trim(), grantedPolicies));\n    }\n\n    return this.getPolicy(key, grantedPolicies);\n  }\n\n  protected getStream() {\n    return this.configState.getAll$().pipe(map(this.mapToPolicies));\n  }\n\n  protected getSnapshot() {\n    return this.mapToPolicies(this.configState.getAll());\n  }\n\n  protected mapToPolicies(applicationConfiguration: ApplicationConfigurationDto) {\n    return snq(() => applicationConfiguration.auth.grantedPolicies, {});\n  }\n\n  protected getPolicy(key: string, grantedPolicies: Record<string, boolean>) {\n    return snq(() => grantedPolicies[key], false);\n  }\n}\n","import { Injectable, Injector, OnDestroy } from '@angular/core';\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\nimport { ABP } from '../models/common';\nimport { pushValueTo } from '../utils/array-utils';\nimport { BaseTreeNode, createTreeFromList, TreeNode } from '../utils/tree-utils';\nimport { ConfigStateService } from './config-state.service';\nimport { PermissionService } from './permission.service';\n\nexport abstract class AbstractTreeService<T extends object> {\n  abstract id: string;\n  abstract parentId: string;\n  abstract hide: (item: T) => boolean;\n  abstract sort: (a: T, b: T) => number;\n\n  private _flat$ = new BehaviorSubject<T[]>([]);\n  private _tree$ = new BehaviorSubject<TreeNode<T>[]>([]);\n  private _visible$ = new BehaviorSubject<TreeNode<T>[]>([]);\n\n  get flat(): T[] {\n    return this._flat$.value;\n  }\n\n  get flat$(): Observable<T[]> {\n    return this._flat$.asObservable();\n  }\n\n  get tree(): TreeNode<T>[] {\n    return this._tree$.value;\n  }\n\n  get tree$(): Observable<TreeNode<T>[]> {\n    return this._tree$.asObservable();\n  }\n\n  get visible(): TreeNode<T>[] {\n    return this._visible$.value;\n  }\n\n  get visible$(): Observable<TreeNode<T>[]> {\n    return this._visible$.asObservable();\n  }\n\n  protected createTree(items: T[]): TreeNode<T>[] {\n    return createTreeFromList<T, TreeNode<T>>(\n      items,\n      item => item[this.id],\n      item => item[this.parentId],\n      item => BaseTreeNode.create(item),\n    );\n  }\n\n  private filterWith(setOrMap: Set<string> | Map<string, T>): T[] {\n    return this._flat$.value.filter(item => !setOrMap.has(item[this.id]));\n  }\n\n  private findItemsToRemove(set: Set<string>): Set<string> {\n    return this._flat$.value.reduce((acc, item) => {\n      if (!acc.has(item[this.parentId])) return acc;\n      const childSet = new Set([item[this.id]]);\n      const children = this.findItemsToRemove(childSet);\n      return new Set([...acc, ...children]);\n    }, set);\n  }\n\n  private publish(flatItems: T[], visibleItems: T[]): T[] {\n    this._flat$.next(flatItems);\n    this._tree$.next(this.createTree(flatItems));\n    this._visible$.next(this.createTree(visibleItems));\n    return flatItems;\n  }\n\n  add(items: T[]): T[] {\n    const map = new Map<string, T>();\n    items.forEach(item => map.set(item[this.id], item));\n\n    const flatItems = this.filterWith(map);\n    map.forEach(pushValueTo(flatItems));\n\n    flatItems.sort(this.sort);\n    const visibleItems = flatItems.filter(item => !this.hide(item));\n\n    return this.publish(flatItems, visibleItems);\n  }\n\n  find(predicate: (item: TreeNode<T>) => boolean, tree = this.tree): TreeNode<T> | null {\n    return tree.reduce(\n      (acc, node) => (acc ? acc : predicate(node) ? node : this.find(predicate, node.children)),\n      null,\n    );\n  }\n\n  patch(identifier: string, props: Partial<T>): T[] | false {\n    const flatItems = this._flat$.value;\n    const index = flatItems.findIndex(item => item[this.id] === identifier);\n    if (index < 0) return false;\n\n    flatItems[index] = { ...flatItems[index], ...props };\n\n    flatItems.sort(this.sort);\n    const visibleItems = flatItems.filter(item => !this.hide(item));\n\n    return this.publish(flatItems, visibleItems);\n  }\n\n  refresh(): T[] {\n    return this.add([]);\n  }\n\n  remove(identifiers: string[]): T[] {\n    const set = new Set<string>();\n    identifiers.forEach(id => set.add(id));\n\n    const setToRemove = this.findItemsToRemove(set);\n    const flatItems = this.filterWith(setToRemove);\n    const visibleItems = flatItems.filter(item => !this.hide(item));\n\n    return this.publish(flatItems, visibleItems);\n  }\n\n  search(params: Partial<T>, tree = this.tree): TreeNode<T> | null {\n    const searchKeys = Object.keys(params);\n\n    return tree.reduce(\n      (acc, node) =>\n        acc\n          ? acc\n          : searchKeys.every(key => node[key] === params[key])\n          ? node\n          : this.search(params, node.children),\n      null,\n    );\n  }\n}\n\n@Injectable()\nexport abstract class AbstractNavTreeService<T extends ABP.Nav>\n  extends AbstractTreeService<T>\n  implements OnDestroy\n{\n  private subscription: Subscription;\n  private permissionService: PermissionService;\n  readonly id = 'name';\n  readonly parentId = 'parentName';\n  readonly hide = (item: T) => item.invisible || !this.isGranted(item);\n  readonly sort = (a: T, b: T) => {\n    if (!Number.isInteger(a.order)) return 1;\n    if (!Number.isInteger(b.order)) return -1;\n\n    return a.order - b.order;\n  };\n\n  constructor(protected injector: Injector) {\n    super();\n    const configState = this.injector.get(ConfigStateService);\n    this.subscription = configState\n      .createOnUpdateStream(state => state)\n      .subscribe(() => this.refresh());\n    this.permissionService = injector.get(PermissionService);\n  }\n\n  protected isGranted({ requiredPolicy }: T): boolean {\n    return this.permissionService.getGrantedPolicy(requiredPolicy);\n  }\n\n  hasChildren(identifier: string): boolean {\n    const node = this.find(item => item[this.id] === identifier);\n    return Boolean(node?.children?.length);\n  }\n\n  hasInvisibleChild(identifier: string): boolean {\n    const node = this.find(item => item[this.id] === identifier);\n    return node?.children?.some(child => child.invisible);\n  }\n\n  /* istanbul ignore next */\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\n\n@Injectable({ providedIn: 'root' })\nexport class RoutesService extends AbstractNavTreeService<ABP.Route> {}\n\n@Injectable({ providedIn: 'root' })\nexport class SettingTabsService extends AbstractNavTreeService<ABP.Tab> {}\n","import { Injectable } from '@angular/core';\nimport type { OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport type { Observable, PartialObserver } from 'rxjs';\n\n@Injectable()\nexport class SubscriptionService implements OnDestroy {\n  private subscription = new Subscription();\n\n  get isClosed() {\n    return this.subscription.closed;\n  }\n\n  addOne<T extends unknown>(\n    source$: Observable<T>,\n    next?: (value: T) => void,\n    error?: (error: any) => void,\n  ): Subscription;\n  addOne<T extends unknown>(source$: Observable<T>, observer?: PartialObserver<T>): Subscription;\n  addOne<T extends unknown>(\n    source$: Observable<T>,\n    nextOrObserver?: PartialObserver<T> | Next<T>,\n    error?: (error: any) => void,\n  ): Subscription {\n    const subscription = source$.subscribe(nextOrObserver as Next<T>, error);\n    this.subscription.add(subscription);\n    return subscription;\n  }\n\n  closeAll() {\n    this.subscription.unsubscribe();\n  }\n\n  closeOne(subscription: Subscription | undefined | null) {\n    this.removeOne(subscription);\n    subscription.unsubscribe();\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  removeOne(subscription: Subscription | undefined | null) {\n    if (!subscription) return;\n    this.subscription.remove(subscription);\n  }\n\n  reset() {\n    this.subscription.unsubscribe();\n    this.subscription = new Subscription();\n  }\n}\n\ntype Next<T> = (value: T) => void;\n","import { Component, Injector, Optional, SkipSelf, Type } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { eLayoutType } from '../enums/common';\nimport { ABP } from '../models';\nimport { ReplaceableComponents } from '../models/replaceable-components';\nimport { LocalizationService } from '../services/localization.service';\nimport { ReplaceableComponentsService } from '../services/replaceable-components.service';\nimport { RouterEvents } from '../services/router-events.service';\nimport { RoutesService } from '../services/routes.service';\nimport { SubscriptionService } from '../services/subscription.service';\nimport { findRoute, getRoutePath } from '../utils/route-utils';\nimport { TreeNode } from '../utils/tree-utils';\n\n@Component({\n  selector: 'abp-dynamic-layout',\n  template: `\n    <ng-container *ngTemplateOutlet=\"layout ? componentOutlet : routerOutlet\"></ng-container>\n    <ng-template #routerOutlet><router-outlet></router-outlet></ng-template>\n    <ng-template #componentOutlet\n      ><ng-container *ngIf=\"isLayoutVisible\" [ngComponentOutlet]=\"layout\"></ng-container\n    ></ng-template>\n  `,\n  providers: [SubscriptionService],\n})\nexport class DynamicLayoutComponent {\n  layout: Type<any>;\n  layoutKey: eLayoutType;\n\n  // TODO: Consider a shared enum (eThemeSharedComponents) for known layouts\n  readonly layouts = new Map([\n    ['application', 'Theme.ApplicationLayoutComponent'],\n    ['account', 'Theme.AccountLayoutComponent'],\n    ['empty', 'Theme.EmptyLayoutComponent'],\n  ]);\n\n  isLayoutVisible = true;\n\n  private router: Router;\n  private route: ActivatedRoute;\n  private routes: RoutesService;\n\n  constructor(\n    injector: Injector,\n    private localizationService: LocalizationService,\n    private replaceableComponents: ReplaceableComponentsService,\n    private subscription: SubscriptionService,\n    private routerEvents: RouterEvents,\n    @Optional() @SkipSelf() dynamicLayoutComponent: DynamicLayoutComponent,\n  ) {\n    if (dynamicLayoutComponent) return;\n    this.route = injector.get(ActivatedRoute);\n    this.router = injector.get(Router);\n    this.routes = injector.get(RoutesService);\n\n    this.getLayout();\n    this.checkLayoutOnNavigationEnd();\n\n    this.listenToLanguageChange();\n  }\n\n  private checkLayoutOnNavigationEnd() {\n    const navigationEnd$ = this.routerEvents.getNavigationEvents('End');\n    this.subscription.addOne(navigationEnd$, () => this.getLayout());\n  }\n\n  private getLayout() {\n    let expectedLayout = (this.route.snapshot.data || {}).layout;\n\n    if (!expectedLayout) {\n      let node = findRoute(this.routes, getRoutePath(this.router));\n      node = { parent: node } as TreeNode<ABP.Route>;\n\n      while (node.parent) {\n        node = node.parent;\n\n        if (node.layout) {\n          expectedLayout = node.layout;\n          break;\n        }\n      }\n    }\n\n    if (!expectedLayout) expectedLayout = eLayoutType.empty;\n\n    if (this.layoutKey === expectedLayout) return;\n\n    const key = this.layouts.get(expectedLayout);\n    this.layout = this.getComponent(key)?.component;\n    this.layoutKey = expectedLayout;\n  }\n\n  private listenToLanguageChange() {\n    this.subscription.addOne(this.localizationService.languageChange$, () => {\n      this.isLayoutVisible = false;\n      setTimeout(() => (this.isLayoutVisible = true), 0);\n    });\n  }\n\n  private getComponent(key: string): ReplaceableComponents.ReplaceableComponent {\n    return this.replaceableComponents.get(key);\n  }\n}\n","import { Component, OnInit, Type } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { distinctUntilChanged } from 'rxjs/operators';\nimport { ReplaceableComponents } from '../models/replaceable-components';\nimport { ReplaceableComponentsService } from '../services/replaceable-components.service';\nimport { SubscriptionService } from '../services/subscription.service';\n\n@Component({\n  selector: 'abp-replaceable-route-container',\n  template: `\n    <ng-container *ngComponentOutlet=\"externalComponent || defaultComponent\"></ng-container>\n  `,\n  providers: [SubscriptionService],\n})\nexport class ReplaceableRouteContainerComponent implements OnInit {\n  defaultComponent: Type<any>;\n\n  componentKey: string;\n\n  externalComponent: Type<any>;\n\n  constructor(\n    private route: ActivatedRoute,\n    private replaceableComponents: ReplaceableComponentsService,\n    private subscription: SubscriptionService,\n  ) {}\n\n  ngOnInit() {\n    this.defaultComponent = this.route.snapshot.data.replaceableComponent.defaultComponent;\n    this.componentKey = (this.route.snapshot.data\n      .replaceableComponent as ReplaceableComponents.RouteData).key;\n\n    const component$ = this.replaceableComponents\n      .get$(this.componentKey)\n      .pipe(distinctUntilChanged());\n\n    this.subscription.addOne(\n      component$,\n      (res = {} as ReplaceableComponents.ReplaceableComponent) => {\n        this.externalComponent = res.component;\n      },\n    );\n  }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'abp-router-outlet',\n  template: `\n    <router-outlet></router-outlet>\n  `,\n})\nexport class RouterOutletComponent {}\n","// Different locales from .NET\n// Key is .NET locale, value is Angular locale\n\nexport const differentLocales = {\n  aa: 'en',\n  'aa-DJ': 'en',\n  'aa-ER': 'en',\n  'aa-ET': 'en',\n  'af-ZA': 'af',\n  'agq-CM': 'agq',\n  'ak-GH': 'ak',\n  'am-ET': 'am',\n  'ar-001': 'ar',\n  arn: 'en',\n  'arn-CL': 'en',\n  'as-IN': 'as',\n  'asa-TZ': 'asa',\n  'ast-ES': 'ast',\n  'az-Cyrl-AZ': 'az-Cyrl',\n  'az-Latn-AZ': 'az-Latn',\n  ba: 'ru',\n  'ba-RU': 'ru',\n  'bas-CM': 'bas',\n  'be-BY': 'be',\n  'bem-ZM': 'bem',\n  'bez-TZ': 'bez',\n  'bg-BG': 'bg',\n  bin: 'en',\n  'bin-NG': 'en',\n  'bm-Latn': 'bm',\n  'bm-Latn-ML': 'bm',\n  'bn-BD': 'bn',\n  'bo-CN': 'bo',\n  'br-FR': 'br',\n  'brx-IN': 'brx',\n  'bs-Cyrl-BA': 'bs-Cyrl',\n  'bs-Latn-BA': 'bs-Latn',\n  byn: 'en',\n  'byn-ER': 'en',\n  'ca-ES': 'ca',\n  'ca-ES-valencia': 'ca-ES-VALENCIA',\n  'ce-RU': 'ce',\n  'cgg-UG': 'cgg',\n  'chr-Cher': 'chr',\n  'chr-Cher-US': 'chr',\n  co: 'en',\n  'co-FR': 'fr',\n  'cs-CZ': 'cs',\n  'cu-RU': 'cu',\n  'cy-GB': 'cy',\n  'da-DK': 'da',\n  'dav-KE': 'dav',\n  'de-DE': 'de',\n  'dje-NE': 'dje',\n  'dsb-DE': 'dsb',\n  'dua-CM': 'dua',\n  dv: 'en',\n  'dv-MV': 'en',\n  'dyo-SN': 'dyo',\n  'dz-BT': 'dz',\n  'ebu-KE': 'ebu',\n  'ee-GH': 'ee',\n  'el-GR': 'el',\n  'en-029': 'en',\n  'en-ID': 'en',\n  'en-US': 'en',\n  'eo-001': 'en',\n  'es-ES': 'es',\n  'et-EE': 'et',\n  'eu-ES': 'eu',\n  'ewo-CM': 'ewo',\n  'fa-IR': 'fa',\n  'ff-Latn-SN': 'ff-Latn',\n  'ff-NG': 'ff',\n  'fi-FI': 'fi',\n  'fil-PH': 'fil',\n  'fo-FO': 'fo',\n  'fr-029': 'fr',\n  'fr-FR': 'fr',\n  'fur-IT': 'fur',\n  'fy-NL': 'fy',\n  'ga-IE': 'ga',\n  'gd-GB': 'gd',\n  'gl-ES': 'gl',\n  gn: 'en',\n  'gn-PY': 'en',\n  'gsw-CH': 'gsw',\n  'gu-IN': 'gu',\n  'guz-KE': 'guz',\n  'gv-IM': 'gv',\n  'ha-Latn': 'ha',\n  'ha-Latn-GH': 'ha-GH',\n  'ha-Latn-NE': 'ha-NE',\n  'ha-Latn-NG': 'ha',\n  'haw-US': 'haw',\n  'he-IL': 'he',\n  'hi-IN': 'hi',\n  'hr-HR': 'hr',\n  'hsb-DE': 'hsb',\n  'hu-HU': 'hu',\n  'hy-AM': 'hy',\n  'ia-001': 'ia',\n  'ia-FR': 'ia',\n  ibb: 'en',\n  'ibb-NG': 'en',\n  'id-ID': 'id',\n  'ig-NG': 'ig',\n  'ii-CN': 'ii',\n  'is-IS': 'is',\n  'it-IT': 'it',\n  iu: 'en',\n  'iu-Cans': 'en',\n  'iu-Cans-CA': 'en',\n  'iu-Latn': 'en',\n  'iu-Latn-CA': 'en',\n  'ja-JP': 'ja',\n  'jgo-CM': 'jgo',\n  'jmc-TZ': 'jmc',\n  'jv-Java': 'jv',\n  'jv-Java-ID': 'jv',\n  'jv-Latn': 'jv',\n  'jv-Latn-ID': 'jv',\n  'ka-GE': 'ka',\n  'kab-DZ': 'kab',\n  'kam-KE': 'kam',\n  'kde-TZ': 'kde',\n  'kea-CV': 'kea',\n  'khq-ML': 'khq',\n  'ki-KE': 'ki',\n  'kk-KZ': 'kk',\n  'kkj-CM': 'kkj',\n  'kl-GL': 'kl',\n  'kln-KE': 'kln',\n  'km-KH': 'km',\n  'kn-IN': 'kn',\n  'ko-KR': 'ko',\n  'kok-IN': 'kok',\n  kr: 'en',\n  'kr-NG': 'en',\n  'ks-Arab': 'ks',\n  'ks-Arab-IN': 'ks',\n  'ks-Deva': 'ks',\n  'ks-Deva-IN': 'ks',\n  'ksb-TZ': 'ksb',\n  'ksf-CM': 'ksf',\n  'ksh-DE': 'ksh',\n  'ku-Arab': 'ku',\n  'ku-Arab-IQ': 'ku',\n  'ku-Arab-IR': 'ku',\n  'kw-GB': 'kw',\n  'ky-KG': 'ky',\n  la: 'en',\n  'la-001': 'en',\n  'lag-TZ': 'lag',\n  'lb-LU': 'lb',\n  'lg-UG': 'lg',\n  'lkt-US': 'lkt',\n  'ln-CD': 'ln',\n  'lo-LA': 'lo',\n  'lrc-IR': 'lrc',\n  'lt-LT': 'lt',\n  'lu-CD': 'lu',\n  'luo-KE': 'luo',\n  'luy-KE': 'luy',\n  'lv-LV': 'lv',\n  'mas-KE': 'mas',\n  'mer-KE': 'mer',\n  'mfe-MU': 'mfe',\n  'mg-MG': 'mg',\n  'mgh-MZ': 'mgh',\n  'mgo-CM': 'mgo',\n  'mi-NZ': 'mi',\n  'mk-MK': 'mk',\n  'ml-IN': 'ml',\n  'mn-Cyrl': 'mn',\n  'mn-MN': 'mn',\n  'mn-Mong': 'mn',\n  'mn-Mong-CN': 'mn',\n  'mn-Mong-MN': 'mn',\n  mni: 'en',\n  'mni-IN': 'en',\n  moh: 'en',\n  'moh-CA': 'en',\n  'mr-IN': 'mr',\n  'ms-MY': 'ms',\n  'mt-MT': 'mt',\n  'mua-CM': 'mua',\n  'my-MM': 'my',\n  'mzn-IR': 'mzn',\n  'naq-NA': 'naq',\n  'nb-NO': 'nb',\n\n  'nd-ZW': 'nd',\n  'ne-NP': 'ne',\n  'nl-NL': 'nl',\n  'nmg-CM': 'ngm',\n  'nn-NO': 'nn',\n  'nnh-CM': 'nnh',\n  no: 'en',\n  nqo: 'en',\n  'nqo-GN': 'en',\n  nr: 'en',\n  'nr-ZA': 'en',\n  nso: 'en',\n  'nso-ZA': 'en',\n  'nus-SS': 'nus',\n  'nyn-UG': 'nyn',\n  oc: 'en',\n  'oc-FR': 'fr',\n  'om-ET': 'om',\n  'or-IN': 'or',\n  'os-GE': 'os',\n  'pa-Arab-PK': 'pa-Arab',\n  'pa-IN': 'pa',\n  pap: 'en',\n  'pap-029': 'en',\n  'pl-PL': 'pl',\n  'prg-001': 'prg',\n  prs: 'en',\n  'prs-AF': 'en',\n  'ps-AF': 'ps',\n  'pt-BR': 'pt',\n  quc: 'en',\n  'quc-Latn': 'en',\n  'quc-Latn-GT': 'en',\n  quz: 'en',\n  'quz-BO': 'en',\n  'quz-EC': 'en',\n  'quz-PE': 'en',\n  'rm-CH': 'rm',\n  'rn-BI': 'rn',\n  'ro-RO': 'ro',\n  'rof-TZ': 'rof',\n  'ru-RU': 'ru',\n  'rw-RW': 'rw',\n  'rwk-TZ': 'rwk',\n  sa: 'en',\n  'sa-IN': 'en',\n  'sah-RU': 'sah',\n  'saq-KE': 'saq',\n  'sbp-TZ': 'en',\n  'sd-Arab': 'sd',\n  'sd-Arab-PK': 'sd',\n  'sd-Deva': 'sd',\n  'sd-Deva-IN': 'sd',\n  'se-NO': 'se',\n  'seh-MZ': 'seh',\n  'ses-ML': 'ses',\n  'sg-CF': 'sg',\n  'shi-Latn-MA': 'shi-Latn',\n  'shi-Tfng-MA': 'shi-Tfng',\n  'si-LK': 'si',\n  'sk-SK': 'sk',\n  'sl-SI': 'sl',\n  sma: 'en',\n  'sma-NO': 'en',\n  'sma-SE': 'en',\n  smj: 'en',\n  'smj-NO': 'en',\n  'smj-SE': 'en',\n  'smn-FI': 'en',\n  sms: 'en',\n  'sms-FI': 'en',\n  'sn-Latn': 'sn',\n  'sn-Latn-ZW': 'sn',\n  'so-SO': 'so',\n  'sq-AL': 'so',\n  'sr-Cyrl-RS': 'sr-Cryl',\n  'sr-Latn-RS': 'sr-Latn',\n  ss: 'en',\n  'ss-SZ': 'en',\n  'ss-ZA': 'en',\n  ssy: 'en',\n  'ssy-ER': 'en',\n  st: 'en',\n  'st-LS': 'en',\n  'st-ZA': 'en',\n  'sv-SE': 'sv',\n  'sw-TZ': 'sw',\n  syr: 'en',\n  'syr-SY': 'en',\n  'ta-IN': 'ta',\n  'te-IN': 'te',\n  'teo-UG': 'teo',\n  'tg-Cyrl': 'tg',\n  'tg-Cyrl-TJ': 'tg',\n  'th-TH': 'th',\n  'ti-ET': 'ti',\n  tig: 'en',\n  'tig-ER': 'en',\n  'tk-TM': 'tk',\n  tn: 'en',\n  'tn-BW': 'en',\n  'tn-ZA': 'en',\n  'to-TO': 'to',\n  'tr-TR': 'tr',\n  ts: 'en',\n  'ts-ZA': 'en',\n  'tt-RU': 'tt',\n  'twq-NE': 'twq',\n  'tzm-Arab': 'tzm',\n  'tzm-Arab-MA': 'tzm',\n  'tzm-Latn': 'tzm',\n  'tzm-Latn-DZ': 'tzm',\n  'tzm-Latn-MA': 'tzm',\n  'tzm-Tfng': 'tzm',\n  'tzm-Tfng-MA': 'tzm',\n  'ug-CN': 'ug',\n  'uk-UA': 'uk',\n  'ur-PK': 'ur',\n  'uz-Arab-AF': 'uz-Arab',\n  'uz-Cyrl-UZ': 'uz-Cyrl',\n  'uz-Latn-UZ': 'uz-Latn',\n  'vai-Latn-LR': 'vai-Latn',\n  'vai-Vaii-LR': 'vai-Vaii',\n  ve: 'en',\n  've-ZA': 'en',\n  'vi-VN': 'vi',\n  'vo-001': 'vo',\n  'vun-TZ': 'vun',\n  'wae-CH': 'wae',\n  wal: 'en',\n  'wal-ET': 'en',\n  'wo-SN': 'wo',\n  'xh-ZA': 'xh',\n  'xog-UG': 'xog',\n  'yav-CM': 'yav',\n  'yi-001': 'yi',\n  'yo-NG': 'yo',\n  'zgh-Tfng': 'zgh',\n  'zgh-Tfng-MA': 'zgh',\n  'zh-CN': 'zh',\n  'zh-HK': 'zh',\n  'zh-MO': 'zh',\n  'zh-SG': 'zh',\n  'zh-TW': 'zh',\n  'zu-ZA': 'zu',\n};\n","import { Directive, ElementRef, Input, AfterViewInit } from '@angular/core';\n\n@Directive({\n  // tslint:disable-next-line: directive-selector\n  selector: '[autofocus]'\n})\nexport class AutofocusDirective implements AfterViewInit {\n  @Input('autofocus')\n  delay = 0;\n\n  constructor(private elRef: ElementRef) {}\n\n  ngAfterViewInit(): void {\n    setTimeout(() => this.elRef.nativeElement.focus(), this.delay);\n  }\n}\n","import { Directive, ElementRef, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { fromEvent } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { SubscriptionService } from '../services/subscription.service';\n\n@Directive({\n  // tslint:disable-next-line: directive-selector\n  selector: '[input.debounce]',\n  providers: [SubscriptionService],\n})\nexport class InputEventDebounceDirective implements OnInit {\n  @Input() debounce = 300;\n\n  @Output('input.debounce') readonly debounceEvent = new EventEmitter<Event>();\n\n  constructor(private el: ElementRef, private subscription: SubscriptionService) {}\n\n  ngOnInit(): void {\n    const input$ = fromEvent(this.el.nativeElement, 'input').pipe(debounceTime(this.debounce));\n\n    this.subscription.addOne(input$, (event: Event) => {\n      this.debounceEvent.emit(event);\n    });\n  }\n}\n","import {\n  Directive,\n  EmbeddedViewRef,\n  Input,\n  IterableChangeRecord,\n  IterableChanges,\n  IterableDiffer,\n  IterableDiffers,\n  OnChanges,\n  TemplateRef,\n  TrackByFunction,\n  ViewContainerRef,\n} from '@angular/core';\nimport compare from 'just-compare';\nimport clone from 'just-clone';\n\nexport type CompareFn<T = any> = (value: T, comparison: T) => boolean;\n\nclass AbpForContext {\n  constructor(public $implicit: any, public index: number, public count: number, public list: any[]) {}\n}\n\nclass RecordView {\n  constructor(public record: IterableChangeRecord<any>, public view: EmbeddedViewRef<AbpForContext>) {}\n}\n\n@Directive({\n  selector: '[abpFor]',\n})\nexport class ForDirective implements OnChanges {\n  @Input('abpForOf')\n  items: any[];\n\n  @Input('abpForOrderBy')\n  orderBy: string;\n\n  @Input('abpForOrderDir')\n  orderDir: 'ASC' | 'DESC';\n\n  @Input('abpForFilterBy')\n  filterBy: string;\n\n  @Input('abpForFilterVal')\n  filterVal: any;\n\n  @Input('abpForTrackBy')\n  trackBy;\n\n  @Input('abpForCompareBy')\n  compareBy: CompareFn;\n\n  @Input('abpForEmptyRef')\n  emptyRef: TemplateRef<any>;\n\n  private differ: IterableDiffer<any>;\n\n  private isShowEmptyRef: boolean;\n\n  get compareFn(): CompareFn {\n    return this.compareBy || compare;\n  }\n\n  get trackByFn(): TrackByFunction<any> {\n    return this.trackBy || ((index: number, item: any) => (item as any).id || index);\n  }\n\n  constructor(\n    private tempRef: TemplateRef<AbpForContext>,\n    private vcRef: ViewContainerRef,\n    private differs: IterableDiffers,\n  ) {}\n\n  private iterateOverAppliedOperations(changes: IterableChanges<any>) {\n    const rw: RecordView[] = [];\n\n    changes.forEachOperation((record: IterableChangeRecord<any>, previousIndex: number, currentIndex: number) => {\n      if (record.previousIndex == null) {\n        const view = this.vcRef.createEmbeddedView(\n          this.tempRef,\n          new AbpForContext(null, -1, -1, this.items),\n          currentIndex,\n        );\n\n        rw.push(new RecordView(record, view));\n      } else if (currentIndex == null) {\n        this.vcRef.remove(previousIndex);\n      } else {\n        const view = this.vcRef.get(previousIndex);\n        this.vcRef.move(view, currentIndex);\n\n        rw.push(new RecordView(record, view as EmbeddedViewRef<AbpForContext>));\n      }\n    });\n\n    for (let i = 0, l = rw.length; i < l; i++) {\n      rw[i].view.context.$implicit = rw[i].record.item;\n    }\n  }\n\n  private iterateOverAttachedViews(changes: IterableChanges<any>) {\n    for (let i = 0, l = this.vcRef.length; i < l; i++) {\n      const viewRef = this.vcRef.get(i) as EmbeddedViewRef<AbpForContext>;\n      viewRef.context.index = i;\n      viewRef.context.count = l;\n      viewRef.context.list = this.items;\n    }\n\n    changes.forEachIdentityChange((record: IterableChangeRecord<any>) => {\n      const viewRef = this.vcRef.get(record.currentIndex) as EmbeddedViewRef<AbpForContext>;\n      viewRef.context.$implicit = record.item;\n    });\n  }\n\n  private projectItems(items: any[]): void {\n    if (!items.length && this.emptyRef) {\n      this.vcRef.clear();\n      // tslint:disable-next-line: no-unused-expression\n      this.vcRef.createEmbeddedView(this.emptyRef).rootNodes;\n      this.isShowEmptyRef = true;\n      this.differ = null;\n\n      return;\n    }\n\n    if (this.emptyRef && this.isShowEmptyRef) {\n      this.vcRef.clear();\n      this.isShowEmptyRef = false;\n    }\n\n    if (!this.differ && items) {\n      this.differ = this.differs.find(items).create(this.trackByFn);\n    }\n\n    if (this.differ) {\n      const changes = this.differ.diff(items);\n\n      if (changes) {\n        this.iterateOverAppliedOperations(changes);\n        this.iterateOverAttachedViews(changes);\n      }\n    }\n  }\n\n  private sortItems(items: any[]) {\n    if (this.orderBy) {\n      items.sort((a, b) => (a[this.orderBy] > b[this.orderBy] ? 1 : a[this.orderBy] < b[this.orderBy] ? -1 : 0));\n    } else {\n      items.sort();\n    }\n  }\n\n  ngOnChanges() {\n    let items = clone(this.items) as any[];\n    if (!Array.isArray(items)) return;\n\n    const compareFn = this.compareFn;\n\n    if (typeof this.filterBy !== 'undefined' && typeof this.filterVal !== 'undefined' && this.filterVal !== '') {\n      items = items.filter(item => compareFn(item[this.filterBy], this.filterVal));\n    }\n\n    switch (this.orderDir) {\n      case 'ASC':\n        this.sortItems(items);\n        this.projectItems(items);\n        break;\n\n      case 'DESC':\n        this.sortItems(items);\n        items.reverse();\n        this.projectItems(items);\n        break;\n\n      default:\n        this.projectItems(items);\n    }\n  }\n}\n","import {\n  ChangeDetectorRef,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  Self,\n} from '@angular/core';\nimport { FormControl, FormGroup, FormGroupDirective } from '@angular/forms';\nimport { fromEvent } from 'rxjs';\nimport { debounceTime, filter } from 'rxjs/operators';\nimport { SubscriptionService } from '../services/subscription.service';\n\ntype Controls = { [key: string]: FormControl } | FormGroup[];\n\n@Directive({\n  // tslint:disable-next-line: directive-selector\n  selector: 'form[ngSubmit][formGroup]',\n  providers: [SubscriptionService],\n})\nexport class FormSubmitDirective implements OnInit {\n  @Input()\n  debounce = 200;\n\n  @Input()\n  notValidateOnSubmit: string | boolean;\n\n  @Output() readonly ngSubmit = new EventEmitter();\n\n  executedNgSubmit = false;\n\n  constructor(\n    @Self() private formGroupDirective: FormGroupDirective,\n    private host: ElementRef<HTMLFormElement>,\n    private cdRef: ChangeDetectorRef,\n    private subscription: SubscriptionService,\n  ) {}\n\n  ngOnInit() {\n    this.subscription.addOne(this.formGroupDirective.ngSubmit, () => {\n      this.markAsDirty();\n      this.executedNgSubmit = true;\n    });\n\n    const keyup$ = fromEvent(this.host.nativeElement as HTMLElement, 'keyup').pipe(\n      debounceTime(this.debounce),\n      filter(event => !(event.target instanceof HTMLTextAreaElement)),\n      filter((event: KeyboardEvent) => event && event.key === 'Enter'),\n    );\n\n    this.subscription.addOne(keyup$, () => {\n      if (!this.executedNgSubmit) {\n        this.host.nativeElement.dispatchEvent(\n          new Event('submit', { bubbles: true, cancelable: true }),\n        );\n      }\n\n      this.executedNgSubmit = false;\n    });\n  }\n\n  markAsDirty() {\n    const { form } = this.formGroupDirective;\n\n    setDirty(form.controls as { [key: string]: FormControl });\n    form.markAsDirty();\n\n    this.cdRef.detectChanges();\n  }\n}\n\nfunction setDirty(controls: Controls) {\n  if (Array.isArray(controls)) {\n    controls.forEach(group => {\n      setDirty(group.controls as { [key: string]: FormControl });\n    });\n    return;\n  }\n\n  Object.keys(controls).forEach(key => {\n    controls[key].markAsDirty();\n    controls[key].updateValueAndValidity();\n  });\n}\n","import { Directive, Output, EventEmitter, ElementRef, AfterViewInit } from '@angular/core';\n\n@Directive({ selector: '[abpInit]' })\nexport class InitDirective implements AfterViewInit {\n  @Output('abpInit') readonly init = new EventEmitter<ElementRef<any>>();\n\n  constructor(private elRef: ElementRef) {}\n\n  ngAfterViewInit() {\n    this.init.emit(this.elRef);\n  }\n}\n","import {\n  ChangeDetectorRef,\n  Directive,\n  ElementRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Optional,\n  Renderer2,\n  TemplateRef,\n  ViewContainerRef,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { distinctUntilChanged } from 'rxjs/operators';\nimport { PermissionService } from '../services/permission.service';\n\n@Directive({\n  selector: '[abpPermission]',\n})\nexport class PermissionDirective implements OnDestroy, OnChanges {\n  @Input('abpPermission') condition: string;\n\n  subscription: Subscription;\n\n  constructor(\n    private elRef: ElementRef<HTMLElement>,\n    private renderer: Renderer2,\n    @Optional() private templateRef: TemplateRef<any>,\n    private vcRef: ViewContainerRef,\n    private permissionService: PermissionService,\n    private cdRef: ChangeDetectorRef,\n  ) {}\n\n  private check() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n\n    this.subscription = this.permissionService\n      .getGrantedPolicy$(this.condition)\n      .pipe(distinctUntilChanged())\n      .subscribe(isGranted => {\n        if (this.templateRef) this.initStructural(isGranted);\n        else this.initAttribute(isGranted);\n\n        this.cdRef.detectChanges();\n      });\n  }\n\n  private initStructural(isGranted: boolean) {\n    this.vcRef.clear();\n\n    if (isGranted) this.vcRef.createEmbeddedView(this.templateRef);\n  }\n\n  /**\n   * @deprecated Will be deleted in v5.0\n   */\n  private initAttribute(isGranted: boolean) {\n    if (!isGranted) {\n      this.renderer.removeChild(this.elRef.nativeElement.parentElement, this.elRef.nativeElement);\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this.subscription) this.subscription.unsubscribe();\n  }\n\n  ngOnChanges() {\n    this.check();\n  }\n}\n","import {\n  ComponentFactoryResolver,\n  Directive,\n  Injector,\n  Input,\n  OnChanges,\n  OnInit,\n  SimpleChanges,\n  TemplateRef,\n  Type,\n  ViewContainerRef,\n} from '@angular/core';\nimport compare from 'just-compare';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport snq from 'snq';\nimport { ABP } from '../models/common';\nimport { ReplaceableComponents } from '../models/replaceable-components';\nimport { ReplaceableComponentsService } from '../services/replaceable-components.service';\nimport { SubscriptionService } from '../services/subscription.service';\n\n@Directive({ selector: '[abpReplaceableTemplate]', providers: [SubscriptionService] })\nexport class ReplaceableTemplateDirective implements OnInit, OnChanges {\n  @Input('abpReplaceableTemplate')\n  data: ReplaceableComponents.ReplaceableTemplateDirectiveInput<any, any>;\n\n  providedData = { inputs: {}, outputs: {} } as ReplaceableComponents.ReplaceableTemplateData<\n    any,\n    any\n  >;\n\n  context = {} as any;\n\n  externalComponent: Type<any>;\n\n  defaultComponentRef: any;\n\n  defaultComponentSubscriptions = {} as ABP.Dictionary<Subscription>;\n\n  initialized = false;\n\n  constructor(\n    private injector: Injector,\n    private templateRef: TemplateRef<any>,\n    private cfRes: ComponentFactoryResolver,\n    private vcRef: ViewContainerRef,\n    private replaceableComponents: ReplaceableComponentsService,\n    private subscription: SubscriptionService,\n  ) {\n    this.context = {\n      initTemplate: ref => {\n        this.resetDefaultComponent();\n        this.defaultComponentRef = ref;\n        this.setDefaultComponentInputs();\n      },\n    };\n  }\n\n  ngOnInit() {\n    const component$ = this.replaceableComponents\n      .get$(this.data.componentKey)\n      .pipe(\n        filter(\n          (res = {} as ReplaceableComponents.ReplaceableComponent) =>\n            !this.initialized || !compare(res.component, this.externalComponent),\n        ),\n      );\n\n    this.subscription.addOne(\n      component$,\n      (res = {} as ReplaceableComponents.ReplaceableComponent) => {\n        this.vcRef.clear();\n        this.externalComponent = res.component;\n        if (this.defaultComponentRef) {\n          this.resetDefaultComponent();\n        }\n\n        if (res.component) {\n          this.setProvidedData();\n          const customInjector = Injector.create({\n            providers: [{ provide: 'REPLACEABLE_DATA', useValue: this.providedData }],\n            parent: this.injector,\n          });\n          this.vcRef.createComponent(\n            this.cfRes.resolveComponentFactory(res.component),\n            0,\n            customInjector,\n          );\n        } else {\n          this.vcRef.createEmbeddedView(this.templateRef, this.context);\n        }\n\n        this.initialized = true;\n      },\n    );\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (snq(() => changes.data.currentValue.inputs) && this.defaultComponentRef) {\n      this.setDefaultComponentInputs();\n    }\n  }\n\n  setDefaultComponentInputs() {\n    if (!this.defaultComponentRef || (!this.data.inputs && !this.data.outputs)) return;\n\n    if (this.data.inputs) {\n      for (const key in this.data.inputs) {\n        if (this.data.inputs.hasOwnProperty(key)) {\n          if (!compare(this.defaultComponentRef[key], this.data.inputs[key].value)) {\n            this.defaultComponentRef[key] = this.data.inputs[key].value;\n          }\n        }\n      }\n    }\n\n    if (this.data.outputs) {\n      for (const key in this.data.outputs) {\n        if (this.data.outputs.hasOwnProperty(key)) {\n          if (!this.defaultComponentSubscriptions[key]) {\n            this.defaultComponentSubscriptions[key] = this.defaultComponentRef[key].subscribe(\n              value => {\n                this.data.outputs[key](value);\n              },\n            );\n          }\n        }\n      }\n    }\n  }\n\n  setProvidedData() {\n    this.providedData = { ...this.data, inputs: {} };\n\n    if (!this.data.inputs) return;\n    Object.defineProperties(this.providedData.inputs, {\n      ...Object.keys(this.data.inputs).reduce(\n        (acc, key) => ({\n          ...acc,\n          [key]: {\n            enumerable: true,\n            configurable: true,\n            get: () => this.data.inputs[key].value,\n            ...(this.data.inputs[key].twoWay && {\n              set: newValue => {\n                this.data.inputs[key].value = newValue;\n                this.data.outputs[`${key}Change`](newValue);\n              },\n            }),\n          },\n        }),\n        {},\n      ),\n    });\n  }\n\n  resetDefaultComponent() {\n    Object.keys(this.defaultComponentSubscriptions).forEach(key => {\n      this.defaultComponentSubscriptions[key].unsubscribe();\n    });\n    this.defaultComponentSubscriptions = {} as ABP.Dictionary<Subscription>;\n    this.defaultComponentRef = null;\n  }\n}\n","import { Directive, ElementRef, EventEmitter, OnInit, Output } from '@angular/core';\nimport { fromEvent } from 'rxjs';\nimport { SubscriptionService } from '../services/subscription.service';\n\n@Directive({\n  // tslint:disable-next-line: directive-selector\n  selector: '[click.stop]',\n  providers: [SubscriptionService],\n})\nexport class StopPropagationDirective implements OnInit {\n  @Output('click.stop') readonly stopPropEvent = new EventEmitter<MouseEvent>();\n\n  constructor(private el: ElementRef, private subscription: SubscriptionService) {}\n\n  ngOnInit(): void {\n    this.subscription.addOne(fromEvent(this.el.nativeElement, 'click'), (event: MouseEvent) => {\n      event.stopPropagation();\n      this.stopPropEvent.emit(event);\n    });\n  }\n}\n","import { AfterViewInit, Directive, ElementRef, Input, Optional, Renderer2 } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport snq from 'snq';\n\n/**\n *\n * @deprecated To be deleted in v5.0\n */\n@Directive({\n  selector: '[abpVisibility]',\n})\nexport class VisibilityDirective implements AfterViewInit {\n  @Input('abpVisibility')\n  focusedElement: HTMLElement;\n\n  completed$ = new Subject<boolean>();\n\n  constructor(@Optional() private elRef: ElementRef, private renderer: Renderer2) {}\n\n  ngAfterViewInit() {\n    if (!this.focusedElement && this.elRef) {\n      this.focusedElement = this.elRef.nativeElement;\n    }\n\n    let observer: MutationObserver;\n    observer = new MutationObserver(mutations => {\n      mutations.forEach(mutation => {\n        if (!mutation.target) return;\n\n        const htmlNodes = snq(\n          () => Array.from(mutation.target.childNodes).filter(node => node instanceof HTMLElement),\n          [],\n        );\n\n        if (!htmlNodes.length) {\n          this.removeFromDOM();\n        }\n      });\n    });\n\n    observer.observe(this.focusedElement, {\n      childList: true,\n    });\n\n    setTimeout(() => {\n      const htmlNodes = snq(\n        () =>\n          Array.from(this.focusedElement.childNodes).filter(node => node instanceof HTMLElement),\n        [],\n      );\n\n      if (!htmlNodes.length) this.removeFromDOM();\n    }, 0);\n\n    this.completed$.subscribe(() => observer.disconnect());\n  }\n\n  disconnect() {\n    this.completed$.next();\n    this.completed$.complete();\n  }\n\n  removeFromDOM() {\n    if (!this.elRef.nativeElement) return;\n\n    this.renderer.removeChild(this.elRef.nativeElement.parentElement, this.elRef.nativeElement);\n    this.disconnect();\n  }\n}\n","import { Inject, Injectable } from '@angular/core';\nimport { OAuthService } from 'angular-oauth2-oidc';\nimport compare from 'just-compare';\nimport { filter, map } from 'rxjs/operators';\nimport { ABP } from '../models/common';\nimport { EnvironmentService } from '../services/environment.service';\nimport { CORE_OPTIONS } from '../tokens/options.token';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class OAuthConfigurationHandler {\n  constructor(\n    private oAuthService: OAuthService,\n    private environmentService: EnvironmentService,\n    @Inject(CORE_OPTIONS) private options: ABP.Root,\n  ) {\n    this.listenToSetEnvironment();\n  }\n\n  private listenToSetEnvironment() {\n    this.environmentService\n      .createOnUpdateStream(state => state)\n      .pipe(\n        map(environment => environment.oAuthConfig),\n        filter(config => !compare(config, this.options.environment.oAuthConfig)),\n      )\n      .subscribe(config => {\n        this.oAuthService.configure(config);\n      });\n  }\n}\n","import { Injectable, Optional } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ABP } from '../models';\nimport { RoutesService } from '../services/routes.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class RoutesHandler {\n  constructor(private routes: RoutesService, @Optional() private router: Router) {\n    this.addRoutes();\n  }\n\n  addRoutes() {\n    this.router?.config?.forEach(({ path = '', data }) => {\n      if (!data?.routes) return;\n\n      if (Array.isArray(data.routes)) {\n        this.routes.add(data.routes);\n        return;\n      }\n\n      const routes = flatRoutes([{ path, ...data.routes }], { path: '' });\n      this.routes.add(routes);\n    });\n  }\n}\n\nfunction flatRoutes(routes: RouteDef[], parent: any) {\n  if (!routes) return [];\n\n  return routes.reduce((acc, route) => {\n    const { children, ...current } = {\n      ...route,\n      parentName: parent.name,\n      path: (parent.path + '/' + route.path).replace(/\\/\\//g, '/'),\n    };\n\n    acc.push(current, ...flatRoutes(children, current));\n\n    return acc;\n  }, []);\n}\n\ntype RouteDef = ABP.Route & { children: RouteDef[] };\n","import { HttpParameterCodec } from '@angular/common/http';\n\nexport function getPathName(url: string): string {\n  const { pathname } = new URL(url, window.location.origin);\n  return pathname;\n}\n\nexport class WebHttpUrlEncodingCodec implements HttpParameterCodec {\n  encodeKey(k: string): string {\n    return encodeURIComponent(k);\n  }\n\n  encodeValue(v: string): string {\n    return encodeURIComponent(v);\n  }\n\n  decodeKey(k: string): string {\n    return decodeURIComponent(k);\n  }\n\n  decodeValue(v: string) {\n    return decodeURIComponent(v);\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const LOADER_DELAY = new InjectionToken<number>('LOADER_DELAY');\n","import { Injectable, Injector } from '@angular/core';\nimport { HttpRequest } from '@angular/common/http';\nimport { InternalStore } from '../utils/internal-store-utils';\nimport { getPathName } from '../utils/http-utils';\nimport { map, mapTo, switchMap, takeUntil, tap } from 'rxjs/operators';\nimport { of, Subject, timer } from 'rxjs';\nimport { LOADER_DELAY } from '../tokens/lodaer-delay.token';\n\nexport interface HttpWaitState {\n  requests: HttpRequest<any>[];\n  filteredRequests: Array<HttpRequestInfo>;\n}\nexport interface HttpRequestInfo {\n  method: string;\n  endpoint: string;\n}\n@Injectable({\n  providedIn: 'root',\n})\nexport class HttpWaitService {\n  protected store = new InternalStore<HttpWaitState>({\n    requests: [],\n    filteredRequests: [],\n  });\n\n  private delay: number;\n  private destroy$ = new Subject();\n\n  constructor(injector: Injector) {\n    this.delay = injector.get(LOADER_DELAY, 500);\n  }\n\n  getLoading() {\n    return !!this.applyFilter(this.store.state.requests).length;\n  }\n\n  getLoading$() {\n    return this.store\n      .sliceState(({ requests }) => requests)\n      .pipe(\n        map(requests => !!this.applyFilter(requests).length),\n        switchMap(condition =>\n          condition\n            ? this.delay === 0\n              ? of(true)\n              : timer(this.delay).pipe(mapTo(true), takeUntil(this.destroy$))\n            : of(false),\n        ),\n        tap(() => this.destroy$.next()),\n      );\n  }\n\n  updateLoading$() {\n    return this.store.sliceUpdate(({ requests }) => !!this.applyFilter(requests).length);\n  }\n\n  clearLoading() {\n    this.store.patch({ requests: [] });\n  }\n\n  addRequest(request: HttpRequest<any>) {\n    this.store.patch({ requests: [...this.store.state.requests, request] });\n  }\n\n  deleteRequest(request: HttpRequest<any>) {\n    const requests = this.store.state.requests.filter(r => r !== request);\n    this.store.patch({ requests });\n  }\n\n  addFilter(request: HttpRequestInfo | HttpRequestInfo[]) {\n    const requests = Array.isArray(request) ? request : [request];\n    const filteredRequests = [\n      ...this.store.state.filteredRequests.filter(\n        f => !requests.some(r => this.isSameRequest(f, r)),\n      ),\n      ...requests,\n    ];\n    this.store.patch({ filteredRequests });\n  }\n\n  removeFilter(request: HttpRequestInfo | HttpRequestInfo[]) {\n    const requests = Array.isArray(request) ? request : [request];\n    const filteredRequests = this.store.state.filteredRequests.filter(\n      f => !requests.some(r => this.isSameRequest(f, r)),\n    );\n    this.store.patch({ filteredRequests });\n  }\n\n  private applyFilter(requests: HttpRequest<any>[]) {\n    const { filteredRequests } = this.store.state;\n    return requests.filter(\n      ({ method, url }) =>\n        !filteredRequests.find(filteredRequest =>\n          this.isSameRequest(filteredRequest, { method, endpoint: getPathName(url) }),\n        ),\n    );\n  }\n\n  private isSameRequest(filteredRequest: HttpRequestInfo, request: HttpRequestInfo) {\n    const { method, endpoint } = filteredRequest;\n    return endpoint === request.endpoint && method === request.method;\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const TENANT_KEY = new InjectionToken<string>('TENANT_KEY');\n","import { HttpHandler, HttpHeaders, HttpInterceptor, HttpRequest } from '@angular/common/http';\nimport { Injectable, Inject } from '@angular/core';\nimport { OAuthService } from 'angular-oauth2-oidc';\nimport { finalize } from 'rxjs/operators';\nimport { SessionStateService } from '../services/session-state.service';\nimport { HttpWaitService } from '../services/http-wait.service';\nimport { TENANT_KEY } from '../tokens/tenant-key.token';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ApiInterceptor implements HttpInterceptor {\n  constructor(\n    private oAuthService: OAuthService,\n    private sessionState: SessionStateService,\n    private httpWaitService: HttpWaitService,\n    @Inject(TENANT_KEY) private tenantKey: string,\n  ) {}\n\n  intercept(request: HttpRequest<any>, next: HttpHandler) {\n    this.httpWaitService.addRequest(request);\n    return next\n      .handle(\n        request.clone({\n          setHeaders: this.getAdditionalHeaders(request.headers),\n        }),\n      )\n      .pipe(finalize(() => this.httpWaitService.deleteRequest(request)));\n  }\n\n  getAdditionalHeaders(existingHeaders?: HttpHeaders) {\n    const headers = {} as any;\n\n    const token = this.oAuthService.getAccessToken();\n    if (!existingHeaders?.has('Authorization') && token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n\n    const lang = this.sessionState.getLanguage();\n    if (!existingHeaders?.has('Accept-Language') && lang) {\n      headers['Accept-Language'] = lang;\n    }\n\n    const tenant = this.sessionState.getTenant();\n    if (!existingHeaders?.has(this.tenantKey) && tenant?.id) {\n      headers[this.tenantKey] = tenant.id;\n    }\n\n    return headers;\n  }\n}\n","import { Injectable, Pipe, PipeTransform } from '@angular/core';\nimport { Config } from '../models';\nimport { LocalizationService } from '../services/localization.service';\n\n@Injectable()\n@Pipe({\n  name: 'abpLocalization',\n})\nexport class LocalizationPipe implements PipeTransform {\n  constructor(private localization: LocalizationService) {}\n\n  transform(\n    value: string | Config.LocalizationWithDefault = '',\n    ...interpolateParams: string[]\n  ): string {\n    return this.localization.instant(\n      value,\n      ...interpolateParams.reduce(\n        (acc, val) => (Array.isArray(val) ? [...acc, ...val] : [...acc, val]),\n        [],\n      ),\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { LocalizationPipe } from './pipes/localization.pipe';\n\n@NgModule({\n  exports: [LocalizationPipe],\n  declarations: [LocalizationPipe],\n})\nexport class LocalizationModule {}\n","import { Injectable, Pipe, PipeTransform } from '@angular/core';\nexport type SortOrder = 'asc' | 'desc';\n@Injectable()\n@Pipe({\n  name: 'abpSort',\n})\nexport class SortPipe implements PipeTransform {\n  transform(\n    value: any[],\n    sortOrder: SortOrder | string = 'asc',\n    sortKey?: string,\n  ): any {\n    sortOrder = sortOrder && (sortOrder.toLowerCase() as any);\n\n    if (!value || (sortOrder !== 'asc' && sortOrder !== 'desc')) return value;\n\n    let numberArray = [];\n    let stringArray = [];\n\n    if (!sortKey) {\n      numberArray = value.filter(item => typeof item === 'number').sort();\n      stringArray = value.filter(item => typeof item === 'string').sort();\n    } else {\n      numberArray = value\n        .filter(item => typeof item[sortKey] === 'number')\n        .sort((a, b) => a[sortKey] - b[sortKey]);\n      stringArray = value\n        .filter(item => typeof item[sortKey] === 'string')\n        .sort((a, b) => {\n          if (a[sortKey] < b[sortKey]) return -1;\n          else if (a[sortKey] > b[sortKey]) return 1;\n          else return 0;\n        });\n    }\n    const sorted = [\n      ...numberArray,\n      ...stringArray,\n      ...value.filter(\n        item =>\n          typeof (sortKey ? item[sortKey] : item) !== 'number' &&\n          typeof (sortKey ? item[sortKey] : item) !== 'string',\n      ),\n    ];\n    return sortOrder === 'asc' ? sorted : sorted.reverse();\n  }\n}\n","import { LOCALE_ID, Provider } from '@angular/core';\nimport { differentLocales } from '../constants/different-locales';\nimport { LocalizationService } from '../services/localization.service';\n\nexport class LocaleId extends String {\n  constructor(private localizationService: LocalizationService) {\n    super();\n  }\n\n  toString(): string {\n    const { currentLang } = this.localizationService;\n    return differentLocales[currentLang] || currentLang;\n  }\n\n  valueOf(): string {\n    return this.toString();\n  }\n}\n\nexport const LocaleProvider: Provider = {\n  provide: LOCALE_ID,\n  useClass: LocaleId,\n  deps: [LocalizationService],\n};\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { RestService } from './rest.service';\nimport { Profile, Rest } from '../models';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ProfileService {\n  apiName = 'AbpIdentity';\n\n  constructor(private rest: RestService) {}\n\n  get(): Observable<Profile.Response> {\n    const request: Rest.Request<null> = {\n      method: 'GET',\n      url: '/api/identity/my-profile',\n    };\n\n    return this.rest.request<null, Profile.Response>(request, { apiName: this.apiName });\n  }\n\n  update(body: Profile.Response): Observable<Profile.Response> {\n    const request: Rest.Request<Profile.Response> = {\n      method: 'PUT',\n      url: '/api/identity/my-profile',\n      body,\n    };\n\n    return this.rest.request<Profile.Response, Profile.Response>(request, {\n      apiName: this.apiName,\n    });\n  }\n\n  changePassword(\n    body: Profile.ChangePasswordRequest,\n    skipHandleError: boolean = false,\n  ): Observable<null> {\n    const request: Rest.Request<Profile.ChangePasswordRequest> = {\n      method: 'POST',\n      url: '/api/identity/my-profile/change-password',\n      body,\n    };\n\n    return this.rest.request<Profile.ChangePasswordRequest, null>(request, {\n      skipHandleError,\n      apiName: this.apiName,\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Action, Selector, State, StateContext } from '@ngxs/store';\nimport { tap } from 'rxjs/operators';\nimport { ChangePassword, GetProfile, UpdateProfile } from '../actions/profile.actions';\nimport { Profile } from '../models/profile';\nimport { ProfileService } from '../services/profile.service';\n\n@State<Profile.State>({\n  name: 'ProfileState',\n  defaults: {} as Profile.State,\n})\n@Injectable()\nexport class ProfileState {\n  @Selector()\n  static getProfile({ profile }: Profile.State): Profile.Response {\n    return profile;\n  }\n\n  constructor(private profileService: ProfileService) {}\n\n  @Action(GetProfile)\n  getProfile({ patchState }: StateContext<Profile.State>) {\n    return this.profileService.get().pipe(\n      tap(profile =>\n        patchState({\n          profile,\n        }),\n      ),\n    );\n  }\n\n  @Action(UpdateProfile)\n  updateProfile({ patchState }: StateContext<Profile.State>, { payload }: UpdateProfile) {\n    return this.profileService.update(payload).pipe(\n      tap(profile =>\n        patchState({\n          profile,\n        }),\n      ),\n    );\n  }\n\n  @Action(ChangePassword)\n  changePassword(_, { payload }: ChangePassword) {\n    return this.profileService.changePassword(payload, true);\n  }\n}\n","import { Injector } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { OAuthStorage, TokenResponse } from 'angular-oauth2-oidc';\nimport { pipe } from 'rxjs';\nimport { switchMap, tap } from 'rxjs/operators';\nimport { LoginParams } from '../models/auth';\nimport { AbpApplicationConfigurationService } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/abp-application-configuration.service';\nimport { ConfigStateService } from '../services/config-state.service';\n\nconst cookieKey = 'rememberMe';\nconst storageKey = 'passwordFlow';\n\nexport function pipeToLogin(\n  params: Pick<LoginParams, 'redirectUrl' | 'rememberMe'>,\n  injector: Injector,\n) {\n  const configState = injector.get(ConfigStateService);\n  const appConfigService = injector.get(AbpApplicationConfigurationService);\n  const router = injector.get(Router);\n\n  return pipe(\n    switchMap(() => appConfigService.get()),\n    tap(res => {\n      configState.setState(res);\n      setRememberMe(params.rememberMe);\n      if (params.redirectUrl) router.navigate([params.redirectUrl]);\n    }),\n  );\n}\n\nexport function setTokenResponseToStorage(injector: Injector, tokenRes: TokenResponse) {\n  const { access_token, refresh_token, scope: grantedScopes, expires_in } = tokenRes;\n  const storage = injector.get(OAuthStorage);\n\n  storage.setItem('access_token', access_token);\n  storage.setItem('refresh_token', refresh_token);\n  storage.setItem('access_token_stored_at', '' + Date.now());\n\n  if (grantedScopes) {\n    storage.setItem('granted_scopes', JSON.stringify(grantedScopes.split(' ')));\n  }\n\n  if (expires_in) {\n    const expiresInMilliSeconds = expires_in * 1000;\n    const now = new Date();\n    const expiresAt = now.getTime() + expiresInMilliSeconds;\n    storage.setItem('expires_at', '' + expiresAt);\n  }\n}\n\nexport function setRememberMe(remember: boolean) {\n  removeRememberMe();\n  localStorage.setItem(storageKey, 'true');\n  document.cookie = `${cookieKey}=true; path=/${\n    remember ? ' ;expires=Fri, 31 Dec 9999 23:59:59 GMT' : ''\n  }`;\n}\n\nexport function removeRememberMe() {\n  localStorage.removeItem(storageKey);\n  document.cookie = cookieKey + '= ; path=/; expires = Thu, 01 Jan 1970 00:00:00 GMT';\n}\n","import { HttpHeaders } from '@angular/common/http';\nimport { Injector } from '@angular/core';\nimport { Params, Router } from '@angular/router';\nimport { Store } from '@ngxs/store';\nimport {\n  AuthConfig,\n  OAuthErrorEvent,\n  OAuthInfoEvent,\n  OAuthService,\n  OAuthStorage,\n} from 'angular-oauth2-oidc';\nimport { from, Observable, of, pipe } from 'rxjs';\nimport { filter, switchMap, tap } from 'rxjs/operators';\nimport { RestOccurError } from '../actions/rest.actions';\nimport { LoginParams } from '../models/auth';\nimport { AbpApplicationConfigurationService } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/abp-application-configuration.service';\nimport { ConfigStateService } from '../services/config-state.service';\nimport { EnvironmentService } from '../services/environment.service';\nimport { SessionStateService } from '../services/session-state.service';\nimport { removeRememberMe, setRememberMe } from '../utils/auth-utils';\nimport { noop } from '../utils/common-utils';\nimport { TENANT_KEY } from '../tokens/tenant-key.token';\n\nexport const oAuthStorage = localStorage;\n\nexport abstract class AuthFlowStrategy {\n  abstract readonly isInternalAuth: boolean;\n\n  protected store: Store;\n  protected environment: EnvironmentService;\n  protected configState: ConfigStateService;\n  protected oAuthService: OAuthService;\n  protected oAuthConfig: AuthConfig;\n  protected sessionState: SessionStateService;\n  protected appConfigService: AbpApplicationConfigurationService;\n  protected tenantKey: string;\n\n  abstract checkIfInternalAuth(queryParams?: Params): boolean;\n  abstract navigateToLogin(queryParams?: Params): void;\n  abstract logout(queryParams?: Params): Observable<any>;\n  abstract login(params?: LoginParams | Params): Observable<any>;\n\n  private catchError = err => this.store.dispatch(new RestOccurError(err));\n\n  constructor(protected injector: Injector) {\n    this.store = injector.get(Store);\n    this.environment = injector.get(EnvironmentService);\n    this.configState = injector.get(ConfigStateService);\n    this.oAuthService = injector.get(OAuthService);\n    this.appConfigService = injector.get(AbpApplicationConfigurationService);\n    this.sessionState = injector.get(SessionStateService);\n    this.oAuthConfig = this.environment.getEnvironment().oAuthConfig;\n    this.tenantKey = injector.get(TENANT_KEY);\n\n    this.listenToOauthErrors();\n  }\n\n  async init(): Promise<any> {\n    const shouldClear = shouldStorageClear(\n      this.environment.getEnvironment().oAuthConfig.clientId,\n      oAuthStorage,\n    );\n    if (shouldClear) clearOAuthStorage(oAuthStorage);\n\n    this.oAuthService.configure(this.oAuthConfig);\n    return this.oAuthService\n      .loadDiscoveryDocument()\n      .then(() => {\n        if (this.oAuthService.hasValidAccessToken() || !this.oAuthService.getRefreshToken()) {\n          return Promise.resolve();\n        }\n\n        return this.refreshToken();\n      })\n      .catch(this.catchError);\n  }\n\n  protected refreshToken() {\n    return this.oAuthService.refreshToken().catch(() => clearOAuthStorage());\n  }\n\n  protected listenToOauthErrors() {\n    this.oAuthService.events\n      .pipe(\n        filter(event => event instanceof OAuthErrorEvent),\n        tap(() => clearOAuthStorage()),\n        switchMap(() => this.appConfigService.get()),\n      )\n      .subscribe(res => {\n        this.configState.setState(res);\n      });\n  }\n}\n\nexport class AuthCodeFlowStrategy extends AuthFlowStrategy {\n  readonly isInternalAuth = false;\n\n  async init() {\n    return super\n      .init()\n      .then(() => this.oAuthService.tryLogin().catch(noop))\n      .then(() => this.oAuthService.setupAutomaticSilentRefresh({}, 'access_token'));\n  }\n\n  navigateToLogin(queryParams?: Params) {\n    this.oAuthService.initCodeFlow('', this.getCultureParams(queryParams));\n  }\n\n  checkIfInternalAuth(queryParams?: Params) {\n    this.oAuthService.initCodeFlow('', this.getCultureParams(queryParams));\n    return false;\n  }\n\n  logout(queryParams?: Params) {\n    return from(this.oAuthService.revokeTokenAndLogout(this.getCultureParams(queryParams)));\n  }\n\n  login(queryParams?: Params) {\n    this.oAuthService.initCodeFlow('', this.getCultureParams(queryParams));\n    return of(null);\n  }\n\n  private getCultureParams(queryParams?: Params) {\n    const lang = this.sessionState.getLanguage();\n    const culture = { culture: lang, 'ui-culture': lang };\n    return { ...(lang && culture), ...queryParams };\n  }\n}\n\nexport class AuthPasswordFlowStrategy extends AuthFlowStrategy {\n  readonly isInternalAuth = true;\n  private cookieKey = 'rememberMe';\n  private storageKey = 'passwordFlow';\n\n  private listenToTokenExpiration() {\n    this.oAuthService.events\n      .pipe(\n        filter(\n          event =>\n            event instanceof OAuthInfoEvent &&\n            event.type === 'token_expires' &&\n            event.info === 'access_token',\n        ),\n      )\n      .subscribe(() => {\n        if (this.oAuthService.getRefreshToken()) {\n          this.refreshToken();\n        } else {\n          this.oAuthService.logOut();\n          removeRememberMe();\n          this.appConfigService.get().subscribe(res => {\n            this.configState.setState(res);\n          });\n        }\n      });\n  }\n\n  async init() {\n    if (!getCookieValueByName(this.cookieKey) && localStorage.getItem(this.storageKey)) {\n      this.oAuthService.logOut();\n    }\n\n    return super.init().then(() => this.listenToTokenExpiration());\n  }\n\n  navigateToLogin(queryParams?: Params) {\n    const router = this.injector.get(Router);\n    router.navigate(['/account/login'], { queryParams });\n  }\n\n  checkIfInternalAuth() {\n    return true;\n  }\n\n  login(params: LoginParams): Observable<any> {\n    const tenant = this.sessionState.getTenant();\n\n    return from(\n      this.oAuthService.fetchTokenUsingPasswordFlow(\n        params.username,\n        params.password,\n        new HttpHeaders({ ...(tenant && tenant.id && { [this.tenantKey]: tenant.id }) }),\n      ),\n    ).pipe(this.pipeToLogin(params));\n  }\n\n  pipeToLogin(params: Pick<LoginParams, 'redirectUrl' | 'rememberMe'>) {\n    const router = this.injector.get(Router);\n\n    return pipe(\n      switchMap(() => this.appConfigService.get()),\n      tap(res => {\n        this.configState.setState(res);\n        setRememberMe(params.rememberMe);\n        if (params.redirectUrl) router.navigate([params.redirectUrl]);\n      }),\n    );\n  }\n\n  logout(queryParams?: Params) {\n    const router = this.injector.get(Router);\n\n    return from(this.oAuthService.revokeTokenAndLogout(queryParams)).pipe(\n      switchMap(() => this.appConfigService.get()),\n      tap(res => {\n        this.configState.setState(res);\n        router.navigateByUrl('/');\n        removeRememberMe();\n      }),\n    );\n  }\n\n  protected refreshToken() {\n    return this.oAuthService.refreshToken().catch(() => {\n      clearOAuthStorage();\n      removeRememberMe();\n    });\n  }\n}\n\nexport const AUTH_FLOW_STRATEGY = {\n  Code(injector: Injector) {\n    return new AuthCodeFlowStrategy(injector);\n  },\n  Password(injector: Injector) {\n    return new AuthPasswordFlowStrategy(injector);\n  },\n};\n\nexport function clearOAuthStorage(storage: OAuthStorage = oAuthStorage) {\n  const keys = [\n    'access_token',\n    'id_token',\n    'refresh_token',\n    'nonce',\n    'PKCE_verifier',\n    'expires_at',\n    'id_token_claims_obj',\n    'id_token_expires_at',\n    'id_token_stored_at',\n    'access_token_stored_at',\n    'granted_scopes',\n    'session_state',\n  ];\n\n  keys.forEach(key => storage.removeItem(key));\n}\n\nfunction shouldStorageClear(clientId: string, storage: OAuthStorage): boolean {\n  const key = 'abpOAuthClientId';\n  if (!storage.getItem(key)) {\n    storage.setItem(key, clientId);\n    return false;\n  }\n\n  const shouldClear = storage.getItem(key) !== clientId;\n  if (shouldClear) storage.setItem(key, clientId);\n  return shouldClear;\n}\n\nfunction getCookieValueByName(name: string) {\n  const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));\n  return match ? match[2] : '';\n}\n","export {};\n\ndeclare global {\n  interface Date {\n    toLocalISOString?: () => string;\n  }\n}\n\nDate.prototype.toLocalISOString = function(this: Date): string {\n  const timezoneOffset = this.getTimezoneOffset();\n\n  return new Date(this.getTime() - timezoneOffset * 60000).toISOString();\n};\n","import { Injectable, Injector } from '@angular/core';\nimport { Params } from '@angular/router';\nimport { from, Observable } from 'rxjs';\nimport { filter, map, switchMap, take, tap } from 'rxjs/operators';\nimport { LoginParams } from '../models/auth';\nimport { AuthFlowStrategy, AUTH_FLOW_STRATEGY } from '../strategies/auth-flow.strategy';\nimport { EnvironmentService } from './environment.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthService {\n  private strategy: AuthFlowStrategy;\n\n  get isInternalAuth() {\n    return this.strategy.isInternalAuth;\n  }\n\n  constructor(protected injector: Injector) {}\n\n  async init() {\n    const environmentService = this.injector.get(EnvironmentService);\n\n    return environmentService\n      .getEnvironment$()\n      .pipe(\n        map(env => env?.oAuthConfig),\n        filter(oAuthConfig => !!oAuthConfig),\n        tap(oAuthConfig => {\n          this.strategy =\n            oAuthConfig.responseType === 'code'\n              ? AUTH_FLOW_STRATEGY.Code(this.injector)\n              : AUTH_FLOW_STRATEGY.Password(this.injector);\n        }),\n        switchMap(() => from(this.strategy.init())),\n        take(1),\n      )\n      .toPromise();\n  }\n\n  logout(queryParams?: Params): Observable<any> {\n    return this.strategy.logout(queryParams);\n  }\n\n  /**\n   * @deprecated Use navigateToLogin method instead. To be deleted in v5.0\n   */\n  initLogin() {\n    this.strategy.navigateToLogin();\n  }\n\n  navigateToLogin(queryParams?: Params) {\n    this.strategy.navigateToLogin(queryParams);\n  }\n\n  login(params: LoginParams) {\n    return this.strategy.login(params);\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\nexport type AppInitErrorFn = (error: any) => void;\n\nexport const APP_INIT_ERROR_HANDLERS = new InjectionToken<AppInitErrorFn[]>(\n  'APP_INIT_ERROR_HANDLERS',\n);\n","import { HttpClient } from '@angular/common/http';\nimport { Injector } from '@angular/core';\nimport { Store } from '@ngxs/store';\nimport { catchError, tap } from 'rxjs/operators';\nimport { RestOccurError } from '../actions/rest.actions';\nimport { Environment, RemoteEnv } from '../models/environment';\nimport { EnvironmentService } from '../services/environment.service';\nimport { deepMerge } from './object-utils';\n\nexport function getRemoteEnv(injector: Injector, environment: Partial<Environment>) {\n  const environmentService = injector.get(EnvironmentService);\n\n  const { remoteEnv } = environment;\n  const { headers = {}, method = 'GET', url } = remoteEnv || ({} as RemoteEnv);\n  if (!url) return Promise.resolve();\n\n  const http = injector.get(HttpClient);\n  const store = injector.get(Store);\n\n  return http\n    .request<Environment>(method, url, { headers })\n    .pipe(\n      catchError(err => store.dispatch(new RestOccurError(err))), // TODO: Condiser get handle function from a provider\n      tap(env => environmentService.setState(mergeEnvironments(environment, env, remoteEnv))),\n    )\n    .toPromise();\n}\n\nfunction mergeEnvironments(\n  local: Partial<Environment>,\n  remote: any,\n  config: RemoteEnv,\n): Environment {\n  switch (config.mergeStrategy) {\n    case 'deepmerge':\n      return deepMerge(local, remote);\n    case 'overwrite':\n    case null:\n    case undefined:\n      return remote;\n    default:\n      return config.mergeStrategy(local, remote);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { RestService } from '../../../../services/rest.service';\nimport type { FindTenantResultDto } from '../../../volo/abp/asp-net-core/mvc/multi-tenancy/models';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AbpTenantService {\n  apiName = 'abp';\n\n  findTenantById = (id: string, headers: Record<string, string>) =>\n    this.restService.request<any, FindTenantResultDto>(\n      {\n        method: 'GET',\n        url: `/api/abp/multi-tenancy/tenants/by-id/${id}`,\n        headers,\n      },\n      { apiName: this.apiName },\n    );\n\n  findTenantByName = (name: string, headers: Record<string, string>) =>\n    this.restService.request<any, FindTenantResultDto>(\n      {\n        method: 'GET',\n        url: `/api/abp/multi-tenancy/tenants/by-name/${name}`,\n        headers,\n      },\n      { apiName: this.apiName },\n    );\n\n  constructor(private restService: RestService) {}\n}\n","import { Injectable, Inject } from '@angular/core';\nimport { switchMap, map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\nimport { ABP } from '../models/common';\nimport {\n  FindTenantResultDto,\n  CurrentTenantDto,\n} from '../proxy/volo/abp/asp-net-core/mvc/multi-tenancy/models';\nimport { RestService } from './rest.service';\nimport { AbpTenantService } from '../proxy/pages/abp/multi-tenancy';\nimport { ConfigStateService } from './config-state.service';\nimport { SessionStateService } from './session-state.service';\nimport { TENANT_KEY } from '../tokens/tenant-key.token';\n\n@Injectable({ providedIn: 'root' })\nexport class MultiTenancyService {\n  domainTenant: CurrentTenantDto = null;\n\n  isTenantBoxVisible = true;\n\n  apiName = 'abp';\n\n  private setTenantToState = (tenant: FindTenantResultDto) => {\n    this.sessionState.setTenant({ id: tenant.tenantId, name: tenant.name, isAvailable: true });\n    return this.configStateService.refreshAppState().pipe(map(_ => tenant));\n  };\n\n  constructor(\n    private restService: RestService,\n    private sessionState: SessionStateService,\n    private tenantService: AbpTenantService,\n    private configStateService: ConfigStateService,\n    @Inject(TENANT_KEY) public tenantKey: string,\n  ) {}\n\n  /**\n   * @deprecated Use AbpTenantService.findTenantByName method instead. To be deleted in v5.0.\n   */\n  findTenantByName(name: string, headers: ABP.Dictionary<string>): Observable<FindTenantResultDto> {\n    return this.restService.request(\n      {\n        url: `/api/abp/multi-tenancy/tenants/by-name/${name}`,\n        method: 'GET',\n        headers,\n      },\n      { apiName: this.apiName },\n    );\n  }\n\n  /**\n   * @deprecated Use AbpTenantService.findTenantById method instead. To be deleted in v5.0.\n   */\n  findTenantById(id: string, headers: ABP.Dictionary<string>): Observable<FindTenantResultDto> {\n    return this.restService.request(\n      { url: `/api/abp/multi-tenancy/tenants/by-id/${id}`, method: 'GET', headers },\n      { apiName: this.apiName },\n    );\n  }\n\n  setTenantByName(tenantName: string) {\n    return this.tenantService\n      .findTenantByName(tenantName, { [this.tenantKey]: '' })\n      .pipe(switchMap(this.setTenantToState));\n  }\n\n  setTenantById(tenantId: string) {\n    return this.tenantService\n      .findTenantById(tenantId, { [this.tenantKey]: '' })\n      .pipe(switchMap(this.setTenantToState));\n  }\n}\n","import { Injector } from '@angular/core';\nimport clone from 'just-clone';\n\nimport { tap } from 'rxjs/operators';\nimport { Environment } from '../models/environment';\n\nimport { FindTenantResultDto } from '../proxy/volo/abp/asp-net-core/mvc/multi-tenancy/models';\nimport { EnvironmentService } from '../services/environment.service';\nimport { MultiTenancyService } from '../services/multi-tenancy.service';\nimport { createTokenParser } from './string-utils';\n\nconst tenancyPlaceholder = '{0}';\n\nfunction getCurrentTenancyName(appBaseUrl: string): string {\n  if (appBaseUrl.charAt(appBaseUrl.length - 1) !== '/') appBaseUrl += '/';\n\n  const parseTokens = createTokenParser(appBaseUrl);\n  const token = tenancyPlaceholder.replace(/[}{]/g, '');\n  return parseTokens(window.location.href)[token]?.[0];\n}\n\nfunction getCurrentTenancyNameFromUrl(tenantKey: string) {\n  const urlParams = new URLSearchParams(window.location.search);\n  return urlParams.get(tenantKey);\n}\n\nexport async function parseTenantFromUrl(injector: Injector) {\n  const environmentService = injector.get(EnvironmentService);\n  const multiTenancyService = injector.get(MultiTenancyService);\n\n  const baseUrl = environmentService.getEnvironment()?.application?.baseUrl || '';\n  const tenancyName = getCurrentTenancyName(baseUrl);\n\n  const hideTenantBox = () => {\n    multiTenancyService.isTenantBoxVisible = false;\n  };\n\n  const setDomainTenant = (tenant: FindTenantResultDto) => {\n    multiTenancyService.domainTenant = {\n      id: tenant.tenantId,\n      name: tenant.name,\n      isAvailable: true,\n    };\n  };\n\n  const setEnvironmentWithDomainTenant = (tenant: FindTenantResultDto) => {\n    hideTenantBox();\n    setDomainTenant(tenant);\n    replaceTenantNameWithinEnvironment(injector, tenant.name);\n  };\n\n  if (tenancyName) {\n    return multiTenancyService\n      .setTenantByName(tenancyName)\n      .pipe(tap(setEnvironmentWithDomainTenant))\n      .toPromise();\n  } else {\n    /**\n     * If there is no tenant, we still have to clean up {0}. from baseUrl to avoid incorrect http requests.\n     */\n    replaceTenantNameWithinEnvironment(injector, '', tenancyPlaceholder + '.');\n\n    const tenantIdFromQueryParams = getCurrentTenancyNameFromUrl(multiTenancyService.tenantKey);\n    if (tenantIdFromQueryParams) {\n      return multiTenancyService.setTenantById(tenantIdFromQueryParams).toPromise();\n    }\n  }\n\n  return Promise.resolve();\n}\n\nfunction replaceTenantNameWithinEnvironment(\n  injector: Injector,\n  tenancyName: string,\n  placeholder = tenancyPlaceholder,\n) {\n  const environmentService = injector.get(EnvironmentService);\n\n  const environment = clone(environmentService.getEnvironment()) as Environment;\n\n  if (environment.application.baseUrl) {\n    environment.application.baseUrl = environment.application.baseUrl.replace(\n      placeholder,\n      tenancyName,\n    );\n  }\n\n  if (environment.oAuthConfig.redirectUri) {\n    environment.oAuthConfig.redirectUri = environment.oAuthConfig.redirectUri.replace(\n      placeholder,\n      tenancyName,\n    );\n  }\n\n  environment.oAuthConfig.issuer = environment.oAuthConfig.issuer.replace(placeholder, tenancyName);\n\n  Object.keys(environment.apis).forEach(api => {\n    Object.keys(environment.apis[api]).forEach(key => {\n      environment.apis[api][key] = environment.apis[api][key].replace(placeholder, tenancyName);\n    });\n  });\n\n  return environmentService.setState(environment);\n}\n","import { registerLocaleData } from '@angular/common';\nimport { Injector } from '@angular/core';\nimport { OAuthService } from 'angular-oauth2-oidc';\nimport { tap, catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport { ABP } from '../models/common';\nimport { Environment } from '../models/environment';\nimport { AbpApplicationConfigurationService } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/abp-application-configuration.service';\nimport { CurrentTenantDto } from '../proxy/volo/abp/asp-net-core/mvc/multi-tenancy/models';\nimport { AuthService } from '../services/auth.service';\nimport { ConfigStateService } from '../services/config-state.service';\nimport { EnvironmentService } from '../services/environment.service';\nimport { SessionStateService } from '../services/session-state.service';\nimport { clearOAuthStorage } from '../strategies/auth-flow.strategy';\nimport { CORE_OPTIONS } from '../tokens/options.token';\nimport { APP_INIT_ERROR_HANDLERS } from '../tokens/app-config.token';\nimport { getRemoteEnv } from './environment-utils';\nimport { parseTenantFromUrl } from './multi-tenancy-utils';\n\nexport function getInitialData(injector: Injector) {\n  const fn = async () => {\n    const environmentService = injector.get(EnvironmentService);\n    const configState = injector.get(ConfigStateService);\n    const appConfigService = injector.get(AbpApplicationConfigurationService);\n    const options = injector.get(CORE_OPTIONS) as ABP.Root;\n\n    environmentService.setState(options.environment as Environment);\n    await getRemoteEnv(injector, options.environment);\n    await parseTenantFromUrl(injector);\n    await injector.get(AuthService).init();\n\n    if (options.skipGetAppConfiguration) return;\n\n    return appConfigService\n      .get()\n      .pipe(\n        tap(res => configState.setState(res)),\n        tap(() => checkAccessToken(injector)),\n        tap(() => {\n          const currentTenant = configState.getOne('currentTenant') as CurrentTenantDto;\n          injector.get(SessionStateService).setTenant(currentTenant);\n        }),\n        catchError(error => {\n          const appInitErrorHandlers = injector.get(APP_INIT_ERROR_HANDLERS, null);\n          if (appInitErrorHandlers && appInitErrorHandlers.length) {\n            appInitErrorHandlers.forEach(func => func(error));\n          }\n\n          return throwError(error);\n        }),\n      )\n      .toPromise();\n  };\n\n  return fn;\n}\n\nexport function checkAccessToken(injector: Injector) {\n  const configState = injector.get(ConfigStateService);\n  const oAuth = injector.get(OAuthService);\n  if (oAuth.hasValidAccessToken() && !configState.getDeep('currentUser.id')) {\n    clearOAuthStorage();\n  }\n}\n\nexport function localeInitializer(injector: Injector) {\n  const fn = () => {\n    const sessionState = injector.get(SessionStateService);\n    const { registerLocaleFn }: ABP.Root = injector.get(CORE_OPTIONS);\n\n    const lang = sessionState.getLanguage() || 'en';\n\n    return new Promise((resolve, reject) => {\n      registerLocaleFn(lang).then(module => {\n        if (module?.default) registerLocaleData(module.default);\n\n        return resolve('resolved');\n      }, reject);\n    });\n  };\n\n  return fn;\n}\n","import { CommonModule } from '@angular/common';\nimport { HttpClientModule, HttpClientXsrfModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { APP_INITIALIZER, Injector, ModuleWithProviders, NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { NgxsModule } from '@ngxs/store';\nimport { OAuthModule, OAuthStorage } from 'angular-oauth2-oidc';\nimport { AbstractNgModelComponent } from './abstracts/ng-model.component';\nimport { DynamicLayoutComponent } from './components/dynamic-layout.component';\nimport { ReplaceableRouteContainerComponent } from './components/replaceable-route-container.component';\nimport { RouterOutletComponent } from './components/router-outlet.component';\nimport { AutofocusDirective } from './directives/autofocus.directive';\nimport { InputEventDebounceDirective } from './directives/debounce.directive';\nimport { ForDirective } from './directives/for.directive';\nimport { FormSubmitDirective } from './directives/form-submit.directive';\nimport { InitDirective } from './directives/init.directive';\nimport { PermissionDirective } from './directives/permission.directive';\nimport { ReplaceableTemplateDirective } from './directives/replaceable-template.directive';\nimport { StopPropagationDirective } from './directives/stop-propagation.directive';\nimport { VisibilityDirective } from './directives/visibility.directive';\nimport { OAuthConfigurationHandler } from './handlers/oauth-configuration.handler';\nimport { RoutesHandler } from './handlers/routes.handler';\nimport { ApiInterceptor } from './interceptors/api.interceptor';\nimport { LocalizationModule } from './localization.module';\nimport { ABP } from './models/common';\nimport { LocalizationPipe } from './pipes/localization.pipe';\nimport { SortPipe } from './pipes/sort.pipe';\nimport { LocaleProvider } from './providers/locale.provider';\nimport { LocalizationService } from './services/localization.service';\nimport { ProfileState } from './states/profile.state';\nimport { oAuthStorage } from './strategies/auth-flow.strategy';\nimport { coreOptionsFactory, CORE_OPTIONS } from './tokens/options.token';\nimport { noop } from './utils/common-utils';\nimport './utils/date-extensions';\nimport { getInitialData, localeInitializer } from './utils/initial-utils';\nimport { TENANT_KEY } from './tokens/tenant-key.token';\n\nexport function storageFactory(): OAuthStorage {\n  return oAuthStorage;\n}\n\n/**\n * BaseCoreModule is the module that holds\n * all imports, declarations, exports, and entryComponents\n * but not the providers.\n * This module will be imported and exported by all others.\n */\n@NgModule({\n  exports: [\n    CommonModule,\n    HttpClientModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule,\n    LocalizationModule,\n    AbstractNgModelComponent,\n    AutofocusDirective,\n    DynamicLayoutComponent,\n    ForDirective,\n    FormSubmitDirective,\n    InitDirective,\n    InputEventDebounceDirective,\n    PermissionDirective,\n    ReplaceableRouteContainerComponent,\n    ReplaceableTemplateDirective,\n    RouterOutletComponent,\n    SortPipe,\n    StopPropagationDirective,\n    VisibilityDirective,\n  ],\n  imports: [\n    OAuthModule,\n    CommonModule,\n    HttpClientModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule,\n    LocalizationModule,\n  ],\n  declarations: [\n    AbstractNgModelComponent,\n    AutofocusDirective,\n    DynamicLayoutComponent,\n    ForDirective,\n    FormSubmitDirective,\n    InitDirective,\n    InputEventDebounceDirective,\n    PermissionDirective,\n    ReplaceableRouteContainerComponent,\n    ReplaceableTemplateDirective,\n    RouterOutletComponent,\n    SortPipe,\n    StopPropagationDirective,\n    VisibilityDirective,\n  ],\n  providers: [LocalizationPipe],\n  entryComponents: [\n    RouterOutletComponent,\n    DynamicLayoutComponent,\n    ReplaceableRouteContainerComponent,\n  ],\n})\nexport class BaseCoreModule {}\n\n/**\n * RootCoreModule is the module that will be used at root level\n * and it introduces imports useful at root level (e.g. NGXS)\n */\n@NgModule({\n  exports: [BaseCoreModule, LocalizationModule],\n  imports: [\n    BaseCoreModule,\n    LocalizationModule,\n    NgxsModule.forFeature([ProfileState]),\n    OAuthModule.forRoot(),\n    HttpClientXsrfModule.withOptions({\n      cookieName: 'XSRF-TOKEN',\n      headerName: 'RequestVerificationToken',\n    }),\n  ],\n})\nexport class RootCoreModule {}\n\n/**\n * CoreModule is the module that is publicly available\n */\n@NgModule({\n  exports: [BaseCoreModule],\n  imports: [BaseCoreModule],\n})\nexport class CoreModule {\n  static forRoot(options = {} as ABP.Root): ModuleWithProviders<RootCoreModule> {\n    return {\n      ngModule: RootCoreModule,\n      providers: [\n        LocaleProvider,\n        {\n          provide: 'CORE_OPTIONS',\n          useValue: options,\n        },\n        {\n          provide: CORE_OPTIONS,\n          useFactory: coreOptionsFactory,\n          deps: ['CORE_OPTIONS'],\n        },\n        {\n          provide: HTTP_INTERCEPTORS,\n          useExisting: ApiInterceptor,\n          multi: true,\n        },\n        {\n          provide: APP_INITIALIZER,\n          multi: true,\n          deps: [OAuthConfigurationHandler],\n          useFactory: noop,\n        },\n        {\n          provide: APP_INITIALIZER,\n          multi: true,\n          deps: [Injector],\n          useFactory: getInitialData,\n        },\n        {\n          provide: APP_INITIALIZER,\n          multi: true,\n          deps: [Injector],\n          useFactory: localeInitializer,\n        },\n        {\n          provide: APP_INITIALIZER,\n          multi: true,\n          deps: [LocalizationService],\n          useFactory: noop,\n        },\n        {\n          provide: APP_INITIALIZER,\n          multi: true,\n          deps: [RoutesHandler],\n          useFactory: noop,\n        },\n        { provide: OAuthStorage, useFactory: storageFactory },\n        { provide: TENANT_KEY, useValue: options.tenantKey || '__tenant' },\n      ],\n    };\n  }\n}\n\nexport function ngxsStoragePluginSerialize(data) {\n  return data;\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, UrlTree } from '@angular/router';\nimport { OAuthService } from 'angular-oauth2-oidc';\nimport { Observable } from 'rxjs';\nimport { AuthService } from '../services/auth.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthGuard implements CanActivate {\n  constructor(private oauthService: OAuthService, private authService: AuthService) {}\n\n  canActivate(): Observable<boolean> | boolean | UrlTree {\n    const hasValidAccessToken = this.oauthService.hasValidAccessToken();\n    if (hasValidAccessToken) {\n      return true;\n    }\n\n    this.authService.navigateToLogin();\n    return false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\nimport { Store } from '@ngxs/store';\nimport { Observable, of } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { RestOccurError } from '../actions/rest.actions';\nimport { RoutesService } from '../services/routes.service';\nimport { findRoute, getRoutePath } from '../utils/route-utils';\nimport { PermissionService } from '../services/permission.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class PermissionGuard implements CanActivate {\n  constructor(\n    private router: Router,\n    private routesService: RoutesService,\n    private store: Store,\n    private permissionService: PermissionService,\n  ) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    let { requiredPolicy } = route.data || {};\n\n    if (!requiredPolicy) {\n      const routeFound = findRoute(this.routesService, getRoutePath(this.router, state.url));\n      requiredPolicy = routeFound?.requiredPolicy;\n    }\n\n    if (!requiredPolicy) return of(true);\n\n    return this.permissionService.getGrantedPolicy$(requiredPolicy).pipe(\n      tap(access => {\n        if (!access) {\n          this.store.dispatch(new RestOccurError({ status: 403 }));\n        }\n      }),\n    );\n  }\n}\n","import { ABP } from './common';\n\nexport class ListResultDto<T> {\n  items?: T[];\n\n  constructor(initialValues: Partial<ListResultDto<T>> = {}) {\n    for (const key in initialValues) {\n      if (initialValues.hasOwnProperty(key)) {\n        this[key] = initialValues[key];\n      }\n    }\n  }\n}\n\nexport class PagedResultDto<T> extends ListResultDto<T> {\n  totalCount?: number;\n\n  constructor(initialValues: Partial<PagedResultDto<T>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class LimitedResultRequestDto {\n  maxResultCount = 10;\n\n  constructor(initialValues: Partial<LimitedResultRequestDto> = {}) {\n    for (const key in initialValues) {\n      if (initialValues.hasOwnProperty(key) && initialValues[key] !== undefined) {\n        this[key] = initialValues[key];\n      }\n    }\n  }\n}\n\nexport class PagedResultRequestDto extends LimitedResultRequestDto {\n  skipCount?: number;\n\n  constructor(initialValues: Partial<PagedResultRequestDto> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class PagedAndSortedResultRequestDto extends PagedResultRequestDto {\n  sorting?: string;\n\n  constructor(initialValues: Partial<PagedAndSortedResultRequestDto> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class EntityDto<TKey = string> {\n  id?: TKey;\n\n  constructor(initialValues: Partial<EntityDto<TKey>> = {}) {\n    for (const key in initialValues) {\n      if (initialValues.hasOwnProperty(key)) {\n        this[key] = initialValues[key];\n      }\n    }\n  }\n}\n\nexport class CreationAuditedEntityDto<TPrimaryKey = string> extends EntityDto<TPrimaryKey> {\n  creationTime?: string | Date;\n  creatorId?: string;\n\n  constructor(initialValues: Partial<CreationAuditedEntityDto<TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class CreationAuditedEntityWithUserDto<\n  TUserDto,\n  TPrimaryKey = string\n> extends CreationAuditedEntityDto<TPrimaryKey> {\n  creator?: TUserDto;\n\n  constructor(\n    initialValues: Partial<CreationAuditedEntityWithUserDto<TUserDto, TPrimaryKey>> = {},\n  ) {\n    super(initialValues);\n  }\n}\n\nexport class AuditedEntityDto<TPrimaryKey = string> extends CreationAuditedEntityDto<TPrimaryKey> {\n  lastModificationTime?: string | Date;\n  lastModifierId?: string;\n\n  constructor(initialValues: Partial<AuditedEntityDto<TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class AuditedEntityWithUserDto<\n  TUserDto,\n  TPrimaryKey = string\n> extends AuditedEntityDto<TPrimaryKey> {\n  creator?: TUserDto;\n  lastModifier?: TUserDto;\n\n  constructor(initialValues: Partial<AuditedEntityWithUserDto<TUserDto, TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class FullAuditedEntityDto<TPrimaryKey = string> extends AuditedEntityDto<TPrimaryKey> {\n  isDeleted?: boolean;\n  deleterId?: string;\n  deletionTime?: Date | string;\n\n  constructor(initialValues: Partial<FullAuditedEntityDto<TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class FullAuditedEntityWithUserDto<\n  TUserDto,\n  TPrimaryKey = string\n> extends FullAuditedEntityDto<TPrimaryKey> {\n  creator?: TUserDto;\n  lastModifier?: TUserDto;\n  deleter?: TUserDto;\n\n  constructor(initialValues: Partial<FullAuditedEntityWithUserDto<TUserDto, TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class ExtensibleObject {\n  extraProperties: ABP.Dictionary<any>;\n\n  constructor(initialValues: Partial<ExtensibleObject> = {}) {\n    for (const key in initialValues) {\n      if (initialValues.hasOwnProperty(key)) {\n        this[key] = initialValues[key];\n      }\n    }\n  }\n}\n\nexport class ExtensibleEntityDto<TKey = string> extends ExtensibleObject {\n  id: TKey;\n\n  constructor(initialValues: Partial<ExtensibleEntityDto<TKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class ExtensibleCreationAuditedEntityDto<\n  TPrimaryKey = string\n> extends ExtensibleEntityDto<TPrimaryKey> {\n  creationTime: Date | string;\n  creatorId?: string;\n\n  constructor(initialValues: Partial<ExtensibleCreationAuditedEntityDto<TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class ExtensibleAuditedEntityDto<\n  TPrimaryKey = string\n> extends ExtensibleCreationAuditedEntityDto<TPrimaryKey> {\n  lastModificationTime?: Date | string;\n  lastModifierId?: string;\n\n  constructor(initialValues: Partial<ExtensibleAuditedEntityDto<TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class ExtensibleAuditedEntityWithUserDto<\n  TPrimaryKey = string,\n  TUserDto = any\n> extends ExtensibleAuditedEntityDto<TPrimaryKey> {\n  creator: TUserDto;\n  lastModifier: TUserDto;\n\n  constructor(initialValues: Partial<ExtensibleAuditedEntityWithUserDto<TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class ExtensibleCreationAuditedEntityWithUserDto<\n  TPrimaryKey = string,\n  TUserDto = any\n> extends ExtensibleCreationAuditedEntityDto<TPrimaryKey> {\n  creator: TUserDto;\n\n  constructor(\n    initialValues: Partial<ExtensibleCreationAuditedEntityWithUserDto<TPrimaryKey>> = {},\n  ) {\n    super(initialValues);\n  }\n}\n\nexport class ExtensibleFullAuditedEntityDto<\n  TPrimaryKey = string\n> extends ExtensibleAuditedEntityDto<TPrimaryKey> {\n  isDeleted: boolean;\n  deleterId?: string;\n  deletionTime: Date | string;\n\n  constructor(initialValues: Partial<ExtensibleFullAuditedEntityDto<TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n\nexport class ExtensibleFullAuditedEntityWithUserDto<\n  TPrimaryKey = string,\n  TUserDto = any\n> extends ExtensibleFullAuditedEntityDto<TPrimaryKey> {\n  creator: TUserDto;\n  lastModifier: TUserDto;\n  deleter: TUserDto;\n\n  constructor(initialValues: Partial<ExtensibleFullAuditedEntityWithUserDto<TPrimaryKey>> = {}) {\n    super(initialValues);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Rest } from '../models/rest';\nimport { ApplicationConfigurationDto } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/models';\nimport { RestService } from './rest.service';\n\n/**\n * @deprecated Use AbpApplicationConfigurationService instead. To be deleted in v5.0.\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class ApplicationConfigurationService {\n  constructor(private rest: RestService) {}\n\n  getConfiguration(): Observable<ApplicationConfigurationDto> {\n    const request: Rest.Request<null> = {\n      method: 'GET',\n      url: '/api/abp/application-configuration',\n    };\n\n    return this.rest.request<null, ApplicationConfigurationDto>(request, {});\n  }\n}\n","import { Injectable, Injector, TemplateRef, Type } from '@angular/core';\nimport { ProjectionStrategy } from '../strategies/projection.strategy';\n\n@Injectable({ providedIn: 'root' })\nexport class ContentProjectionService {\n  constructor(private injector: Injector) {}\n\n  projectContent<T extends Type<any> | TemplateRef<any>>(\n    projectionStrategy: ProjectionStrategy<T>,\n    injector = this.injector,\n  ) {\n    return projectionStrategy.injectContent(injector);\n  }\n}\n","import { ApplicationConfiguration } from '../models/application-configuration';\nimport { DateTimeFormatDto } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/models';\nimport { ConfigStateService } from '../services';\n\nexport function getShortDateFormat(configStateService: ConfigStateService) {\n  const dateTimeFormat = configStateService.getDeep(\n    'localization.currentCulture.dateTimeFormat',\n  ) as DateTimeFormatDto;\n\n  return dateTimeFormat.shortDatePattern;\n}\n\nexport function getShortTimeFormat(configStateService: ConfigStateService) {\n  const dateTimeFormat = configStateService.getDeep(\n    'localization.currentCulture.dateTimeFormat',\n  ) as DateTimeFormatDto;\n\n  return dateTimeFormat.shortTimePattern.replace('tt', 'a');\n}\n\nexport function getShortDateShortTimeFormat(configStateService: ConfigStateService) {\n  const dateTimeFormat = configStateService.getDeep(\n    'localization.currentCulture.dateTimeFormat',\n  ) as DateTimeFormatDto;\n\n  return `${dateTimeFormat.shortDatePattern} ${dateTimeFormat.shortTimePattern.replace('tt', 'a')}`;\n}\n","import {\n  Compiler,\n  Injector,\n  ModuleWithProviders,\n  NgModuleFactory,\n  NgModuleRef,\n  StaticProvider,\n  Type,\n} from '@angular/core';\nimport { filter, map } from 'rxjs/operators';\nimport { ConfigStateService } from '../services/config-state.service';\n\nexport class LazyModuleFactory<T> extends NgModuleFactory<T> {\n  get moduleType(): Type<T> {\n    return this.moduleWithProviders.ngModule;\n  }\n\n  constructor(private moduleWithProviders: ModuleWithProviders<T>) {\n    super();\n  }\n\n  create(parentInjector: Injector | null): NgModuleRef<T> {\n    const injector = Injector.create({\n      parent: parentInjector,\n      providers: this.moduleWithProviders.providers as StaticProvider[],\n    });\n\n    const compiler = injector.get(Compiler);\n    const factory = compiler.compileModuleSync(this.moduleType);\n\n    return factory.create(injector);\n  }\n}\n\nexport function featuresFactory(\n  configState: ConfigStateService,\n  featureKeys: string[],\n  mapFn: (features) => any = features => features,\n) {\n  return configState.getFeatures$(featureKeys).pipe(filter(Boolean), map(mapFn));\n}\n","export function downloadBlob(blob: Blob, filename: string) {\n  const blobUrl = URL.createObjectURL(blob);\n\n  const link = document.createElement('a');\n\n  link.href = blobUrl;\n  link.download = filename;\n\n  document.body.appendChild(link);\n\n  link.dispatchEvent(\n    new MouseEvent('click', {\n      bubbles: true,\n      cancelable: true,\n      view: window,\n    }),\n  );\n\n  document.body.removeChild(link);\n}\n","export function isNumber(value: string | number): boolean {\n  /* tslint:disable-next-line:triple-equals */\n  return value == Number(value);\n}\n","import { ABP } from '../models/common';\nimport { isNumber } from './number-utils';\n\nexport function mapEnumToOptions<T>(_enum: T): ABP.Option<T>[] {\n  const options: ABP.Option<T>[] = [];\n\n  for (const member in _enum)\n    if (!isNumber(member))\n      options.push({\n        key: member,\n        value: _enum[member],\n      });\n\n  return options;\n}\n","// tslint:disable: no-bitwise\n\nexport function uuid(a?: any): string {\n  return a\n    ? (a ^ ((Math.random() * 16) >> (a / 4))).toString(16)\n    : ('' + 1e7 + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, uuid);\n}\n\nexport function generateHash(value: string): number {\n  let hashed = 0;\n  let charCode: number;\n\n  for (let i = 0; i < value.length; i++) {\n    charCode = value.charCodeAt(i);\n    hashed = (hashed << 5) - hashed + charCode;\n    hashed |= 0;\n  }\n  return hashed;\n}\n\nexport function generatePassword(length = 8) {\n  length = Math.min(Math.max(4, length), 128);\n\n  const lowers = 'abcdefghijklmnopqrstuvwxyz';\n  const uppers = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n  const numbers = '0123456789';\n  const specials = '!@#$%&*()_+{}<>?[]./';\n  const all = lowers + uppers + numbers + specials;\n\n  const getRandom = (chrSet: string) => chrSet[Math.floor(Math.random() * chrSet.length)];\n\n  const password = Array({ length });\n  password[0] = getRandom(lowers);\n  password[1] = getRandom(uppers);\n  password[2] = getRandom(numbers);\n  password[3] = getRandom(specials);\n\n  for (let i = 4; i < length; i++) {\n    password[i] = getRandom(all);\n  }\n\n  return password.sort(() => 0.5 - Math.random()).join('');\n}\n","export class CrossOriginStrategy {\n  constructor(public crossorigin: 'anonymous' | 'use-credentials', public integrity?: string) {}\n\n  setCrossOrigin<T extends HTMLElement>(element: T) {\n    if (this.integrity) element.setAttribute('integrity', this.integrity);\n    element.setAttribute('crossorigin', this.crossorigin);\n  }\n}\n\nexport class NoCrossOriginStrategy extends CrossOriginStrategy {\n  setCrossOrigin() {}\n}\n\nexport const CROSS_ORIGIN_STRATEGY = {\n  Anonymous(integrity?: string) {\n    return new CrossOriginStrategy('anonymous', integrity);\n  },\n  UseCredentials(integrity?: string) {\n    return new CrossOriginStrategy('use-credentials', integrity);\n  },\n  None() {\n    return new NoCrossOriginStrategy(null);\n  },\n};\n","export class DomStrategy {\n  constructor(\n    public target: HTMLElement = document.head,\n    public position: InsertPosition = 'beforeend',\n  ) {}\n\n  insertElement<T extends HTMLElement>(element: T) {\n    this.target.insertAdjacentElement(this.position, element);\n  }\n}\n\nexport const DOM_STRATEGY = {\n  AfterElement(element: HTMLElement) {\n    return new DomStrategy(element, 'afterend');\n  },\n  AppendToBody() {\n    return new DomStrategy(document.body, 'beforeend');\n  },\n  AppendToHead() {\n    return new DomStrategy(document.head, 'beforeend');\n  },\n  BeforeElement(element: HTMLElement) {\n    return new DomStrategy(element, 'beforebegin');\n  },\n  PrependToHead() {\n    return new DomStrategy(document.head, 'afterbegin');\n  },\n};\n","import { Observable, Observer } from 'rxjs';\nimport { CrossOriginStrategy, CROSS_ORIGIN_STRATEGY } from '../strategies/cross-origin.strategy';\nimport { DomStrategy, DOM_STRATEGY } from '../strategies/dom.strategy';\n\nexport function fromLazyLoad<T extends Event>(\n  element: HTMLScriptElement | HTMLLinkElement,\n  domStrategy: DomStrategy = DOM_STRATEGY.AppendToHead(),\n  crossOriginStrategy: CrossOriginStrategy = CROSS_ORIGIN_STRATEGY.Anonymous(),\n): Observable<T> {\n  crossOriginStrategy.setCrossOrigin(element);\n  domStrategy.insertElement(element);\n\n  return new Observable((observer: Observer<T>) => {\n    element.onload = (event: T) => {\n      clearCallbacks(element);\n      observer.next(event);\n      observer.complete();\n    };\n\n    const handleError = createErrorHandler(observer, element);\n\n    element.onerror = handleError;\n    element.onabort = handleError;\n    element.onemptied = handleError;\n    element.onstalled = handleError;\n    element.onsuspend = handleError;\n\n    return () => {\n      clearCallbacks(element);\n      observer.complete();\n    };\n  });\n}\n\nfunction createErrorHandler(observer: Observer<Event>, element: HTMLElement) {\n  /* tslint:disable-next-line:only-arrow-functions */\n  return function(event: Event | string) {\n    clearCallbacks(element);\n    element.parentNode.removeChild(element);\n    observer.error(event);\n  };\n}\n\nfunction clearCallbacks(element: HTMLElement) {\n  element.onload = null;\n  element.onerror = null;\n  element.onabort = null;\n  element.onemptied = null;\n  element.onstalled = null;\n  element.onsuspend = null;\n}\n","// tslint:disable: max-line-length\nimport { Observable, Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\n/**\n * @deprecated no longer working, please use SubscriptionService (https://docs.abp.io/en/abp/latest/UI/Angular/Subscription-Service) instead.\n */\nexport const takeUntilDestroy = (componentInstance, destroyMethodName = 'ngOnDestroy') => <T>(\n  source: Observable<T>,\n) => {\n  const originalDestroy = componentInstance[destroyMethodName];\n  if (isFunction(originalDestroy) === false) {\n    throw new Error(\n      `${componentInstance.constructor.name} is using untilDestroyed but doesn't implement ${destroyMethodName}`,\n    );\n  }\n  if (!componentInstance['__takeUntilDestroy']) {\n    componentInstance['__takeUntilDestroy'] = new Subject();\n\n    componentInstance[destroyMethodName] = function() {\n      // tslint:disable-next-line: no-unused-expression\n      isFunction(originalDestroy) && originalDestroy.apply(this, arguments);\n      componentInstance['__takeUntilDestroy'].next(true);\n      componentInstance['__takeUntilDestroy'].complete();\n    };\n  }\n  return source.pipe(takeUntil<T>(componentInstance['__takeUntilDestroy']));\n};\n","import { Injectable } from '@angular/core';\nimport { ContentStrategy } from '../strategies/content.strategy';\nimport { generateHash } from '../utils';\n\n@Injectable({ providedIn: 'root' })\nexport class DomInsertionService {\n  private readonly inserted = new Set<number>();\n\n  insertContent<T extends HTMLScriptElement | HTMLStyleElement>(\n    contentStrategy: ContentStrategy<T>,\n  ): T {\n    const hash = generateHash(contentStrategy.content);\n\n    if (this.inserted.has(hash)) return;\n\n    const element = contentStrategy.insertElement();\n    this.inserted.add(hash);\n\n    return element;\n  }\n\n  removeContent(element: HTMLScriptElement | HTMLStyleElement) {\n    const hash = generateHash(element.textContent);\n    this.inserted.delete(hash);\n\n    element.parentNode.removeChild(element);\n  }\n\n  has(content: string): boolean {\n    const hash = generateHash(content);\n\n    return this.inserted.has(hash);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { InternalStore } from '../utils/internal-store-utils';\n\nexport interface ResourceWaitState {\n  resources: Set<string>;\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ResourceWaitService {\n  private store = new InternalStore<ResourceWaitState>({ resources: new Set() });\n\n  getLoading() {\n    return !!this.store.state.resources.size;\n  }\n\n  getLoading$() {\n    return this.store.sliceState(({ resources }) => !!resources.size);\n  }\n\n  updateLoading$() {\n    return this.store.sliceUpdate(({ resources }) => !!resources.size);\n  }\n\n  clearLoading() {\n    this.store.patch({ resources: new Set() });\n  }\n\n  addResource(resource: string) {\n    const resources = this.store.state.resources;\n    resources.add(resource);\n    this.store.patch({ resources });\n  }\n\n  deleteResource(resource: string) {\n    const resources = this.store.state.resources;\n    resources.delete(resource);\n    this.store.patch({ resources });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { concat, Observable, of, throwError } from 'rxjs';\nimport { delay, retryWhen, shareReplay, take, tap } from 'rxjs/operators';\nimport { LoadingStrategy } from '../strategies';\nimport { ResourceWaitService } from './resource-wait.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class LazyLoadService {\n  readonly loaded = new Map<string, HTMLScriptElement | HTMLLinkElement>();\n\n  constructor(private resourceWaitService: ResourceWaitService) {}\n\n  load(strategy: LoadingStrategy, retryTimes?: number, retryDelay?: number): Observable<Event> {\n    if (this.loaded.has(strategy.path)) return of(new CustomEvent('load'));\n    this.resourceWaitService.addResource(strategy.path);\n    return strategy.createStream().pipe(\n      retryWhen(error$ =>\n        concat(\n          error$.pipe(delay(retryDelay), take(retryTimes)),\n          throwError(new CustomEvent('error')),\n        ),\n      ),\n      tap(() => {\n        this.loaded.set(strategy.path, strategy.element);\n        this.resourceWaitService.deleteResource(strategy.path);\n      }),\n      delay(100),\n      shareReplay({ bufferSize: 1, refCount: true }),\n    );\n  }\n\n  remove(path: string): boolean {\n    const element = this.loaded.get(path);\n\n    if (!element) return false;\n\n    element.parentNode.removeChild(element);\n    this.loaded.delete(path);\n    return true;\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const LIST_QUERY_DEBOUNCE_TIME = new InjectionToken<number>('LIST_QUERY_DEBOUNCE_TIME');\n","import { Injectable, Injector, OnDestroy } from '@angular/core';\nimport {\n  BehaviorSubject,\n  MonoTypeOperatorFunction,\n  Observable,\n  of,\n  ReplaySubject,\n  Subject,\n} from 'rxjs';\nimport {\n  catchError,\n  debounceTime,\n  filter,\n  shareReplay,\n  switchMap,\n  takeUntil,\n  tap,\n} from 'rxjs/operators';\nimport { ABP } from '../models/common';\nimport { PagedResultDto } from '../models/dtos';\nimport { LIST_QUERY_DEBOUNCE_TIME } from '../tokens/list.token';\n\n@Injectable()\nexport class ListService<QueryParamsType = ABP.PageQueryParams> implements OnDestroy {\n  private _filter = '';\n  set filter(value: string) {\n    this._filter = value;\n    this.get();\n  }\n  get filter(): string {\n    return this._filter;\n  }\n\n  private _maxResultCount = 10;\n  set maxResultCount(value: number) {\n    this._maxResultCount = value;\n    this.get();\n  }\n  get maxResultCount(): number {\n    return this._maxResultCount;\n  }\n\n  private _skipCount = 0;\n  private _page = 0;\n  set page(value: number) {\n    if (value === this._page) return;\n\n    this._page = value;\n    this.get();\n  }\n  get page(): number {\n    return this._page;\n  }\n\n  private _sortKey = '';\n  set sortKey(value: string) {\n    this._sortKey = value;\n    this.get();\n  }\n  get sortKey(): string {\n    return this._sortKey;\n  }\n\n  private _sortOrder = '';\n  set sortOrder(value: string) {\n    this._sortOrder = value;\n    this.get();\n  }\n  get sortOrder(): string {\n    return this._sortOrder;\n  }\n\n  private _query$ = new ReplaySubject<QueryParamsType>(1);\n\n  get query$(): Observable<QueryParamsType> {\n    return this._query$\n      .asObservable()\n      .pipe(this.delay, shareReplay({ bufferSize: 1, refCount: true }));\n  }\n\n  private _isLoading$ = new BehaviorSubject(false);\n\n  private destroy$ = new Subject();\n\n  get isLoading$(): Observable<boolean> {\n    return this._isLoading$.asObservable();\n  }\n\n  get = () => {\n    this.resetPageWhenUnchanged();\n    this.next();\n  };\n\n  getWithoutPageReset = () => {\n    this.next();\n  };\n\n  private delay: MonoTypeOperatorFunction<QueryParamsType>;\n\n  constructor(injector: Injector) {\n    const delay = injector.get(LIST_QUERY_DEBOUNCE_TIME, 300);\n    this.delay = delay ? debounceTime(delay) : tap();\n    this.get();\n  }\n\n  hookToQuery<T extends any>(\n    streamCreatorCallback: QueryStreamCreatorCallback<T, QueryParamsType>,\n  ): Observable<PagedResultDto<T>> {\n    this._isLoading$.next(true);\n\n    return this.query$.pipe(\n      switchMap(query => streamCreatorCallback(query).pipe(catchError(() => of(null)))),\n      filter(Boolean),\n      tap(() => this._isLoading$.next(false)),\n      shareReplay({ bufferSize: 1, refCount: true }),\n      takeUntil(this.destroy$),\n    );\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n  }\n\n  private resetPageWhenUnchanged() {\n    const skipCount = this._page * this._maxResultCount;\n\n    if (skipCount === this._skipCount) {\n      this._page = 0;\n      this._skipCount = 0;\n    } else this._skipCount = skipCount;\n  }\n\n  private next() {\n    this._query$.next(({\n      filter: this._filter || undefined,\n      maxResultCount: this._maxResultCount,\n      skipCount: this._page * this._maxResultCount,\n      sorting: this._sortOrder ? `${this._sortKey} ${this._sortOrder}` : undefined,\n    } as any) as QueryParamsType);\n  }\n}\n\nexport type QueryStreamCreatorCallback<T, QueryParamsType = ABP.PageQueryParams> = (\n  query: QueryParamsType,\n) => Observable<PagedResultDto<T>>;\n","import { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Action, createSelector, Selector, State, StateContext, Store } from '@ngxs/store';\nimport { of, throwError } from 'rxjs';\nimport { catchError, distinctUntilChanged, switchMap, tap } from 'rxjs/operators';\nimport snq from 'snq';\nimport { GetAppConfiguration, PatchConfigState, SetEnvironment } from '../actions/config.actions';\nimport { RestOccurError } from '../actions/rest.actions';\nimport { ApplicationConfiguration } from '../models/application-configuration';\nimport { Config } from '../models/config';\nimport { ConfigStateService } from '../services/config-state.service';\nimport { EnvironmentService } from '../services/environment.service';\nimport { SessionStateService } from '../services/session-state.service';\nimport { interpolate } from '../utils/string-utils';\nimport compare from 'just-compare';\nimport { ApplicationConfigurationDto } from '../proxy/volo/abp/asp-net-core/mvc/application-configurations/models';\n\n/**\n * @deprecated Use ConfigStateService instead. To be deleted in v5.0.\n */\n@State<Config.State>({\n  name: 'ConfigState',\n  defaults: {} as Config.State,\n})\n@Injectable()\nexport class ConfigState {\n  @Selector()\n  static getAll(state: Config.State) {\n    return state;\n  }\n\n  @Selector()\n  static getApplicationInfo(state: Config.State): Config.Application {\n    return state.environment.application || ({} as Config.Application);\n  }\n\n  @Selector()\n  static getEnvironment(state: Config.State): Config.Environment {\n    return state.environment;\n  }\n\n  static getOne(key: string) {\n    const selector = createSelector([ConfigState], (state: Config.State) => {\n      return state[key];\n    });\n\n    return selector;\n  }\n\n  static getDeep(keys: string[] | string) {\n    if (typeof keys === 'string') {\n      keys = keys.split('.');\n    }\n\n    if (!Array.isArray(keys)) {\n      throw new Error('The argument must be a dot string or an string array.');\n    }\n\n    const selector = createSelector([ConfigState], (state: Config.State) => {\n      return (keys as string[]).reduce((acc, val) => {\n        if (acc) {\n          return acc[val];\n        }\n\n        return undefined;\n      }, state);\n    });\n\n    return selector;\n  }\n\n  static getApiUrl(key?: string) {\n    const selector = createSelector([ConfigState], (state: Config.State): string => {\n      return (state.environment.apis[key || 'default'] || state.environment.apis.default).url;\n    });\n\n    return selector;\n  }\n\n  static getFeature(key: string) {\n    const selector = createSelector([ConfigState], (state: Config.State) => {\n      return snq(() => state.features.values[key]);\n    });\n\n    return selector;\n  }\n\n  static getSetting(key: string) {\n    const selector = createSelector([ConfigState], (state: Config.State) => {\n      return snq(() => state.setting.values[key]);\n    });\n\n    return selector;\n  }\n\n  static getSettings(keyword?: string) {\n    const selector = createSelector([ConfigState], (state: Config.State) => {\n      const settings = snq(() => state.setting.values, {});\n\n      if (!keyword) return settings;\n\n      const keysFound = Object.keys(settings).filter(key => key.indexOf(keyword) > -1);\n\n      return keysFound.reduce((acc, key) => {\n        acc[key] = settings[key];\n        return acc;\n      }, {});\n    });\n\n    return selector;\n  }\n\n  /**\n   * @deprecated use PermissionService's getGrantedPolicyStream or getGrantedPolicy methods.\n   */\n  static getGrantedPolicy(key: string) {\n    const selector = createSelector([ConfigState], (state: Config.State): boolean => {\n      if (!key) return true;\n      const getPolicy = (k: string) => snq(() => state.auth.grantedPolicies[k], false);\n\n      const orRegexp = /\\|\\|/g;\n      const andRegexp = /&&/g;\n\n      // TODO: Allow combination of ANDs & ORs\n      if (orRegexp.test(key)) {\n        const keys = key.split('||').filter(Boolean);\n\n        if (keys.length < 2) return false;\n\n        return keys.some(k => getPolicy(k.trim()));\n      } else if (andRegexp.test(key)) {\n        const keys = key.split('&&').filter(Boolean);\n\n        if (keys.length < 2) return false;\n\n        return keys.every(k => getPolicy(k.trim()));\n      }\n\n      return getPolicy(key);\n    });\n\n    return selector;\n  }\n\n  static getLocalizationResource(resourceName: string) {\n    const selector = createSelector([ConfigState], (state: Config.State): {\n      [key: string]: string;\n    } => {\n      return state.localization.values[resourceName];\n    });\n\n    return selector;\n  }\n\n  static getLocalization(\n    key: string | Config.LocalizationWithDefault,\n    ...interpolateParams: string[]\n  ) {\n    if (!key) key = '';\n    let defaultValue: string;\n\n    if (typeof key !== 'string') {\n      defaultValue = key.defaultValue;\n      key = key.key;\n    }\n\n    const keys = key.split('::') as string[];\n    const selector = createSelector([ConfigState], (state: Config.State): string => {\n      const warn = (message: string) => {\n        if (!state.environment.production) console.warn(message);\n      };\n\n      if (keys.length < 2) {\n        warn('The localization source separator (::) not found.');\n        return defaultValue || (key as string);\n      }\n      if (!state.localization) return defaultValue || keys[1];\n\n      const sourceName =\n        keys[0] ||\n        snq(() => state.environment.localization.defaultResourceName) ||\n        state.localization.defaultResourceName;\n      const sourceKey = keys[1];\n\n      if (sourceName === '_') {\n        return defaultValue || sourceKey;\n      }\n\n      if (!sourceName) {\n        warn(\n          'Localization source name is not specified and the defaultResourceName was not defined!',\n        );\n\n        return defaultValue || sourceKey;\n      }\n\n      const source = state.localization.values[sourceName];\n      if (!source) {\n        warn('Could not find localization source: ' + sourceName);\n        return defaultValue || sourceKey;\n      }\n\n      let localization = source[sourceKey];\n      if (typeof localization === 'undefined') {\n        return defaultValue || sourceKey;\n      }\n\n      interpolateParams = interpolateParams.filter(params => params != null);\n      if (localization) localization = interpolate(localization, interpolateParams);\n\n      if (typeof localization !== 'string') localization = '';\n\n      return localization || defaultValue || (key as string);\n    });\n\n    return selector;\n  }\n\n  constructor(\n    private http: HttpClient,\n    private store: Store,\n    private sessionState: SessionStateService,\n    private environmentService: EnvironmentService,\n    private configState: ConfigStateService,\n  ) {\n    this.syncConfigState();\n    this.syncEnvironment();\n  }\n\n  private syncConfigState() {\n    this.configState\n      .createOnUpdateStream(state => state)\n      .pipe(distinctUntilChanged(compare))\n      .subscribe(config => this.store.dispatch(new PatchConfigState(config as any)));\n  }\n\n  private syncEnvironment() {\n    this.environmentService\n      .createOnUpdateStream(state => state)\n      .pipe(distinctUntilChanged(compare))\n      .subscribe(env => this.store.dispatch(new PatchConfigState({ environment: env } as any)));\n  }\n\n  @Action(GetAppConfiguration)\n  addData({ patchState, dispatch }: StateContext<Config.State>) {\n    const apiName = 'default';\n    const api = this.store.selectSnapshot(ConfigState.getApiUrl(apiName));\n    return this.http\n      .get<ApplicationConfigurationDto>(`${api}/api/abp/application-configuration`)\n      .pipe(\n        tap(configuration => this.configState.setState(configuration)),\n        catchError((err: HttpErrorResponse) => {\n          dispatch(new RestOccurError(err));\n          return throwError(err);\n        }),\n      );\n  }\n\n  @Action(SetEnvironment)\n  setEnvironment(_, { environment }: SetEnvironment) {\n    return this.environmentService.setState(environment);\n  }\n\n  @Action(PatchConfigState)\n  setConfig({ patchState, getState }: StateContext<Config.State>, { state }: PatchConfigState) {\n    patchState({ ...getState(), ...state });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Store } from '@ngxs/store';\nimport { ProfileState } from '../states';\nimport { Profile } from '../models';\nimport { GetProfile, UpdateProfile, ChangePassword } from '../actions';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ProfileStateService {\n  constructor(private store: Store) {}\n\n  getProfile() {\n    return this.store.selectSnapshot(ProfileState.getProfile);\n  }\n\n  dispatchGetProfile() {\n    return this.store.dispatch(new GetProfile());\n  }\n\n  dispatchUpdateProfile(...args: ConstructorParameters<typeof UpdateProfile>) {\n    return this.store.dispatch(new UpdateProfile(...args));\n  }\n\n  dispatchChangePassword(...args: ConstructorParameters<typeof ChangePassword>) {\n    return this.store.dispatch(new ChangePassword(...args));\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { NavigationStart } from '@angular/router';\nimport { of, Subject, timer } from 'rxjs';\nimport { map, mapTo, switchMap, takeUntil, tap } from 'rxjs/operators';\nimport { LOADER_DELAY } from '../tokens/lodaer-delay.token';\nimport { InternalStore } from '../utils/internal-store-utils';\nimport { RouterEvents } from './router-events.service';\n\nexport interface RouterWaitState {\n  loading: boolean;\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class RouterWaitService {\n  private store = new InternalStore<RouterWaitState>({ loading: false });\n  private destroy$ = new Subject();\n  private delay: number;\n  constructor(private routerEvents: RouterEvents, injector: Injector) {\n    this.delay = injector.get(LOADER_DELAY, 500);\n    this.updateLoadingStatusOnNavigationEvents();\n  }\n\n  private updateLoadingStatusOnNavigationEvents() {\n    this.routerEvents\n      .getAllNavigationEvents()\n      .pipe(\n        map(event => event instanceof NavigationStart),\n        switchMap(condition =>\n          condition\n            ? this.delay === 0\n              ? of(true)\n              : timer(this.delay || 0).pipe(mapTo(true), takeUntil(this.destroy$))\n            : of(false),\n        ),\n        tap(() => this.destroy$.next()),\n      )\n      .subscribe(status => {\n        this.setLoading(status);\n      });\n  }\n\n  getLoading() {\n    return this.store.state.loading;\n  }\n\n  getLoading$() {\n    return this.store.sliceState(({ loading }) => loading);\n  }\n\n  updateLoading$() {\n    return this.store.sliceUpdate(({ loading }) => loading);\n  }\n\n  setLoading(loading: boolean) {\n    this.store.patch({ loading });\n  }\n}\n","import { Injectable, TrackByFunction } from '@angular/core';\nimport { O } from 'ts-toolbelt';\n\nexport const trackBy = <T = any>(key: keyof T): TrackByFunction<T> => (_, item) => item[key];\n\nexport const trackByDeep = <T = any>(\n  ...keys: T extends object ? O.Paths<T> : never\n): TrackByFunction<T> => (_, item) => keys.reduce((acc, key) => acc[key], item);\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class TrackByService<ItemType = any> {\n  by = trackBy;\n\n  byDeep = trackByDeep;\n}\n","import { ViewContainerRef } from '@angular/core';\n\nexport abstract class ContainerStrategy {\n  constructor(public containerRef: ViewContainerRef) {}\n\n  abstract getIndex(): number;\n\n  prepare(): void {}\n}\n\nexport class ClearContainerStrategy extends ContainerStrategy {\n  getIndex(): number {\n    return 0;\n  }\n\n  prepare() {\n    this.containerRef.clear();\n  }\n}\n\nexport class InsertIntoContainerStrategy extends ContainerStrategy {\n  constructor(containerRef: ViewContainerRef, private index: number) {\n    super(containerRef);\n  }\n\n  getIndex() {\n    return Math.min(Math.max(0, this.index), this.containerRef.length);\n  }\n}\n\nexport const CONTAINER_STRATEGY = {\n  Clear(containerRef: ViewContainerRef) {\n    return new ClearContainerStrategy(containerRef);\n  },\n  Append(containerRef: ViewContainerRef) {\n    return new InsertIntoContainerStrategy(containerRef, containerRef.length);\n  },\n  Prepend(containerRef: ViewContainerRef) {\n    return new InsertIntoContainerStrategy(containerRef, 0);\n  },\n  Insert(containerRef: ViewContainerRef, index: number) {\n    return new InsertIntoContainerStrategy(containerRef, index);\n  },\n};\n","export abstract class ContentSecurityStrategy {\n  constructor(public nonce?: string) {}\n\n  abstract applyCSP(element: HTMLScriptElement | HTMLStyleElement): void;\n}\n\nexport class LooseContentSecurityStrategy extends ContentSecurityStrategy {\n  constructor(nonce: string) {\n    super(nonce);\n  }\n\n  applyCSP(element: HTMLScriptElement | HTMLStyleElement) {\n    element.setAttribute('nonce', this.nonce);\n  }\n}\n\nexport class NoContentSecurityStrategy extends ContentSecurityStrategy {\n  constructor() {\n    super();\n  }\n\n  applyCSP(_: HTMLScriptElement | HTMLStyleElement) {}\n}\n\nexport const CONTENT_SECURITY_STRATEGY = {\n  Loose(nonce: string) {\n    return new LooseContentSecurityStrategy(nonce);\n  },\n  None() {\n    return new NoContentSecurityStrategy();\n  },\n};\n","import { ContentSecurityStrategy, CONTENT_SECURITY_STRATEGY } from './content-security.strategy';\nimport { DomStrategy, DOM_STRATEGY } from './dom.strategy';\n\nexport abstract class ContentStrategy<T extends HTMLScriptElement | HTMLStyleElement = any> {\n  constructor(\n    public content: string,\n    protected domStrategy: DomStrategy = DOM_STRATEGY.AppendToHead(),\n    protected contentSecurityStrategy: ContentSecurityStrategy = CONTENT_SECURITY_STRATEGY.None(),\n  ) {}\n\n  abstract createElement(): T;\n\n  insertElement(): T {\n    const element = this.createElement();\n\n    this.contentSecurityStrategy.applyCSP(element);\n    this.domStrategy.insertElement(element);\n\n    return element;\n  }\n}\n\nexport class StyleContentStrategy extends ContentStrategy<HTMLStyleElement> {\n  createElement(): HTMLStyleElement {\n    const element = document.createElement('style');\n    element.textContent = this.content;\n\n    return element;\n  }\n}\n\nexport class ScriptContentStrategy extends ContentStrategy<HTMLScriptElement> {\n  createElement(): HTMLScriptElement {\n    const element = document.createElement('script');\n    element.textContent = this.content;\n\n    return element;\n  }\n}\n\nexport const CONTENT_STRATEGY = {\n  AppendScriptToBody(content: string) {\n    return new ScriptContentStrategy(content, DOM_STRATEGY.AppendToBody());\n  },\n  AppendScriptToHead(content: string) {\n    return new ScriptContentStrategy(content, DOM_STRATEGY.AppendToHead());\n  },\n  AppendStyleToHead(content: string) {\n    return new StyleContentStrategy(content, DOM_STRATEGY.AppendToHead());\n  },\n  PrependStyleToHead(content: string) {\n    return new StyleContentStrategy(content, DOM_STRATEGY.PrependToHead());\n  },\n};\n","import { ComponentRef, TemplateRef, Type } from '@angular/core';\nimport { InferredContextOf, InferredInstanceOf } from '../models';\n\nexport abstract class ContextStrategy<T = any> {\n  constructor(public context: Partial<ContextType<T>>) {}\n\n  /* tslint:disable-next-line:no-unused-variable */\n  setContext(componentRef?: ComponentRef<InferredInstanceOf<T>>): Partial<ContextType<T>> {\n    return this.context;\n  }\n}\n\nexport class NoContextStrategy<\n  T extends Type<any> | TemplateRef<any> = any\n> extends ContextStrategy<T> {\n  constructor() {\n    super(undefined);\n  }\n}\n\nexport class ComponentContextStrategy<T extends Type<any> = any> extends ContextStrategy<T> {\n  setContext(componentRef: ComponentRef<InferredInstanceOf<T>>): Partial<InferredInstanceOf<T>> {\n    Object.keys(this.context).forEach(key => (componentRef.instance[key] = this.context[key]));\n    componentRef.changeDetectorRef.detectChanges();\n    return this.context;\n  }\n}\n\nexport class TemplateContextStrategy<T extends TemplateRef<any> = any> extends ContextStrategy<T> {\n  setContext(): Partial<InferredContextOf<T>> {\n    return this.context;\n  }\n}\n\nexport const CONTEXT_STRATEGY = {\n  None<T extends Type<any> | TemplateRef<any> = any>() {\n    return new NoContextStrategy<T>();\n  },\n  Component<T extends Type<any> = any>(context: Partial<InferredInstanceOf<T>>) {\n    return new ComponentContextStrategy<T>(context);\n  },\n  Template<T extends TemplateRef<any> = any>(context: Partial<InferredContextOf<T>>) {\n    return new TemplateContextStrategy<T>(context);\n  },\n};\n\ntype ContextType<T> = T extends Type<infer U> | TemplateRef<infer U> ? U : never;\n","import { Observable, of } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\nimport { fromLazyLoad } from '../utils';\nimport { CrossOriginStrategy, CROSS_ORIGIN_STRATEGY } from './cross-origin.strategy';\nimport { DomStrategy, DOM_STRATEGY } from './dom.strategy';\n\nexport abstract class LoadingStrategy<T extends HTMLScriptElement | HTMLLinkElement = any> {\n  element: T;\n\n  constructor(\n    public path: string,\n    protected domStrategy: DomStrategy = DOM_STRATEGY.AppendToHead(),\n    protected crossOriginStrategy: CrossOriginStrategy = CROSS_ORIGIN_STRATEGY.Anonymous(),\n  ) {}\n\n  abstract createElement(): T;\n\n  createStream<E extends Event>(): Observable<E> {\n    this.element = this.createElement();\n\n    return of(null).pipe(\n      switchMap(() => fromLazyLoad<E>(this.element, this.domStrategy, this.crossOriginStrategy)),\n    );\n  }\n}\n\nexport class ScriptLoadingStrategy extends LoadingStrategy<HTMLScriptElement> {\n  constructor(src: string, domStrategy?: DomStrategy, crossOriginStrategy?: CrossOriginStrategy) {\n    super(src, domStrategy, crossOriginStrategy);\n  }\n\n  createElement(): HTMLScriptElement {\n    const element = document.createElement('script');\n    element.src = this.path;\n\n    return element;\n  }\n}\n\nexport class StyleLoadingStrategy extends LoadingStrategy<HTMLLinkElement> {\n  constructor(href: string, domStrategy?: DomStrategy, crossOriginStrategy?: CrossOriginStrategy) {\n    super(href, domStrategy, crossOriginStrategy);\n  }\n\n  createElement(): HTMLLinkElement {\n    const element = document.createElement('link');\n    element.rel = 'stylesheet';\n    element.href = this.path;\n\n    return element;\n  }\n}\n\nexport const LOADING_STRATEGY = {\n  AppendScriptToBody(src: string) {\n    return new ScriptLoadingStrategy(\n      src,\n      DOM_STRATEGY.AppendToBody(),\n      CROSS_ORIGIN_STRATEGY.None(),\n    );\n  },\n  AppendAnonymousScriptToBody(src: string, integrity?: string) {\n    return new ScriptLoadingStrategy(\n      src,\n      DOM_STRATEGY.AppendToBody(),\n      CROSS_ORIGIN_STRATEGY.Anonymous(integrity),\n    );\n  },\n  AppendAnonymousScriptToHead(src: string, integrity?: string) {\n    return new ScriptLoadingStrategy(\n      src,\n      DOM_STRATEGY.AppendToHead(),\n      CROSS_ORIGIN_STRATEGY.Anonymous(integrity),\n    );\n  },\n  AppendAnonymousStyleToHead(src: string, integrity?: string) {\n    return new StyleLoadingStrategy(\n      src,\n      DOM_STRATEGY.AppendToHead(),\n      CROSS_ORIGIN_STRATEGY.Anonymous(integrity),\n    );\n  },\n  PrependAnonymousScriptToHead(src: string, integrity?: string) {\n    return new ScriptLoadingStrategy(\n      src,\n      DOM_STRATEGY.PrependToHead(),\n      CROSS_ORIGIN_STRATEGY.Anonymous(integrity),\n    );\n  },\n  PrependAnonymousStyleToHead(src: string, integrity?: string) {\n    return new StyleLoadingStrategy(\n      src,\n      DOM_STRATEGY.PrependToHead(),\n      CROSS_ORIGIN_STRATEGY.Anonymous(integrity),\n    );\n  },\n};\n","import {\n  ApplicationRef,\n  ComponentFactoryResolver,\n  ComponentRef,\n  EmbeddedViewRef,\n  Injector,\n  TemplateRef,\n  Type,\n  ViewContainerRef,\n} from '@angular/core';\nimport { InferredContextOf, InferredInstanceOf } from '../models/utility';\nimport { ContainerStrategy, CONTAINER_STRATEGY } from './container.strategy';\nimport { ContextStrategy, CONTEXT_STRATEGY } from './context.strategy';\nimport { DomStrategy, DOM_STRATEGY } from './dom.strategy';\n\nexport abstract class ProjectionStrategy<T = any> {\n  constructor(public content: T) {}\n\n  abstract injectContent(injector: Injector): ComponentRefOrEmbeddedViewRef<T>;\n}\n\nexport class ComponentProjectionStrategy<T extends Type<any>> extends ProjectionStrategy<T> {\n  constructor(\n    component: T,\n    private containerStrategy: ContainerStrategy,\n    private contextStrategy: ContextStrategy = CONTEXT_STRATEGY.None(),\n  ) {\n    super(component);\n  }\n\n  injectContent(injector: Injector) {\n    this.containerStrategy.prepare();\n\n    const resolver = injector.get(ComponentFactoryResolver) as ComponentFactoryResolver;\n    const factory = resolver.resolveComponentFactory<InferredInstanceOf<T>>(this.content);\n\n    const componentRef = this.containerStrategy.containerRef.createComponent(\n      factory,\n      this.containerStrategy.getIndex(),\n      injector,\n    );\n    this.contextStrategy.setContext(componentRef);\n\n    return componentRef as ComponentRefOrEmbeddedViewRef<T>;\n  }\n}\n\nexport class RootComponentProjectionStrategy<T extends Type<any>> extends ProjectionStrategy<T> {\n  constructor(\n    component: T,\n    private contextStrategy: ContextStrategy = CONTEXT_STRATEGY.None(),\n    private domStrategy: DomStrategy = DOM_STRATEGY.AppendToBody(),\n  ) {\n    super(component);\n  }\n\n  injectContent(injector: Injector) {\n    const appRef = injector.get(ApplicationRef);\n    const resolver = injector.get(ComponentFactoryResolver) as ComponentFactoryResolver;\n    const componentRef = resolver\n      .resolveComponentFactory<InferredInstanceOf<T>>(this.content)\n      .create(injector);\n\n    this.contextStrategy.setContext(componentRef);\n\n    appRef.attachView(componentRef.hostView);\n    const element: HTMLElement = (componentRef.hostView as EmbeddedViewRef<any>).rootNodes[0];\n    this.domStrategy.insertElement(element);\n\n    return componentRef as ComponentRefOrEmbeddedViewRef<T>;\n  }\n}\n\nexport class TemplateProjectionStrategy<T extends TemplateRef<any>> extends ProjectionStrategy<T> {\n  constructor(\n    templateRef: T,\n    private containerStrategy: ContainerStrategy,\n    private contextStrategy = CONTEXT_STRATEGY.None(),\n  ) {\n    super(templateRef);\n  }\n\n  injectContent() {\n    this.containerStrategy.prepare();\n\n    const embeddedViewRef = this.containerStrategy.containerRef.createEmbeddedView(\n      this.content,\n      this.contextStrategy.context,\n      this.containerStrategy.getIndex(),\n    );\n    embeddedViewRef.detectChanges();\n\n    return embeddedViewRef as ComponentRefOrEmbeddedViewRef<T>;\n  }\n}\n\nexport const PROJECTION_STRATEGY = {\n  AppendComponentToBody<T extends Type<unknown>>(\n    component: T,\n    context?: Partial<InferredInstanceOf<T>>,\n  ) {\n    return new RootComponentProjectionStrategy<T>(\n      component,\n      context && CONTEXT_STRATEGY.Component(context),\n    );\n  },\n  AppendComponentToContainer<T extends Type<unknown>>(\n    component: T,\n    containerRef: ViewContainerRef,\n    context?: Partial<InferredInstanceOf<T>>,\n  ) {\n    return new ComponentProjectionStrategy<T>(\n      component,\n      CONTAINER_STRATEGY.Append(containerRef),\n      context && CONTEXT_STRATEGY.Component(context),\n    );\n  },\n  AppendTemplateToContainer<T extends TemplateRef<unknown>>(\n    templateRef: T,\n    containerRef: ViewContainerRef,\n    context?: Partial<InferredContextOf<T>>,\n  ) {\n    return new TemplateProjectionStrategy<T>(\n      templateRef,\n      CONTAINER_STRATEGY.Append(containerRef),\n      context && CONTEXT_STRATEGY.Template(context),\n    );\n  },\n  PrependComponentToContainer<T extends Type<unknown>>(\n    component: T,\n    containerRef: ViewContainerRef,\n    context?: Partial<InferredInstanceOf<T>>,\n  ) {\n    return new ComponentProjectionStrategy<T>(\n      component,\n      CONTAINER_STRATEGY.Prepend(containerRef),\n      context && CONTEXT_STRATEGY.Component(context),\n    );\n  },\n  PrependTemplateToContainer<T extends TemplateRef<unknown>>(\n    templateRef: T,\n    containerRef: ViewContainerRef,\n    context?: Partial<InferredContextOf<T>>,\n  ) {\n    return new TemplateProjectionStrategy<T>(\n      templateRef,\n      CONTAINER_STRATEGY.Prepend(containerRef),\n      context && CONTEXT_STRATEGY.Template(context),\n    );\n  },\n  ProjectComponentToContainer<T extends Type<unknown>>(\n    component: T,\n    containerRef: ViewContainerRef,\n    context?: Partial<InferredInstanceOf<T>>,\n  ) {\n    return new ComponentProjectionStrategy<T>(\n      component,\n      CONTAINER_STRATEGY.Clear(containerRef),\n      context && CONTEXT_STRATEGY.Component(context),\n    );\n  },\n  ProjectTemplateToContainer<T extends TemplateRef<unknown>>(\n    templateRef: T,\n    containerRef: ViewContainerRef,\n    context?: Partial<InferredContextOf<T>>,\n  ) {\n    return new TemplateProjectionStrategy<T>(\n      templateRef,\n      CONTAINER_STRATEGY.Clear(containerRef),\n      context && CONTEXT_STRATEGY.Template(context),\n    );\n  },\n};\n\ntype ComponentRefOrEmbeddedViewRef<T> = T extends Type<infer U>\n  ? ComponentRef<U>\n  : T extends TemplateRef<infer C>\n  ? EmbeddedViewRef<C>\n  : never;\n","import { InjectionToken, inject } from '@angular/core';\nimport { EnvironmentService } from '../services/environment.service';\n\nexport const NAVIGATE_TO_MANAGE_PROFILE = new InjectionToken<() => void>(\n  'NAVIGATE_TO_MANAGE_PROFILE',\n  {\n    providedIn: 'root',\n    factory: () => {\n      const environment = inject(EnvironmentService);\n\n      return () => {\n        window.open(\n          `${environment.getEnvironment().oAuthConfig.issuer}/Account/Manage?returnUrl=${\n            window.location.href\n          }`,\n          '_self',\n        );\n      };\n    },\n  },\n);\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\n\nexport interface MinAgeError {\n  minAge: {\n    age: number;\n  };\n}\n\nexport interface MinAgeOptions {\n  age?: number;\n}\n\nexport function validateMinAge({ age = 18 }: MinAgeOptions = {}): ValidatorFn {\n  return (control: AbstractControl): MinAgeError | null => {\n    if (['', null, undefined].indexOf(control.value) > -1) return null;\n\n    return isValidMinAge(control.value, age) ? null : { minAge: { age } };\n  };\n}\n\nfunction isValidMinAge(value: string | number, minAge: number) {\n  const date = new Date();\n  date.setFullYear(date.getFullYear() - minAge);\n  date.setHours(23, 59, 59, 999);\n\n  return Number(new Date(value)) <= date.valueOf();\n}\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\n\nexport interface CreditCardError {\n  creditCard: true;\n}\n\nexport function validateCreditCard(): ValidatorFn {\n  return (control: AbstractControl): CreditCardError | null => {\n    if (['', null, undefined].indexOf(control.value) > -1) return null;\n\n    return isValidCreditCard(String(control.value)) ? null : { creditCard: true };\n  };\n}\n\nfunction isValidCreditCard(value: string): boolean {\n  value = value.replace(/[ -]/g, '');\n\n  if (!/^[0-9]{13,19}$/.test(value)) return false;\n\n  let checksum = 0;\n  let multiplier = 1;\n\n  for (let i = value.length; i > 0; i--) {\n    const digit = Number(value[i - 1]) * multiplier;\n    /* tslint:disable-next-line:no-bitwise */\n    checksum += (digit % 10) + ~~(digit / 10);\n\n    multiplier = (multiplier * 2) % 3;\n  }\n\n  return checksum % 10 === 0;\n}\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\n\nexport interface RangeError {\n  range: {\n    max: number;\n    min: number;\n  };\n}\n\nexport interface RangeOptions {\n  maximum?: number;\n  minimum?: number;\n}\n\nexport function validateRange({ maximum = Infinity, minimum = 0 }: RangeOptions = {}): ValidatorFn {\n  return (control: AbstractControl): RangeError | null => {\n    if (['', null, undefined].indexOf(control.value) > -1) return null;\n\n    const value = Number(control.value);\n    return getMinError(value, minimum, maximum) || getMaxError(value, maximum, minimum);\n  };\n}\n\nfunction getMaxError(value: number, max: number, min: number): RangeError {\n  return value > max ? { range: { max, min } } : null;\n}\n\nfunction getMinError(value: number, min: number, max: number): RangeError {\n  return value < min ? { range: { min, max } } : null;\n}\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\n\nexport interface RequiredError {\n  required: true;\n}\n\nexport interface RequiredOptions {\n  allowEmptyStrings?: boolean;\n}\n\nexport function validateRequired({ allowEmptyStrings }: RequiredOptions = {}): ValidatorFn {\n  return (control: AbstractControl): RequiredError | null => {\n    return isValidRequired(control.value, allowEmptyStrings) ? null : { required: true };\n  };\n}\n\nfunction isValidRequired(value: any, allowEmptyStrings: boolean): boolean {\n  if (value || value === 0 || value === false) return true;\n\n  if (allowEmptyStrings && value === '') return true;\n\n  return false;\n}\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\n\nexport interface StringLengthError {\n  maxlength?: {\n    requiredLength: number;\n  };\n  minlength?: {\n    requiredLength: number;\n  };\n}\n\nexport interface StringLengthOptions {\n  maximumLength?: number;\n  minimumLength?: number;\n}\n\nexport function validateStringLength({\n  maximumLength = Infinity,\n  minimumLength = 0,\n}: StringLengthOptions = {}): ValidatorFn {\n  return (control: AbstractControl): StringLengthError | null => {\n    if (['', null, undefined].indexOf(control.value) > -1) return null;\n\n    const value = String(control.value);\n\n    return getMinLengthError(value, minimumLength) || getMaxLengthError(value, maximumLength);\n  };\n}\n\nfunction getMaxLengthError(value: string, requiredLength: number): StringLengthError {\n  return value.length > requiredLength ? { maxlength: { requiredLength } } : null;\n}\n\nfunction getMinLengthError(value: string, requiredLength: number): StringLengthError {\n  return value.length < requiredLength ? { minlength: { requiredLength } } : null;\n}\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\n\nexport interface UrlError {\n  url: true;\n}\n\nexport function validateUrl(): ValidatorFn {\n  return (control: AbstractControl): UrlError | null => {\n    if (['', null, undefined].indexOf(control.value) > -1) return null;\n\n    return isValidUrl(control.value) ? null : { url: true };\n  };\n}\n\nfunction isValidUrl(value: string): boolean {\n  if (/^http(s)?:\\/\\/[^/]/.test(value) || /^ftp:\\/\\/[^/]/.test(value)) {\n    const a = document.createElement('a');\n    a.href = value;\n    return !!a.host;\n  }\n\n  return false;\n}\n","import { Validators } from '@angular/forms';\nimport { validateMinAge } from './age.validator';\nimport { validateCreditCard } from './credit-card.validator';\nimport { validateRange } from './range.validator';\nimport { validateRequired } from './required.validator';\nimport { validateStringLength } from './string-length.validator';\nimport { validateUrl } from './url.validator';\nexport * from './age.validator';\nexport * from './credit-card.validator';\nexport * from './range.validator';\nexport * from './required.validator';\nexport * from './string-length.validator';\nexport * from './url.validator';\n\nexport const AbpValidators = {\n  creditCard: validateCreditCard,\n  emailAddress: () => Validators.email,\n  minAge: validateMinAge,\n  range: validateRange,\n  required: validateRequired,\n  stringLength: validateStringLength,\n  url: validateUrl,\n};\n","import { Injectable } from '@angular/core';\nimport { RestService } from '../../../../../../services/rest.service';\nimport type {\n  ApplicationApiDescriptionModel,\n  ApplicationApiDescriptionModelRequestDto,\n} from '../../../http/modeling/models';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AbpApiDefinitionService {\n  apiName = 'abp';\n\n  getByModel = (model: ApplicationApiDescriptionModelRequestDto) =>\n    this.restService.request<any, ApplicationApiDescriptionModel>(\n      {\n        method: 'GET',\n        url: '/api/abp/api-definition',\n        params: { includeTypes: model.includeTypes },\n      },\n      { apiName: this.apiName },\n    );\n\n  constructor(private restService: RestService) {}\n}\n","/*\n * Public API Surface of core\n */\n\n// export * from './lib/handlers';\nexport * from './lib/abstracts';\nexport * from './lib/actions';\nexport * from './lib/components';\nexport * from './lib/constants';\nexport * from './lib/core.module';\nexport * from './lib/localization.module';\nexport * from './lib/directives';\nexport * from './lib/enums';\nexport * from './lib/guards';\nexport * from './lib/interceptors';\nexport * from './lib/models';\nexport * from './lib/pipes';\nexport * from './lib/services';\nexport * from './lib/states';\nexport * from './lib/strategies';\nexport * from './lib/tokens';\nexport * from './lib/utils';\nexport * from './lib/validators';\nexport * from './lib/proxy/volo/abp/asp-net-core/mvc/api-exploring';\nexport * from './lib/proxy/volo/abp/asp-net-core/mvc/multi-tenancy';\nexport * from './lib/proxy/volo/abp/asp-net-core/mvc/application-configurations';\nexport * from './lib/proxy/volo/abp/asp-net-core/mvc/application-configurations/object-extending';\nexport * from './lib/proxy/volo/abp/http/modeling';\nexport * from './lib/proxy/volo/abp/models';\nexport * from './lib/proxy/volo/abp/localization';\nexport * from './lib/proxy/pages/abp/multi-tenancy';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {AbstractNgModelComponent as l} from './lib/abstracts/ng-model.component';\nexport {ChangePassword as bh,GetProfile as bf,UpdateProfile as bg} from './lib/actions/profile.actions';\nexport {DynamicLayoutComponent as n} from './lib/components/dynamic-layout.component';\nexport {ReplaceableRouteContainerComponent as x} from './lib/components/replaceable-route-container.component';\nexport {RouterOutletComponent as z} from './lib/components/router-outlet.component';\nexport {AutofocusDirective as m} from './lib/directives/autofocus.directive';\nexport {InputEventDebounceDirective as u} from './lib/directives/debounce.directive';\nexport {ForDirective as r} from './lib/directives/for.directive';\nexport {FormSubmitDirective as s} from './lib/directives/form-submit.directive';\nexport {InitDirective as t} from './lib/directives/init.directive';\nexport {PermissionDirective as v} from './lib/directives/permission.directive';\nexport {ReplaceableTemplateDirective as y} from './lib/directives/replaceable-template.directive';\nexport {StopPropagationDirective as bb} from './lib/directives/stop-propagation.directive';\nexport {VisibilityDirective as bc} from './lib/directives/visibility.directive';\nexport {OAuthConfigurationHandler as bo} from './lib/handlers/oauth-configuration.handler';\nexport {RoutesHandler as bs} from './lib/handlers/routes.handler';\nexport {ApiInterceptor as bl} from './lib/interceptors/api.interceptor';\nexport {Profile as bi} from './lib/models';\nexport {ABP as j} from './lib/models/common';\nexport {LocalizationPipe as b} from './lib/pipes/localization.pipe';\nexport {SortPipe as ba} from './lib/pipes/sort.pipe';\nexport {LocaleId as bj,LocaleProvider as bk} from './lib/providers/locale.provider';\nexport {AbpApplicationConfigurationService as f} from './lib/proxy/volo/abp/asp-net-core/mvc/application-configurations/abp-application-configuration.service';\nexport {ConfigStateService as e} from './lib/services/config-state.service';\nexport {EnvironmentService as k} from './lib/services/environment.service';\nexport {HttpWaitService as bn} from './lib/services/http-wait.service';\nexport {LocalizationService as c} from './lib/services/localization.service';\nexport {PermissionService as w} from './lib/services/permission.service';\nexport {ProfileService as be} from './lib/services/profile.service';\nexport {ReplaceableComponentsService as p} from './lib/services/replaceable-components.service';\nexport {RestService as g} from './lib/services/rest.service';\nexport {RouterEvents as q} from './lib/services/router-events.service';\nexport {AbstractNavTreeService as bu,AbstractTreeService as bt,RoutesService as bv} from './lib/services/routes.service';\nexport {SessionStateService as d} from './lib/services/session-state.service';\nexport {SubscriptionService as o} from './lib/services/subscription.service';\nexport {ProfileState as bd} from './lib/states/profile.state';\nexport {oAuthStorage as a} from './lib/strategies/auth-flow.strategy';\nexport {CORE_OPTIONS as h,coreOptionsFactory as i} from './lib/tokens/options.token';\nexport {TENANT_KEY as bm} from './lib/tokens/tenant-key.token';\nexport {noop as bp} from './lib/utils/common-utils';\nexport {getInitialData as bq,localeInitializer as br} from './lib/utils/initial-utils';"],"names":[],"mappings":"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"}