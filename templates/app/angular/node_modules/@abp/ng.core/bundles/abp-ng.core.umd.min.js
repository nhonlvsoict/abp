!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/router"),require("@angular/common"),require("rxjs"),require("rxjs/operators"),require("@angular/common/http"),require("@ngxs/store"),require("just-compare"),require("snq"),require("@angular/forms"),require("angular-oauth2-oidc"),require("just-clone")):"function"==typeof define&&define.amd?define("@abp/ng.core",["exports","@angular/core","@angular/router","@angular/common","rxjs","rxjs/operators","@angular/common/http","@ngxs/store","just-compare","snq","@angular/forms","angular-oauth2-oidc","just-clone"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).abp=t.abp||{},t.abp.ng=t.abp.ng||{},t.abp.ng.core={}),t.ng.core,t.ng.router,t.ng.common,t.rxjs,t.rxjs.operators,t.ng.common.http,t.i4,t.compare,t.snq,t.ng.forms,t.i1$1,t.clone)}(this,(function(t,e,n,r,o,i,a,u,s,c,p,f,l){"use strict";function d(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function h(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}var v=h(e),y=h(n),g=h(a),m=h(u),b=d(s),S=d(c),C=h(f),I=d(l),A=function(){function t(t){this.injector=t,this.valueFn=function(t){return t},this.valueLimitFn=function(t){return!1},this.cdRef=t.get(e.ChangeDetectorRef)}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value||this.defaultValue},set:function(t){t=this.valueFn(t,this._value),!1!==this.valueLimitFn(t,this._value)||this.readonly||(this._value=t,this.notifyValueChange())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValue",{get:function(){return this._value},enumerable:!1,configurable:!0}),t.prototype.notifyValueChange=function(){this.onChange&&this.onChange(this.value)},t.prototype.writeValue=function(t){var e=this;this._value=this.valueLimitFn(t,this._value)||t,setTimeout((function(){return e.cdRef.markForCheck()}),0)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t}();A.decorators=[{type:e.Component,args:[{template:""}]}],A.ctorParameters=function(){return[{type:e.Injector}]},A.propDecorators={disabled:[{type:e.Input}],readonly:[{type:e.Input}],valueFn:[{type:e.Input}],valueLimitFn:[{type:e.Input}],value:[{type:e.Input}]};var E=function(){};E.type="[Config] Get App Configuration";var j=function(t){this.environment=t};j.type="[Config] Set Environment";var O=function(t){this.state=t};O.type="[Config] Set State";var T=function(t){this.payload=t};T.type="[Loader] Start";var R=function(t){this.payload=t};R.type="[Loader] Stop";var w=function(){};w.type="[Profile] Get";var P=function(t){this.payload=t};P.type="[Profile] Update";var k=function(t){this.payload=t};k.type="[Profile] Change Password";var N=function(t){this.payload=t};N.type="[Rest] Error";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var L=function(t,e){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}L(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function D(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function x(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function M(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))}function z(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}Object.create;function F(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function U(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function $(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(U(arguments[e]));return t}Object.create;var q=new e.InjectionToken("CORE_OPTIONS");function B(t){var e=D(t,[]);return Object.assign({},e)}function G(){return function(){}}function V(t){return void 0===t||""===t}function H(t){return null==t}function K(t){return!H(t)}function Z(t){return t instanceof Object}function W(t){return Array.isArray(t)}function Y(t){return Z(t)&&!W(t)}function J(t){return t instanceof Node}function Q(t){return Y(t)&&!J(t)}function X(t,e){return Q(t)&&Q(e)?tt(t,e):H(t)&&H(e)?{}:K(e)?e:t}function tt(t,e){if(H(t)||H(e)||W(t)||W(e)||!Z(t)||!Z(e)||J(t)||J(e))return K(e)?e:t;var n=Object.keys(t),r=Object.keys(e);return $(new Set(n.concat(r))).reduce((function(n,r){return n[r]=tt(t[r],e[r]),n}),{})}var et=function(){function t(t){var e=this;this.initialState=t,this.state$=new o.BehaviorSubject(this.initialState),this.update$=new o.Subject,this.sliceState=function(t,n){return void 0===n&&(n=b.default),e.state$.pipe(i.map(t),i.distinctUntilChanged(n))},this.sliceUpdate=function(t,n){return void 0===n&&(n=function(t){return void 0!==t}),e.update$.pipe(i.map(t),i.filter(n))}}return Object.defineProperty(t.prototype,"state",{get:function(){return this.state$.value},enumerable:!1,configurable:!0}),t.prototype.patch=function(t){var e=t;"object"!=typeof t||Array.isArray(t)||(e=Object.assign(Object.assign({},this.state),t)),this.state$.next(e),this.update$.next(e)},t.prototype.deepPatch=function(t){this.state$.next(X(this.state,t)),this.update$.next(t)},t.prototype.set=function(t){this.state$.next(t),this.update$.next(t)},t.prototype.reset=function(){this.set(this.initialState)},t}(),nt=function(t){return function(e){return(e[t]||e.default).url||e.default.url}},rt=function(){function t(){this.store=new et({})}return Object.defineProperty(t.prototype,"createOnUpdateStream",{get:function(){return this.store.sliceUpdate},enumerable:!1,configurable:!0}),t.prototype.getEnvironment$=function(){return this.store.sliceState((function(t){return t}))},t.prototype.getEnvironment=function(){return this.store.state},t.prototype.getApiUrl=function(t){return nt(t)(this.store.state.apis)},t.prototype.getApiUrl$=function(t){return this.store.sliceState((function(t){return t.apis})).pipe(i.map(nt(t)))},t.prototype.setState=function(t){this.store.set(t)},t}();rt.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new rt},token:rt,providedIn:"root"}),rt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var ot=function(){function t(t,e,n,r){this.options=t,this.http=e,this.environment=n,this.store=r}return t.prototype.getApiFromStore=function(t){return this.environment.getApiUrl(t)},t.prototype.handleError=function(t){return this.store.dispatch(new N(t)),o.throwError(t)},t.prototype.request=function(t,e,n){var r=this;e=e||{},n=n||this.getApiFromStore(e.apiName);var a=t.method,u=t.params,s=D(t,["method","params"]),c=e.observe,p=void 0===c?"body":c,f=e.skipHandleError;return this.http.request(a,n+t.url,Object.assign(Object.assign({observe:p},u&&{params:Object.keys(u).reduce((function(t,e){var n=u[e];return V(n)?t:null!==n||r.options.sendNullsAsQueryParam?(t[e]=n,t):t}),{})}),s)).pipe(i.catchError((function(t){return f?o.throwError(t):r.handleError(t)})))},t}();ot.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new ot(v.ɵɵinject(q),v.ɵɵinject(g.HttpClient),v.ɵɵinject(rt),v.ɵɵinject(m.Store))},token:ot,providedIn:"root"}),ot.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],ot.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[q]}]},{type:a.HttpClient},{type:rt},{type:u.Store}]};var it=function(){function t(t){this.restService=t,this.apiName="abp"}return t.prototype.get=function(){return this.restService.request({method:"GET",url:"/api/abp/application-configuration"},{apiName:this.apiName})},t}();function at(t){return function(e,n,r){if("_"===e)return n;var o=S.default((function(){return t.values[e]}));return o&&o[n]||r}}function ut(t){var e=st(t);return function(t,n,r){return e(t,n).localized||r}}function st(t){var e=at(t);return function(n,r){for(var o=(n=n.concat(t.defaultResourceName).filter(Boolean)).length,i=r.length,a=0;a<o;a++)for(var u=n[a],s=0;s<i;s++){var c=r[s],p=e(u,c,null);if(p)return{resourceName:u,key:c,localized:p}}return{resourceName:void 0,key:void 0,localized:void 0}}}function ct(t){return function(e){var n=[],r=t.replace(/\./g,"\\.").replace(/\{\s?([0-9a-zA-Z]+)\s?\}/g,(function(t,e){return n.push(e),"(.+)"}));return(e.match(r)||[]).slice(1).reduce((function(t,e,r){var o=n[r];return t[o]=$(t[o]||[],[e]).filter(Boolean),t}),{})}}function pt(t,e){return t.replace(/(['"]?\{\s*(\d+)\s*\}['"]?)/g,(function(t,n,r){var o;return null!==(o=e[r])&&void 0!==o?o:n})).replace(/\s+/g," ")}it.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new it(v.ɵɵinject(ot))},token:it,providedIn:"root"}),it.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],it.ctorParameters=function(){return[{type:ot}]};var ft=function(){function t(t){this.abpConfigService=t,this.store=new et({})}return Object.defineProperty(t.prototype,"createOnUpdateStream",{get:function(){return this.store.sliceUpdate},enumerable:!1,configurable:!0}),t.prototype.setState=function(t){this.store.set(t)},t.prototype.refreshAppState=function(){var t=this;return this.abpConfigService.get().pipe(i.tap((function(e){return t.setState(e)})))},t.prototype.getOne$=function(t){return this.store.sliceState((function(e){return e[t]}))},t.prototype.getOne=function(t){return this.store.state[t]},t.prototype.getAll$=function(){return this.store.sliceState((function(t){return t}))},t.prototype.getAll=function(){return this.store.state},t.prototype.getDeep$=function(t){return t=lt(t),this.store.sliceState((function(t){return t})).pipe(i.map((function(e){return t.reduce((function(t,e){if(t)return t[e]}),e)})))},t.prototype.getDeep=function(t){return(t=lt(t)).reduce((function(t,e){if(t)return t[e]}),this.store.state)},t.prototype.getFeature=function(t){var e,n;return null===(n=null===(e=this.store.state.features)||void 0===e?void 0:e.values)||void 0===n?void 0:n[t]},t.prototype.getFeature$=function(t){return this.store.sliceState((function(e){var n,r;return null===(r=null===(n=e.features)||void 0===n?void 0:n.values)||void 0===r?void 0:r[t]}))},t.prototype.getFeatures=function(t){var e=this.store.state.features;if(e)return t.reduce((function(t,n){var r;return Object.assign(Object.assign({},t),((r={})[n]=e.values[n],r))}),{})},t.prototype.getFeatures$=function(t){return this.store.sliceState((function(e){var n=e.features;if(null==n?void 0:n.values)return t.reduce((function(t,e){var r;return Object.assign(Object.assign({},t),((r={})[e]=n.values[e],r))}),{})}))},t.prototype.getSetting=function(t){var e,n;return null===(n=null===(e=this.store.state.setting)||void 0===e?void 0:e.values)||void 0===n?void 0:n[t]},t.prototype.getSetting$=function(t){return this.store.sliceState((function(e){var n,r;return null===(r=null===(n=e.setting)||void 0===n?void 0:n.values)||void 0===r?void 0:r[t]}))},t.prototype.getSettings=function(t){var e,n=(null===(e=this.store.state.setting)||void 0===e?void 0:e.values)||{};return t?Object.keys(n).filter((function(e){return e.indexOf(t)>-1})).reduce((function(t,e){return t[e]=n[e],t}),{}):n},t.prototype.getSettings$=function(t){return this.store.sliceState((function(t){var e;return null===(e=t.setting)||void 0===e?void 0:e.values})).pipe(i.map((function(e){return void 0===e&&(e={}),t?Object.keys(e).filter((function(e){return e.indexOf(t)>-1})).reduce((function(t,n){return t[n]=e[n],t}),{}):e})))},t}();function lt(t){if("string"==typeof t&&(t=t.split(".")),!Array.isArray(t))throw new Error("The argument must be a dot string or an string array.");return t}ft.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new ft(v.ɵɵinject(it))},token:ft,providedIn:"root"}),ft.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],ft.ctorParameters=function(){return[{type:it}]};var dt=function(){function t(t){var e=this;this.configState=t,this.store=new et({}),this.updateLocalStorage=function(){localStorage.setItem("abpSession",JSON.stringify(e.store.state))},this.init(),this.setInitialLanguage()}return t.prototype.init=function(){var t=localStorage.getItem("abpSession");t&&this.store.set(JSON.parse(t)),this.store.sliceUpdate((function(t){return t})).subscribe(this.updateLocalStorage)},t.prototype.setInitialLanguage=function(){var t=this;this.getLanguage()||this.configState.getDeep$("localization.currentCulture.cultureName").pipe(i.filter((function(t){return!!t})),i.take(1)).subscribe((function(e){e.includes(";")&&(e=e.split(";")[0]),t.setLanguage(e)}))},t.prototype.onLanguageChange$=function(){return this.store.sliceUpdate((function(t){return t.language}))},t.prototype.onTenantChange$=function(){return this.store.sliceUpdate((function(t){return t.tenant}))},t.prototype.getLanguage=function(){return this.store.state.language},t.prototype.getLanguage$=function(){return this.store.sliceState((function(t){return t.language}))},t.prototype.getTenant=function(){return this.store.state.tenant},t.prototype.getTenant$=function(){return this.store.sliceState((function(t){return t.tenant}))},t.prototype.setTenant=function(t){b.default(t,this.store.state.tenant)||this.store.set(Object.assign(Object.assign({},this.store.state),{tenant:t}))},t.prototype.setLanguage=function(t){t!==this.store.state.language&&(this.store.patch({language:t}),document.documentElement.setAttribute("lang",t))},t}();dt.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new dt(v.ɵɵinject(ft))},token:dt,providedIn:"root"}),dt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],dt.ctorParameters=function(){return[{type:ft}]};var ht=function(){function t(t,e,n,r,i){if(this.sessionState=t,this.injector=e,this.configState=r,this.appConfigService=i,this.latestLang=this.sessionState.getLanguage(),this._languageChange$=new o.Subject,n)throw new Error("LocalizationService should have only one instance.");this.listenToSetLanguage()}return Object.defineProperty(t.prototype,"currentLang",{get:function(){return this.latestLang||this.sessionState.getLanguage()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"languageChange$",{get:function(){return this._languageChange$.asObservable()},enumerable:!1,configurable:!0}),t.prototype.listenToSetLanguage=function(){var t=this;this.sessionState.onLanguageChange$().pipe(i.filter((function(e){return t.configState.getDeep("localization.currentCulture.cultureName")!==e})),i.switchMap((function(e){return t.appConfigService.get().pipe(i.tap((function(e){return t.configState.setState(e)}))).pipe(i.mapTo(e))})),i.switchMap((function(e){return o.from(t.registerLocale(e).then((function(){return e})))}))).subscribe((function(e){return t._languageChange$.next(e)}))},t.prototype.registerLocale=function(t){var e=this;return(0,this.injector.get(q).registerLocaleFn)(t).then((function(n){(null==n?void 0:n.default)&&r.registerLocaleData(n.default),e.latestLang=t}))},t.prototype.get=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.configState.getAll$().pipe(i.map((function(n){return vt.apply(void 0,$([n,t],e))})))},t.prototype.getResource=function(t){return this.configState.getDeep("localization.values."+t)},t.prototype.getResource$=function(t){return this.configState.getDeep$("localization.values."+t)},t.prototype.instant=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return vt.apply(void 0,$([this.configState.getAll(),t],e))},t.prototype.localize=function(t,e,n){return this.configState.getOne$("localization").pipe(i.map(at),i.map((function(r){return r(t,e,n)})))},t.prototype.localizeSync=function(t,e,n){return at(this.configState.getOne("localization"))(t,e,n)},t.prototype.localizeWithFallback=function(t,e,n){return this.configState.getOne$("localization").pipe(i.map(ut),i.map((function(r){return r(t,e,n)})))},t.prototype.localizeWithFallbackSync=function(t,e,n){return ut(this.configState.getOne("localization"))(t,e,n)},t}();function vt(t,n){for(var r,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];n||(n=""),"string"!=typeof n&&(r=n.defaultValue,n=n.key);var a=n.split("::"),u=function(t){e.isDevMode&&console.warn(t)};if(a.length<2)return u("The localization source separator (::) not found."),r||n;if(!t.localization)return r||a[1];var s=a[0]||t.localization.defaultResourceName,c=a[1];if("_"===s)return r||c;if(!s)return u("Localization source name is not specified and the defaultResourceName was not defined!"),r||c;var p=t.localization.values[s];if(!p)return u("Could not find localization source: "+s),r||c;var f=p[c];return void 0===f?r||c:(o=o.filter((function(t){return null!=t})),f&&(f=pt(f,o)),"string"!=typeof f&&(f=""),f||r||n)}function yt(t,e){var n=t.find((function(t){return t.path===e}));return n||"/"===e?n:yt(t,e.split("/").slice(0,-1).join("/")||"/")}function gt(t,e){void 0===e&&(e=t.url);return"/"+(t.parseUrl(e).root.children[n.PRIMARY_OUTLET]||{segments:[]}).segments.map((function(t){return t.path})).join("/")}function mt(t,e){var n=this,r=t.routeReuseStrategy.shouldReuseRoute,o=function(e){t.routeReuseStrategy.shouldReuseRoute=e};o((function(){return!1})),t.navigated=!1,e.run((function(){return M(n,void 0,void 0,(function(){return z(this,(function(e){switch(e.label){case 0:return[4,t.navigateByUrl(t.url).catch(G)];case 1:return e.sent(),o(r),[2]}}))}))}))}ht.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new ht(v.ɵɵinject(dt),v.ɵɵinject(v.INJECTOR),v.ɵɵinject(ht,12),v.ɵɵinject(ft),v.ɵɵinject(it))},token:ht,providedIn:"root"}),ht.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],ht.ctorParameters=function(){return[{type:dt},{type:e.Injector},{type:ht,decorators:[{type:e.Optional},{type:e.SkipSelf}]},{type:ft},{type:it}]};var bt=function(){function t(t,e){this.ngZone=t,this.router=e,this.store=new et([])}return Object.defineProperty(t.prototype,"replaceableComponents$",{get:function(){return this.store.sliceState((function(t){return t}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"replaceableComponents",{get:function(){return this.store.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onUpdate$",{get:function(){return this.store.sliceUpdate((function(t){return t}))},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){var n=$(this.store.state),r=n.findIndex((function(e){return e.key===t.key}));r>-1?n[r]=t:n.push(t),this.store.set(n),e&&mt(this.router,this.ngZone)},t.prototype.get=function(t){return this.replaceableComponents.find((function(e){return e.key===t}))},t.prototype.get$=function(t){return this.replaceableComponents$.pipe(i.map((function(e){return e.find((function(e){return e.key===t}))})))},t}();bt.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new bt(v.ɵɵinject(v.NgZone),v.ɵɵinject(y.Router))},token:bt,providedIn:"root"}),bt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],bt.ctorParameters=function(){return[{type:e.NgZone},{type:n.Router}]};var St={Cancel:n.NavigationCancel,End:n.NavigationEnd,Error:n.NavigationError,Start:n.NavigationStart},Ct=function(){function t(t){this.router=t}return t.prototype.getEvents=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(e){return t.some((function(t){return e instanceof t}))};return this.router.events.pipe(i.filter(n))},t.prototype.getNavigationEvents=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(e){return t.some((function(t){return e instanceof St[t]}))};return this.router.events.pipe(i.filter(n))},t.prototype.getAllEvents=function(){return this.router.events},t.prototype.getAllNavigationEvents=function(){var t=Object.keys(St);return this.getNavigationEvents.apply(this,$(t))},t}();function It(t){return function(e){return t.push(e),t}}Ct.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new Ct(v.ɵɵinject(y.Router))},token:Ct,providedIn:"root"}),Ct.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Ct.ctorParameters=function(){return[{type:n.Router}]};var At=function(){function t(t){this.children=[],this.isLeaf=!0,Object.assign(this,t)}return t.create=function(e){return new t(e)},t}();function Et(t,e,n,r){var o=jt(t,e,r),i=[];return t.forEach((function(t){var r=e(t),a=n(t),u=o.get(r);if(u)if(a){var s=o.get(a);if(!s)return;s.children.push(u),s.isLeaf=!1,u.parent=s}else i.push(u)})),i}function jt(t,e,n){var r=new Map;return t.forEach((function(t){return r.set(e(t),n(t))})),r}var Ot=function(){function t(t){this.configState=t}return t.prototype.getGrantedPolicy$=function(t){var e=this;return this.getStream().pipe(i.map((function(n){return e.isPolicyGranted(t,n)})))},t.prototype.getGrantedPolicy=function(t){var e=this.getSnapshot();return this.isPolicyGranted(t,e)},t.prototype.filterItemsByPolicy=function(t){var e=this,n=this.getSnapshot();return t.filter((function(t){return!t.requiredPolicy||e.isPolicyGranted(t.requiredPolicy,n)}))},t.prototype.filterItemsByPolicy$=function(t){var e=this;return this.getStream().pipe(i.map((function(n){return t.filter((function(t){return!t.requiredPolicy||e.isPolicyGranted(t.requiredPolicy,n)}))})))},t.prototype.isPolicyGranted=function(t,e){var n=this;if(!t)return!0;var r;return/\|\|/g.test(t)?!((r=t.split("||").filter(Boolean)).length<2)&&r.some((function(t){return n.getPolicy(t.trim(),e)})):/&&/g.test(t)?!((r=t.split("&&").filter(Boolean)).length<2)&&r.every((function(t){return n.getPolicy(t.trim(),e)})):this.getPolicy(t,e)},t.prototype.getStream=function(){return this.configState.getAll$().pipe(i.map(this.mapToPolicies))},t.prototype.getSnapshot=function(){return this.mapToPolicies(this.configState.getAll())},t.prototype.mapToPolicies=function(t){return S.default((function(){return t.auth.grantedPolicies}),{})},t.prototype.getPolicy=function(t,e){return S.default((function(){return e[t]}),!1)},t}();Ot.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new Ot(v.ɵɵinject(ft))},token:Ot,providedIn:"root"}),Ot.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Ot.ctorParameters=function(){return[{type:ft}]};var Tt=function(){function t(){this._flat$=new o.BehaviorSubject([]),this._tree$=new o.BehaviorSubject([]),this._visible$=new o.BehaviorSubject([])}return Object.defineProperty(t.prototype,"flat",{get:function(){return this._flat$.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flat$",{get:function(){return this._flat$.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tree",{get:function(){return this._tree$.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tree$",{get:function(){return this._tree$.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible$.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible$",{get:function(){return this._visible$.asObservable()},enumerable:!1,configurable:!0}),t.prototype.createTree=function(t){var e=this;return Et(t,(function(t){return t[e.id]}),(function(t){return t[e.parentId]}),(function(t){return At.create(t)}))},t.prototype.filterWith=function(t){var e=this;return this._flat$.value.filter((function(n){return!t.has(n[e.id])}))},t.prototype.findItemsToRemove=function(t){var e=this;return this._flat$.value.reduce((function(t,n){if(!t.has(n[e.parentId]))return t;var r=new Set([n[e.id]]),o=e.findItemsToRemove(r);return new Set($(t,o))}),t)},t.prototype.publish=function(t,e){return this._flat$.next(t),this._tree$.next(this.createTree(t)),this._visible$.next(this.createTree(e)),t},t.prototype.add=function(t){var e=this,n=new Map;t.forEach((function(t){return n.set(t[e.id],t)}));var r=this.filterWith(n);n.forEach(It(r)),r.sort(this.sort);var o=r.filter((function(t){return!e.hide(t)}));return this.publish(r,o)},t.prototype.find=function(t,e){var n=this;return void 0===e&&(e=this.tree),e.reduce((function(e,r){return e||(t(r)?r:n.find(t,r.children))}),null)},t.prototype.patch=function(t,e){var n=this,r=this._flat$.value,o=r.findIndex((function(e){return e[n.id]===t}));if(o<0)return!1;r[o]=Object.assign(Object.assign({},r[o]),e),r.sort(this.sort);var i=r.filter((function(t){return!n.hide(t)}));return this.publish(r,i)},t.prototype.refresh=function(){return this.add([])},t.prototype.remove=function(t){var e=this,n=new Set;t.forEach((function(t){return n.add(t)}));var r=this.findItemsToRemove(n),o=this.filterWith(r),i=o.filter((function(t){return!e.hide(t)}));return this.publish(o,i)},t.prototype.search=function(t,e){var n=this;void 0===e&&(e=this.tree);var r=Object.keys(t);return e.reduce((function(e,o){return e||(r.every((function(e){return o[e]===t[e]}))?o:n.search(t,o.children))}),null)},t}(),Rt=function(t){function e(e){var n=t.call(this)||this;n.injector=e,n.id="name",n.parentId="parentName",n.hide=function(t){return t.invisible||!n.isGranted(t)},n.sort=function(t,e){return Number.isInteger(t.order)?Number.isInteger(e.order)?t.order-e.order:-1:1};var r=n.injector.get(ft);return n.subscription=r.createOnUpdateStream((function(t){return t})).subscribe((function(){return n.refresh()})),n.permissionService=e.get(Ot),n}return _(e,t),e.prototype.isGranted=function(t){var e=t.requiredPolicy;return this.permissionService.getGrantedPolicy(e)},e.prototype.hasChildren=function(t){var e,n=this,r=this.find((function(e){return e[n.id]===t}));return Boolean(null===(e=null==r?void 0:r.children)||void 0===e?void 0:e.length)},e.prototype.hasInvisibleChild=function(t){var e,n=this,r=this.find((function(e){return e[n.id]===t}));return null===(e=null==r?void 0:r.children)||void 0===e?void 0:e.some((function(t){return t.invisible}))},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e}(Tt);Rt.decorators=[{type:e.Injectable}],Rt.ctorParameters=function(){return[{type:e.Injector}]};var wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e}(Rt);wt.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new wt(v.ɵɵinject(v.INJECTOR))},token:wt,providedIn:"root"}),wt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var Pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e}(Rt);Pt.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new Pt(v.ɵɵinject(v.INJECTOR))},token:Pt,providedIn:"root"}),Pt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var kt=function(){function t(){this.subscription=new o.Subscription}return Object.defineProperty(t.prototype,"isClosed",{get:function(){return this.subscription.closed},enumerable:!1,configurable:!0}),t.prototype.addOne=function(t,e,n){var r=t.subscribe(e,n);return this.subscription.add(r),r},t.prototype.closeAll=function(){this.subscription.unsubscribe()},t.prototype.closeOne=function(t){this.removeOne(t),t.unsubscribe()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.removeOne=function(t){t&&this.subscription.remove(t)},t.prototype.reset=function(){this.subscription.unsubscribe(),this.subscription=new o.Subscription},t}();kt.decorators=[{type:e.Injectable}];var Nt=function(){function t(t,e,r,o,i,a){this.localizationService=e,this.replaceableComponents=r,this.subscription=o,this.routerEvents=i,this.layouts=new Map([["application","Theme.ApplicationLayoutComponent"],["account","Theme.AccountLayoutComponent"],["empty","Theme.EmptyLayoutComponent"]]),this.isLayoutVisible=!0,a||(this.route=t.get(n.ActivatedRoute),this.router=t.get(n.Router),this.routes=t.get(wt),this.getLayout(),this.checkLayoutOnNavigationEnd(),this.listenToLanguageChange())}return t.prototype.checkLayoutOnNavigationEnd=function(){var t=this,e=this.routerEvents.getNavigationEvents("End");this.subscription.addOne(e,(function(){return t.getLayout()}))},t.prototype.getLayout=function(){var t,e=(this.route.snapshot.data||{}).layout;if(!e){var n=yt(this.routes,gt(this.router));for(n={parent:n};n.parent;)if((n=n.parent).layout){e=n.layout;break}}if(e||(e="empty"),this.layoutKey!==e){var r=this.layouts.get(e);this.layout=null===(t=this.getComponent(r))||void 0===t?void 0:t.component,this.layoutKey=e}},t.prototype.listenToLanguageChange=function(){var t=this;this.subscription.addOne(this.localizationService.languageChange$,(function(){t.isLayoutVisible=!1,setTimeout((function(){return t.isLayoutVisible=!0}),0)}))},t.prototype.getComponent=function(t){return this.replaceableComponents.get(t)},t}();Nt.decorators=[{type:e.Component,args:[{selector:"abp-dynamic-layout",template:'\n    <ng-container *ngTemplateOutlet="layout ? componentOutlet : routerOutlet"></ng-container>\n    <ng-template #routerOutlet><router-outlet></router-outlet></ng-template>\n    <ng-template #componentOutlet\n      ><ng-container *ngIf="isLayoutVisible" [ngComponentOutlet]="layout"></ng-container\n    ></ng-template>\n  ',providers:[kt]}]}],Nt.ctorParameters=function(){return[{type:e.Injector},{type:ht},{type:bt},{type:kt},{type:Ct},{type:Nt,decorators:[{type:e.Optional},{type:e.SkipSelf}]}]};var Lt=function(){function t(t,e,n){this.route=t,this.replaceableComponents=e,this.subscription=n}return t.prototype.ngOnInit=function(){var t=this;this.defaultComponent=this.route.snapshot.data.replaceableComponent.defaultComponent,this.componentKey=this.route.snapshot.data.replaceableComponent.key;var e=this.replaceableComponents.get$(this.componentKey).pipe(i.distinctUntilChanged());this.subscription.addOne(e,(function(e){void 0===e&&(e={}),t.externalComponent=e.component}))},t}();Lt.decorators=[{type:e.Component,args:[{selector:"abp-replaceable-route-container",template:'\n    <ng-container *ngComponentOutlet="externalComponent || defaultComponent"></ng-container>\n  ',providers:[kt]}]}],Lt.ctorParameters=function(){return[{type:n.ActivatedRoute},{type:bt},{type:kt}]};var _t=function(){};_t.decorators=[{type:e.Component,args:[{selector:"abp-router-outlet",template:"\n    <router-outlet></router-outlet>\n  "}]}];var Dt={aa:"en","aa-DJ":"en","aa-ER":"en","aa-ET":"en","af-ZA":"af","agq-CM":"agq","ak-GH":"ak","am-ET":"am","ar-001":"ar",arn:"en","arn-CL":"en","as-IN":"as","asa-TZ":"asa","ast-ES":"ast","az-Cyrl-AZ":"az-Cyrl","az-Latn-AZ":"az-Latn",ba:"ru","ba-RU":"ru","bas-CM":"bas","be-BY":"be","bem-ZM":"bem","bez-TZ":"bez","bg-BG":"bg",bin:"en","bin-NG":"en","bm-Latn":"bm","bm-Latn-ML":"bm","bn-BD":"bn","bo-CN":"bo","br-FR":"br","brx-IN":"brx","bs-Cyrl-BA":"bs-Cyrl","bs-Latn-BA":"bs-Latn",byn:"en","byn-ER":"en","ca-ES":"ca","ca-ES-valencia":"ca-ES-VALENCIA","ce-RU":"ce","cgg-UG":"cgg","chr-Cher":"chr","chr-Cher-US":"chr",co:"en","co-FR":"fr","cs-CZ":"cs","cu-RU":"cu","cy-GB":"cy","da-DK":"da","dav-KE":"dav","de-DE":"de","dje-NE":"dje","dsb-DE":"dsb","dua-CM":"dua",dv:"en","dv-MV":"en","dyo-SN":"dyo","dz-BT":"dz","ebu-KE":"ebu","ee-GH":"ee","el-GR":"el","en-029":"en","en-ID":"en","en-US":"en","eo-001":"en","es-ES":"es","et-EE":"et","eu-ES":"eu","ewo-CM":"ewo","fa-IR":"fa","ff-Latn-SN":"ff-Latn","ff-NG":"ff","fi-FI":"fi","fil-PH":"fil","fo-FO":"fo","fr-029":"fr","fr-FR":"fr","fur-IT":"fur","fy-NL":"fy","ga-IE":"ga","gd-GB":"gd","gl-ES":"gl",gn:"en","gn-PY":"en","gsw-CH":"gsw","gu-IN":"gu","guz-KE":"guz","gv-IM":"gv","ha-Latn":"ha","ha-Latn-GH":"ha-GH","ha-Latn-NE":"ha-NE","ha-Latn-NG":"ha","haw-US":"haw","he-IL":"he","hi-IN":"hi","hr-HR":"hr","hsb-DE":"hsb","hu-HU":"hu","hy-AM":"hy","ia-001":"ia","ia-FR":"ia",ibb:"en","ibb-NG":"en","id-ID":"id","ig-NG":"ig","ii-CN":"ii","is-IS":"is","it-IT":"it",iu:"en","iu-Cans":"en","iu-Cans-CA":"en","iu-Latn":"en","iu-Latn-CA":"en","ja-JP":"ja","jgo-CM":"jgo","jmc-TZ":"jmc","jv-Java":"jv","jv-Java-ID":"jv","jv-Latn":"jv","jv-Latn-ID":"jv","ka-GE":"ka","kab-DZ":"kab","kam-KE":"kam","kde-TZ":"kde","kea-CV":"kea","khq-ML":"khq","ki-KE":"ki","kk-KZ":"kk","kkj-CM":"kkj","kl-GL":"kl","kln-KE":"kln","km-KH":"km","kn-IN":"kn","ko-KR":"ko","kok-IN":"kok",kr:"en","kr-NG":"en","ks-Arab":"ks","ks-Arab-IN":"ks","ks-Deva":"ks","ks-Deva-IN":"ks","ksb-TZ":"ksb","ksf-CM":"ksf","ksh-DE":"ksh","ku-Arab":"ku","ku-Arab-IQ":"ku","ku-Arab-IR":"ku","kw-GB":"kw","ky-KG":"ky",la:"en","la-001":"en","lag-TZ":"lag","lb-LU":"lb","lg-UG":"lg","lkt-US":"lkt","ln-CD":"ln","lo-LA":"lo","lrc-IR":"lrc","lt-LT":"lt","lu-CD":"lu","luo-KE":"luo","luy-KE":"luy","lv-LV":"lv","mas-KE":"mas","mer-KE":"mer","mfe-MU":"mfe","mg-MG":"mg","mgh-MZ":"mgh","mgo-CM":"mgo","mi-NZ":"mi","mk-MK":"mk","ml-IN":"ml","mn-Cyrl":"mn","mn-MN":"mn","mn-Mong":"mn","mn-Mong-CN":"mn","mn-Mong-MN":"mn",mni:"en","mni-IN":"en",moh:"en","moh-CA":"en","mr-IN":"mr","ms-MY":"ms","mt-MT":"mt","mua-CM":"mua","my-MM":"my","mzn-IR":"mzn","naq-NA":"naq","nb-NO":"nb","nd-ZW":"nd","ne-NP":"ne","nl-NL":"nl","nmg-CM":"ngm","nn-NO":"nn","nnh-CM":"nnh",no:"en",nqo:"en","nqo-GN":"en",nr:"en","nr-ZA":"en",nso:"en","nso-ZA":"en","nus-SS":"nus","nyn-UG":"nyn",oc:"en","oc-FR":"fr","om-ET":"om","or-IN":"or","os-GE":"os","pa-Arab-PK":"pa-Arab","pa-IN":"pa",pap:"en","pap-029":"en","pl-PL":"pl","prg-001":"prg",prs:"en","prs-AF":"en","ps-AF":"ps","pt-BR":"pt",quc:"en","quc-Latn":"en","quc-Latn-GT":"en",quz:"en","quz-BO":"en","quz-EC":"en","quz-PE":"en","rm-CH":"rm","rn-BI":"rn","ro-RO":"ro","rof-TZ":"rof","ru-RU":"ru","rw-RW":"rw","rwk-TZ":"rwk",sa:"en","sa-IN":"en","sah-RU":"sah","saq-KE":"saq","sbp-TZ":"en","sd-Arab":"sd","sd-Arab-PK":"sd","sd-Deva":"sd","sd-Deva-IN":"sd","se-NO":"se","seh-MZ":"seh","ses-ML":"ses","sg-CF":"sg","shi-Latn-MA":"shi-Latn","shi-Tfng-MA":"shi-Tfng","si-LK":"si","sk-SK":"sk","sl-SI":"sl",sma:"en","sma-NO":"en","sma-SE":"en",smj:"en","smj-NO":"en","smj-SE":"en","smn-FI":"en",sms:"en","sms-FI":"en","sn-Latn":"sn","sn-Latn-ZW":"sn","so-SO":"so","sq-AL":"so","sr-Cyrl-RS":"sr-Cryl","sr-Latn-RS":"sr-Latn",ss:"en","ss-SZ":"en","ss-ZA":"en",ssy:"en","ssy-ER":"en",st:"en","st-LS":"en","st-ZA":"en","sv-SE":"sv","sw-TZ":"sw",syr:"en","syr-SY":"en","ta-IN":"ta","te-IN":"te","teo-UG":"teo","tg-Cyrl":"tg","tg-Cyrl-TJ":"tg","th-TH":"th","ti-ET":"ti",tig:"en","tig-ER":"en","tk-TM":"tk",tn:"en","tn-BW":"en","tn-ZA":"en","to-TO":"to","tr-TR":"tr",ts:"en","ts-ZA":"en","tt-RU":"tt","twq-NE":"twq","tzm-Arab":"tzm","tzm-Arab-MA":"tzm","tzm-Latn":"tzm","tzm-Latn-DZ":"tzm","tzm-Latn-MA":"tzm","tzm-Tfng":"tzm","tzm-Tfng-MA":"tzm","ug-CN":"ug","uk-UA":"uk","ur-PK":"ur","uz-Arab-AF":"uz-Arab","uz-Cyrl-UZ":"uz-Cyrl","uz-Latn-UZ":"uz-Latn","vai-Latn-LR":"vai-Latn","vai-Vaii-LR":"vai-Vaii",ve:"en","ve-ZA":"en","vi-VN":"vi","vo-001":"vo","vun-TZ":"vun","wae-CH":"wae",wal:"en","wal-ET":"en","wo-SN":"wo","xh-ZA":"xh","xog-UG":"xog","yav-CM":"yav","yi-001":"yi","yo-NG":"yo","zgh-Tfng":"zgh","zgh-Tfng-MA":"zgh","zh-CN":"zh","zh-HK":"zh","zh-MO":"zh","zh-SG":"zh","zh-TW":"zh","zu-ZA":"zu"},xt=function(){function t(t){this.elRef=t,this.delay=0}return t.prototype.ngAfterViewInit=function(){var t=this;setTimeout((function(){return t.elRef.nativeElement.focus()}),this.delay)},t}();xt.decorators=[{type:e.Directive,args:[{selector:"[autofocus]"}]}],xt.ctorParameters=function(){return[{type:e.ElementRef}]},xt.propDecorators={delay:[{type:e.Input,args:["autofocus"]}]};var Mt=function(){function t(t,n){this.el=t,this.subscription=n,this.debounce=300,this.debounceEvent=new e.EventEmitter}return t.prototype.ngOnInit=function(){var t=this,e=o.fromEvent(this.el.nativeElement,"input").pipe(i.debounceTime(this.debounce));this.subscription.addOne(e,(function(e){t.debounceEvent.emit(e)}))},t}();Mt.decorators=[{type:e.Directive,args:[{selector:"[input.debounce]",providers:[kt]}]}],Mt.ctorParameters=function(){return[{type:e.ElementRef},{type:kt}]},Mt.propDecorators={debounce:[{type:e.Input}],debounceEvent:[{type:e.Output,args:["input.debounce"]}]};var zt=function(t,e,n,r){this.$implicit=t,this.index=e,this.count=n,this.list=r},Ft=function(t,e){this.record=t,this.view=e},Ut=function(){function t(t,e,n){this.tempRef=t,this.vcRef=e,this.differs=n}return Object.defineProperty(t.prototype,"compareFn",{get:function(){return this.compareBy||b.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackByFn",{get:function(){return this.trackBy||function(t,e){return e.id||t}},enumerable:!1,configurable:!0}),t.prototype.iterateOverAppliedOperations=function(t){var e=this,n=[];t.forEachOperation((function(t,r,o){if(null==t.previousIndex){var i=e.vcRef.createEmbeddedView(e.tempRef,new zt(null,-1,-1,e.items),o);n.push(new Ft(t,i))}else if(null==o)e.vcRef.remove(r);else{i=e.vcRef.get(r);e.vcRef.move(i,o),n.push(new Ft(t,i))}}));for(var r=0,o=n.length;r<o;r++)n[r].view.context.$implicit=n[r].record.item},t.prototype.iterateOverAttachedViews=function(t){for(var e=this,n=0,r=this.vcRef.length;n<r;n++){var o=this.vcRef.get(n);o.context.index=n,o.context.count=r,o.context.list=this.items}t.forEachIdentityChange((function(t){e.vcRef.get(t.currentIndex).context.$implicit=t.item}))},t.prototype.projectItems=function(t){if(!t.length&&this.emptyRef)return this.vcRef.clear(),this.vcRef.createEmbeddedView(this.emptyRef).rootNodes,this.isShowEmptyRef=!0,void(this.differ=null);if(this.emptyRef&&this.isShowEmptyRef&&(this.vcRef.clear(),this.isShowEmptyRef=!1),!this.differ&&t&&(this.differ=this.differs.find(t).create(this.trackByFn)),this.differ){var e=this.differ.diff(t);e&&(this.iterateOverAppliedOperations(e),this.iterateOverAttachedViews(e))}},t.prototype.sortItems=function(t){var e=this;this.orderBy?t.sort((function(t,n){return t[e.orderBy]>n[e.orderBy]?1:t[e.orderBy]<n[e.orderBy]?-1:0})):t.sort()},t.prototype.ngOnChanges=function(){var t=this,e=I.default(this.items);if(Array.isArray(e)){var n=this.compareFn;switch(void 0!==this.filterBy&&void 0!==this.filterVal&&""!==this.filterVal&&(e=e.filter((function(e){return n(e[t.filterBy],t.filterVal)}))),this.orderDir){case"ASC":this.sortItems(e),this.projectItems(e);break;case"DESC":this.sortItems(e),e.reverse(),this.projectItems(e);break;default:this.projectItems(e)}}},t}();Ut.decorators=[{type:e.Directive,args:[{selector:"[abpFor]"}]}],Ut.ctorParameters=function(){return[{type:e.TemplateRef},{type:e.ViewContainerRef},{type:e.IterableDiffers}]},Ut.propDecorators={items:[{type:e.Input,args:["abpForOf"]}],orderBy:[{type:e.Input,args:["abpForOrderBy"]}],orderDir:[{type:e.Input,args:["abpForOrderDir"]}],filterBy:[{type:e.Input,args:["abpForFilterBy"]}],filterVal:[{type:e.Input,args:["abpForFilterVal"]}],trackBy:[{type:e.Input,args:["abpForTrackBy"]}],compareBy:[{type:e.Input,args:["abpForCompareBy"]}],emptyRef:[{type:e.Input,args:["abpForEmptyRef"]}]};var $t=function(){function t(t,n,r,o){this.formGroupDirective=t,this.host=n,this.cdRef=r,this.subscription=o,this.debounce=200,this.ngSubmit=new e.EventEmitter,this.executedNgSubmit=!1}return t.prototype.ngOnInit=function(){var t=this;this.subscription.addOne(this.formGroupDirective.ngSubmit,(function(){t.markAsDirty(),t.executedNgSubmit=!0}));var e=o.fromEvent(this.host.nativeElement,"keyup").pipe(i.debounceTime(this.debounce),i.filter((function(t){return!(t.target instanceof HTMLTextAreaElement)})),i.filter((function(t){return t&&"Enter"===t.key})));this.subscription.addOne(e,(function(){t.executedNgSubmit||t.host.nativeElement.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0})),t.executedNgSubmit=!1}))},t.prototype.markAsDirty=function(){var t=this.formGroupDirective.form;qt(t.controls),t.markAsDirty(),this.cdRef.detectChanges()},t}();function qt(t){Array.isArray(t)?t.forEach((function(t){qt(t.controls)})):Object.keys(t).forEach((function(e){t[e].markAsDirty(),t[e].updateValueAndValidity()}))}$t.decorators=[{type:e.Directive,args:[{selector:"form[ngSubmit][formGroup]",providers:[kt]}]}],$t.ctorParameters=function(){return[{type:p.FormGroupDirective,decorators:[{type:e.Self}]},{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:kt}]},$t.propDecorators={debounce:[{type:e.Input}],notValidateOnSubmit:[{type:e.Input}],ngSubmit:[{type:e.Output}]};var Bt=function(){function t(t){this.elRef=t,this.init=new e.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.init.emit(this.elRef)},t}();Bt.decorators=[{type:e.Directive,args:[{selector:"[abpInit]"}]}],Bt.ctorParameters=function(){return[{type:e.ElementRef}]},Bt.propDecorators={init:[{type:e.Output,args:["abpInit"]}]};var Gt=function(){function t(t,e,n,r,o,i){this.elRef=t,this.renderer=e,this.templateRef=n,this.vcRef=r,this.permissionService=o,this.cdRef=i}return t.prototype.check=function(){var t=this;this.subscription&&this.subscription.unsubscribe(),this.subscription=this.permissionService.getGrantedPolicy$(this.condition).pipe(i.distinctUntilChanged()).subscribe((function(e){t.templateRef?t.initStructural(e):t.initAttribute(e),t.cdRef.detectChanges()}))},t.prototype.initStructural=function(t){this.vcRef.clear(),t&&this.vcRef.createEmbeddedView(this.templateRef)},t.prototype.initAttribute=function(t){t||this.renderer.removeChild(this.elRef.nativeElement.parentElement,this.elRef.nativeElement)},t.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.ngOnChanges=function(){this.check()},t}();Gt.decorators=[{type:e.Directive,args:[{selector:"[abpPermission]"}]}],Gt.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2},{type:e.TemplateRef,decorators:[{type:e.Optional}]},{type:e.ViewContainerRef},{type:Ot},{type:e.ChangeDetectorRef}]},Gt.propDecorators={condition:[{type:e.Input,args:["abpPermission"]}]};var Vt=function(){function t(t,e,n,r,o,i){var a=this;this.injector=t,this.templateRef=e,this.cfRes=n,this.vcRef=r,this.replaceableComponents=o,this.subscription=i,this.providedData={inputs:{},outputs:{}},this.context={},this.defaultComponentSubscriptions={},this.initialized=!1,this.context={initTemplate:function(t){a.resetDefaultComponent(),a.defaultComponentRef=t,a.setDefaultComponentInputs()}}}return t.prototype.ngOnInit=function(){var t=this,n=this.replaceableComponents.get$(this.data.componentKey).pipe(i.filter((function(e){return void 0===e&&(e={}),!t.initialized||!b.default(e.component,t.externalComponent)})));this.subscription.addOne(n,(function(n){if(void 0===n&&(n={}),t.vcRef.clear(),t.externalComponent=n.component,t.defaultComponentRef&&t.resetDefaultComponent(),n.component){t.setProvidedData();var r=e.Injector.create({providers:[{provide:"REPLACEABLE_DATA",useValue:t.providedData}],parent:t.injector});t.vcRef.createComponent(t.cfRes.resolveComponentFactory(n.component),0,r)}else t.vcRef.createEmbeddedView(t.templateRef,t.context);t.initialized=!0}))},t.prototype.ngOnChanges=function(t){S.default((function(){return t.data.currentValue.inputs}))&&this.defaultComponentRef&&this.setDefaultComponentInputs()},t.prototype.setDefaultComponentInputs=function(){var t=this;if(this.defaultComponentRef&&(this.data.inputs||this.data.outputs)){if(this.data.inputs)for(var e in this.data.inputs)this.data.inputs.hasOwnProperty(e)&&(b.default(this.defaultComponentRef[e],this.data.inputs[e].value)||(this.defaultComponentRef[e]=this.data.inputs[e].value));if(this.data.outputs){var n=function(e){r.data.outputs.hasOwnProperty(e)&&(r.defaultComponentSubscriptions[e]||(r.defaultComponentSubscriptions[e]=r.defaultComponentRef[e].subscribe((function(n){t.data.outputs[e](n)}))))},r=this;for(var e in this.data.outputs)n(e)}}},t.prototype.setProvidedData=function(){var t=this;this.providedData=Object.assign(Object.assign({},this.data),{inputs:{}}),this.data.inputs&&Object.defineProperties(this.providedData.inputs,Object.assign({},Object.keys(this.data.inputs).reduce((function(e,n){var r;return Object.assign(Object.assign({},e),((r={})[n]=Object.assign({enumerable:!0,configurable:!0,get:function(){return t.data.inputs[n].value}},t.data.inputs[n].twoWay&&{set:function(e){t.data.inputs[n].value=e,t.data.outputs[n+"Change"](e)}}),r))}),{})))},t.prototype.resetDefaultComponent=function(){var t=this;Object.keys(this.defaultComponentSubscriptions).forEach((function(e){t.defaultComponentSubscriptions[e].unsubscribe()})),this.defaultComponentSubscriptions={},this.defaultComponentRef=null},t}();Vt.decorators=[{type:e.Directive,args:[{selector:"[abpReplaceableTemplate]",providers:[kt]}]}],Vt.ctorParameters=function(){return[{type:e.Injector},{type:e.TemplateRef},{type:e.ComponentFactoryResolver},{type:e.ViewContainerRef},{type:bt},{type:kt}]},Vt.propDecorators={data:[{type:e.Input,args:["abpReplaceableTemplate"]}]};var Ht=function(){function t(t,n){this.el=t,this.subscription=n,this.stopPropEvent=new e.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.subscription.addOne(o.fromEvent(this.el.nativeElement,"click"),(function(e){e.stopPropagation(),t.stopPropEvent.emit(e)}))},t}();Ht.decorators=[{type:e.Directive,args:[{selector:"[click.stop]",providers:[kt]}]}],Ht.ctorParameters=function(){return[{type:e.ElementRef},{type:kt}]},Ht.propDecorators={stopPropEvent:[{type:e.Output,args:["click.stop"]}]};var Kt=function(){function t(t,e){this.elRef=t,this.renderer=e,this.completed$=new o.Subject}return t.prototype.ngAfterViewInit=function(){var t,e=this;!this.focusedElement&&this.elRef&&(this.focusedElement=this.elRef.nativeElement),(t=new MutationObserver((function(t){t.forEach((function(t){t.target&&(S.default((function(){return Array.from(t.target.childNodes).filter((function(t){return t instanceof HTMLElement}))}),[]).length||e.removeFromDOM())}))}))).observe(this.focusedElement,{childList:!0}),setTimeout((function(){S.default((function(){return Array.from(e.focusedElement.childNodes).filter((function(t){return t instanceof HTMLElement}))}),[]).length||e.removeFromDOM()}),0),this.completed$.subscribe((function(){return t.disconnect()}))},t.prototype.disconnect=function(){this.completed$.next(),this.completed$.complete()},t.prototype.removeFromDOM=function(){this.elRef.nativeElement&&(this.renderer.removeChild(this.elRef.nativeElement.parentElement,this.elRef.nativeElement),this.disconnect())},t}();Kt.decorators=[{type:e.Directive,args:[{selector:"[abpVisibility]"}]}],Kt.ctorParameters=function(){return[{type:e.ElementRef,decorators:[{type:e.Optional}]},{type:e.Renderer2}]},Kt.propDecorators={focusedElement:[{type:e.Input,args:["abpVisibility"]}]};var Zt=function(){function t(t,e,n){this.oAuthService=t,this.environmentService=e,this.options=n,this.listenToSetEnvironment()}return t.prototype.listenToSetEnvironment=function(){var t=this;this.environmentService.createOnUpdateStream((function(t){return t})).pipe(i.map((function(t){return t.oAuthConfig})),i.filter((function(e){return!b.default(e,t.options.environment.oAuthConfig)}))).subscribe((function(e){t.oAuthService.configure(e)}))},t}();Zt.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new Zt(v.ɵɵinject(C.OAuthService),v.ɵɵinject(rt),v.ɵɵinject(q))},token:Zt,providedIn:"root"}),Zt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Zt.ctorParameters=function(){return[{type:f.OAuthService},{type:rt},{type:void 0,decorators:[{type:e.Inject,args:[q]}]}]};var Wt=function(){function t(t,e){this.routes=t,this.router=e,this.addRoutes()}return t.prototype.addRoutes=function(){var t,e,n=this;null===(e=null===(t=this.router)||void 0===t?void 0:t.config)||void 0===e||e.forEach((function(t){var e=t.path,r=void 0===e?"":e,o=t.data;if(null==o?void 0:o.routes)if(Array.isArray(o.routes))n.routes.add(o.routes);else{var i=Yt([Object.assign({path:r},o.routes)],{path:""});n.routes.add(i)}}))},t}();function Yt(t,e){return t?t.reduce((function(t,n){var r=Object.assign(Object.assign({},n),{parentName:e.name,path:(e.path+"/"+n.path).replace(/\/\//g,"/")}),o=r.children,i=D(r,["children"]);return t.push.apply(t,$([i],Yt(o,i))),t}),[]):[]}function Jt(t){return new URL(t,window.location.origin).pathname}Wt.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new Wt(v.ɵɵinject(wt),v.ɵɵinject(y.Router,8))},token:Wt,providedIn:"root"}),Wt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Wt.ctorParameters=function(){return[{type:wt},{type:n.Router,decorators:[{type:e.Optional}]}]};var Qt=function(){function t(){}return t.prototype.encodeKey=function(t){return encodeURIComponent(t)},t.prototype.encodeValue=function(t){return encodeURIComponent(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}(),Xt=new e.InjectionToken("LOADER_DELAY"),te=function(){function t(t){this.store=new et({requests:[],filteredRequests:[]}),this.destroy$=new o.Subject,this.delay=t.get(Xt,500)}return t.prototype.getLoading=function(){return!!this.applyFilter(this.store.state.requests).length},t.prototype.getLoading$=function(){var t=this;return this.store.sliceState((function(t){return t.requests})).pipe(i.map((function(e){return!!t.applyFilter(e).length})),i.switchMap((function(e){return e?0===t.delay?o.of(!0):o.timer(t.delay).pipe(i.mapTo(!0),i.takeUntil(t.destroy$)):o.of(!1)})),i.tap((function(){return t.destroy$.next()})))},t.prototype.updateLoading$=function(){var t=this;return this.store.sliceUpdate((function(e){var n=e.requests;return!!t.applyFilter(n).length}))},t.prototype.clearLoading=function(){this.store.patch({requests:[]})},t.prototype.addRequest=function(t){this.store.patch({requests:$(this.store.state.requests,[t])})},t.prototype.deleteRequest=function(t){var e=this.store.state.requests.filter((function(e){return e!==t}));this.store.patch({requests:e})},t.prototype.addFilter=function(t){var e=this,n=Array.isArray(t)?t:[t],r=$(this.store.state.filteredRequests.filter((function(t){return!n.some((function(n){return e.isSameRequest(t,n)}))})),n);this.store.patch({filteredRequests:r})},t.prototype.removeFilter=function(t){var e=this,n=Array.isArray(t)?t:[t],r=this.store.state.filteredRequests.filter((function(t){return!n.some((function(n){return e.isSameRequest(t,n)}))}));this.store.patch({filteredRequests:r})},t.prototype.applyFilter=function(t){var e=this,n=this.store.state.filteredRequests;return t.filter((function(t){var r=t.method,o=t.url;return!n.find((function(t){return e.isSameRequest(t,{method:r,endpoint:Jt(o)})}))}))},t.prototype.isSameRequest=function(t,e){var n=t.method;return t.endpoint===e.endpoint&&n===e.method},t}();te.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new te(v.ɵɵinject(v.INJECTOR))},token:te,providedIn:"root"}),te.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],te.ctorParameters=function(){return[{type:e.Injector}]};var ee=new e.InjectionToken("TENANT_KEY"),ne=function(){function t(t,e,n,r){this.oAuthService=t,this.sessionState=e,this.httpWaitService=n,this.tenantKey=r}return t.prototype.intercept=function(t,e){var n=this;return this.httpWaitService.addRequest(t),e.handle(t.clone({setHeaders:this.getAdditionalHeaders(t.headers)})).pipe(i.finalize((function(){return n.httpWaitService.deleteRequest(t)})))},t.prototype.getAdditionalHeaders=function(t){var e={},n=this.oAuthService.getAccessToken();!(null==t?void 0:t.has("Authorization"))&&n&&(e.Authorization="Bearer "+n);var r=this.sessionState.getLanguage();!(null==t?void 0:t.has("Accept-Language"))&&r&&(e["Accept-Language"]=r);var o=this.sessionState.getTenant();return!(null==t?void 0:t.has(this.tenantKey))&&(null==o?void 0:o.id)&&(e[this.tenantKey]=o.id),e},t}();ne.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new ne(v.ɵɵinject(C.OAuthService),v.ɵɵinject(dt),v.ɵɵinject(te),v.ɵɵinject(ee))},token:ne,providedIn:"root"}),ne.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],ne.ctorParameters=function(){return[{type:f.OAuthService},{type:dt},{type:te},{type:String,decorators:[{type:e.Inject,args:[ee]}]}]};var re=function(){function t(t){this.localization=t}return t.prototype.transform=function(t){var e;void 0===t&&(t="");for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(e=this.localization).instant.apply(e,$([t],n.reduce((function(t,e){return Array.isArray(e)?$(t,e):$(t,[e])}),[])))},t}();re.decorators=[{type:e.Injectable},{type:e.Pipe,args:[{name:"abpLocalization"}]}],re.ctorParameters=function(){return[{type:ht}]};var oe=function(){};oe.decorators=[{type:e.NgModule,args:[{exports:[re],declarations:[re]}]}];var ie=function(){function t(){}return t.prototype.transform=function(t,e,n){if(void 0===e&&(e="asc"),e=e&&e.toLowerCase(),!t||"asc"!==e&&"desc"!==e)return t;var r=[],o=[];n?(r=t.filter((function(t){return"number"==typeof t[n]})).sort((function(t,e){return t[n]-e[n]})),o=t.filter((function(t){return"string"==typeof t[n]})).sort((function(t,e){return t[n]<e[n]?-1:t[n]>e[n]?1:0}))):(r=t.filter((function(t){return"number"==typeof t})).sort(),o=t.filter((function(t){return"string"==typeof t})).sort());var i=$(r,o,t.filter((function(t){return"number"!=typeof(n?t[n]:t)&&"string"!=typeof(n?t[n]:t)})));return"asc"===e?i:i.reverse()},t}();ie.decorators=[{type:e.Injectable},{type:e.Pipe,args:[{name:"abpSort"}]}];var ae=function(t){function e(e){var n=t.call(this)||this;return n.localizationService=e,n}return _(e,t),e.prototype.toString=function(){var t=this.localizationService.currentLang;return Dt[t]||t},e.prototype.valueOf=function(){return this.toString()},e}(String),ue={provide:e.LOCALE_ID,useClass:ae,deps:[ht]},se=function(){function t(t){this.rest=t,this.apiName="AbpIdentity"}return t.prototype.get=function(){return this.rest.request({method:"GET",url:"/api/identity/my-profile"},{apiName:this.apiName})},t.prototype.update=function(t){var e={method:"PUT",url:"/api/identity/my-profile",body:t};return this.rest.request(e,{apiName:this.apiName})},t.prototype.changePassword=function(t,e){void 0===e&&(e=!1);var n={method:"POST",url:"/api/identity/my-profile/change-password",body:t};return this.rest.request(n,{skipHandleError:e,apiName:this.apiName})},t}();se.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new se(v.ɵɵinject(ot))},token:se,providedIn:"root"}),se.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],se.ctorParameters=function(){return[{type:ot}]},t.ɵbd=function(){function t(t){this.profileService=t}return t.getProfile=function(t){return t.profile},t.prototype.getProfile=function(t){var e=t.patchState;return this.profileService.get().pipe(i.tap((function(t){return e({profile:t})})))},t.prototype.updateProfile=function(t,e){var n=t.patchState,r=e.payload;return this.profileService.update(r).pipe(i.tap((function(t){return n({profile:t})})))},t.prototype.changePassword=function(t,e){var n=e.payload;return this.profileService.changePassword(n,!0)},t}(),t.ɵbd.decorators=[{type:e.Injectable}],t.ɵbd.ctorParameters=function(){return[{type:se}]},x([u.Action(w)],t.ɵbd.prototype,"getProfile",null),x([u.Action(P)],t.ɵbd.prototype,"updateProfile",null),x([u.Action(k)],t.ɵbd.prototype,"changePassword",null),x([u.Selector()],t.ɵbd,"getProfile",null),t.ɵbd=x([u.State({name:"ProfileState",defaults:{}})],t.ɵbd);var ce="passwordFlow";function pe(t){fe(),localStorage.setItem(ce,"true"),document.cookie="rememberMe=true; path=/"+(t?" ;expires=Fri, 31 Dec 9999 23:59:59 GMT":"")}function fe(){localStorage.removeItem(ce),document.cookie="rememberMe= ; path=/; expires = Thu, 01 Jan 1970 00:00:00 GMT"}var le=localStorage,de=function(){function t(t){var e=this;this.injector=t,this.catchError=function(t){return e.store.dispatch(new N(t))},this.store=t.get(u.Store),this.environment=t.get(rt),this.configState=t.get(ft),this.oAuthService=t.get(f.OAuthService),this.appConfigService=t.get(it),this.sessionState=t.get(dt),this.oAuthConfig=this.environment.getEnvironment().oAuthConfig,this.tenantKey=t.get(ee),this.listenToOauthErrors()}return t.prototype.init=function(){return M(this,void 0,void 0,(function(){var t=this;return z(this,(function(e){return function(t,e){var n="abpOAuthClientId";if(!e.getItem(n))return e.setItem(n,t),!1;var r=e.getItem(n)!==t;r&&e.setItem(n,t);return r}(this.environment.getEnvironment().oAuthConfig.clientId,le)&&me(le),this.oAuthService.configure(this.oAuthConfig),[2,this.oAuthService.loadDiscoveryDocument().then((function(){return t.oAuthService.hasValidAccessToken()||!t.oAuthService.getRefreshToken()?Promise.resolve():t.refreshToken()})).catch(this.catchError)]}))}))},t.prototype.refreshToken=function(){return this.oAuthService.refreshToken().catch((function(){return me()}))},t.prototype.listenToOauthErrors=function(){var t=this;this.oAuthService.events.pipe(i.filter((function(t){return t instanceof f.OAuthErrorEvent})),i.tap((function(){return me()})),i.switchMap((function(){return t.appConfigService.get()}))).subscribe((function(e){t.configState.setState(e)}))},t}(),he=function(t){function e(){var e=t.apply(this,$(arguments))||this;return e.isInternalAuth=!1,e}return _(e,t),e.prototype.init=function(){var e=Object.create(null,{init:{get:function(){return t.prototype.init}}});return M(this,void 0,void 0,(function(){var t=this;return z(this,(function(n){return[2,e.init.call(this).then((function(){return t.oAuthService.tryLogin().catch(G)})).then((function(){return t.oAuthService.setupAutomaticSilentRefresh({},"access_token")}))]}))}))},e.prototype.navigateToLogin=function(t){this.oAuthService.initCodeFlow("",this.getCultureParams(t))},e.prototype.checkIfInternalAuth=function(t){return this.oAuthService.initCodeFlow("",this.getCultureParams(t)),!1},e.prototype.logout=function(t){return o.from(this.oAuthService.revokeTokenAndLogout(this.getCultureParams(t)))},e.prototype.login=function(t){return this.oAuthService.initCodeFlow("",this.getCultureParams(t)),o.of(null)},e.prototype.getCultureParams=function(t){var e=this.sessionState.getLanguage(),n={culture:e,"ui-culture":e};return Object.assign(Object.assign({},e&&n),t)},e}(de),ve=function(t){function e(){var e=t.apply(this,$(arguments))||this;return e.isInternalAuth=!0,e.cookieKey="rememberMe",e.storageKey="passwordFlow",e}return _(e,t),e.prototype.listenToTokenExpiration=function(){var t=this;this.oAuthService.events.pipe(i.filter((function(t){return t instanceof f.OAuthInfoEvent&&"token_expires"===t.type&&"access_token"===t.info}))).subscribe((function(){t.oAuthService.getRefreshToken()?t.refreshToken():(t.oAuthService.logOut(),fe(),t.appConfigService.get().subscribe((function(e){t.configState.setState(e)})))}))},e.prototype.init=function(){var e=Object.create(null,{init:{get:function(){return t.prototype.init}}});return M(this,void 0,void 0,(function(){var t=this;return z(this,(function(n){var r,o;return r=this.cookieKey,(o=document.cookie.match(new RegExp("(^| )"+r+"=([^;]+)")))&&o[2]||!localStorage.getItem(this.storageKey)||this.oAuthService.logOut(),[2,e.init.call(this).then((function(){return t.listenToTokenExpiration()}))]}))}))},e.prototype.navigateToLogin=function(t){this.injector.get(n.Router).navigate(["/account/login"],{queryParams:t})},e.prototype.checkIfInternalAuth=function(){return!0},e.prototype.login=function(t){var e,n=this.sessionState.getTenant();return o.from(this.oAuthService.fetchTokenUsingPasswordFlow(t.username,t.password,new a.HttpHeaders(Object.assign({},n&&n.id&&(e={},e[this.tenantKey]=n.id,e))))).pipe(this.pipeToLogin(t))},e.prototype.pipeToLogin=function(t){var e=this,r=this.injector.get(n.Router);return o.pipe(i.switchMap((function(){return e.appConfigService.get()})),i.tap((function(n){e.configState.setState(n),pe(t.rememberMe),t.redirectUrl&&r.navigate([t.redirectUrl])})))},e.prototype.logout=function(t){var e=this,r=this.injector.get(n.Router);return o.from(this.oAuthService.revokeTokenAndLogout(t)).pipe(i.switchMap((function(){return e.appConfigService.get()})),i.tap((function(t){e.configState.setState(t),r.navigateByUrl("/"),fe()})))},e.prototype.refreshToken=function(){return this.oAuthService.refreshToken().catch((function(){me(),fe()}))},e}(de),ye=function(t){return new he(t)},ge=function(t){return new ve(t)};function me(t){void 0===t&&(t=le);["access_token","id_token","refresh_token","nonce","PKCE_verifier","expires_at","id_token_claims_obj","id_token_expires_at","id_token_stored_at","access_token_stored_at","granted_scopes","session_state"].forEach((function(e){return t.removeItem(e)}))}Date.prototype.toLocalISOString=function(){var t=this.getTimezoneOffset();return new Date(this.getTime()-6e4*t).toISOString()};var be=function(){function t(t){this.injector=t}return Object.defineProperty(t.prototype,"isInternalAuth",{get:function(){return this.strategy.isInternalAuth},enumerable:!1,configurable:!0}),t.prototype.init=function(){return M(this,void 0,void 0,(function(){var t=this;return z(this,(function(e){return[2,this.injector.get(rt).getEnvironment$().pipe(i.map((function(t){return null==t?void 0:t.oAuthConfig})),i.filter((function(t){return!!t})),i.tap((function(e){t.strategy="code"===e.responseType?ye(t.injector):ge(t.injector)})),i.switchMap((function(){return o.from(t.strategy.init())})),i.take(1)).toPromise()]}))}))},t.prototype.logout=function(t){return this.strategy.logout(t)},t.prototype.initLogin=function(){this.strategy.navigateToLogin()},t.prototype.navigateToLogin=function(t){this.strategy.navigateToLogin(t)},t.prototype.login=function(t){return this.strategy.login(t)},t}();be.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new be(v.ɵɵinject(v.INJECTOR))},token:be,providedIn:"root"}),be.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],be.ctorParameters=function(){return[{type:e.Injector}]};var Se=new e.InjectionToken("APP_INIT_ERROR_HANDLERS");function Ce(t,e){var n=t.get(rt),r=e.remoteEnv,o=r||{},s=o.headers,c=void 0===s?{}:s,p=o.method,f=void 0===p?"GET":p,l=o.url;if(!l)return Promise.resolve();var d=t.get(a.HttpClient),h=t.get(u.Store);return d.request(f,l,{headers:c}).pipe(i.catchError((function(t){return h.dispatch(new N(t))})),i.tap((function(t){return n.setState(function(t,e,n){switch(n.mergeStrategy){case"deepmerge":return X(t,e);case"overwrite":case null:case void 0:return e;default:return n.mergeStrategy(t,e)}}(e,t,r))}))).toPromise()}var Ie=function(t){var e=this;this.restService=t,this.apiName="abp",this.findTenantById=function(t,n){return e.restService.request({method:"GET",url:"/api/abp/multi-tenancy/tenants/by-id/"+t,headers:n},{apiName:e.apiName})},this.findTenantByName=function(t,n){return e.restService.request({method:"GET",url:"/api/abp/multi-tenancy/tenants/by-name/"+t,headers:n},{apiName:e.apiName})}};Ie.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new Ie(v.ɵɵinject(ot))},token:Ie,providedIn:"root"}),Ie.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Ie.ctorParameters=function(){return[{type:ot}]};var Ae=function(){function t(t,e,n,r,o){var a=this;this.restService=t,this.sessionState=e,this.tenantService=n,this.configStateService=r,this.tenantKey=o,this.domainTenant=null,this.isTenantBoxVisible=!0,this.apiName="abp",this.setTenantToState=function(t){return a.sessionState.setTenant({id:t.tenantId,name:t.name,isAvailable:!0}),a.configStateService.refreshAppState().pipe(i.map((function(e){return t})))}}return t.prototype.findTenantByName=function(t,e){return this.restService.request({url:"/api/abp/multi-tenancy/tenants/by-name/"+t,method:"GET",headers:e},{apiName:this.apiName})},t.prototype.findTenantById=function(t,e){return this.restService.request({url:"/api/abp/multi-tenancy/tenants/by-id/"+t,method:"GET",headers:e},{apiName:this.apiName})},t.prototype.setTenantByName=function(t){var e;return this.tenantService.findTenantByName(t,(e={},e[this.tenantKey]="",e)).pipe(i.switchMap(this.setTenantToState))},t.prototype.setTenantById=function(t){var e;return this.tenantService.findTenantById(t,(e={},e[this.tenantKey]="",e)).pipe(i.switchMap(this.setTenantToState))},t}();Ae.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new Ae(v.ɵɵinject(ot),v.ɵɵinject(dt),v.ɵɵinject(Ie),v.ɵɵinject(ft),v.ɵɵinject(ee))},token:Ae,providedIn:"root"}),Ae.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Ae.ctorParameters=function(){return[{type:ot},{type:dt},{type:Ie},{type:ft},{type:String,decorators:[{type:e.Inject,args:[ee]}]}]};var Ee="{0}";function je(t){var e,n;return M(this,void 0,void 0,(function(){var r,o,a,u,s,c,p,f;return z(this,(function(l){return r=t.get(rt),o=t.get(Ae),a=(null===(n=null===(e=r.getEnvironment())||void 0===e?void 0:e.application)||void 0===n?void 0:n.baseUrl)||"",u=function(t){var e;"/"!==t.charAt(t.length-1)&&(t+="/");var n=ct(t),r=Ee.replace(/[}{]/g,"");return null===(e=n(window.location.href)[r])||void 0===e?void 0:e[0]}(a),s=function(){o.isTenantBoxVisible=!1},c=function(t){o.domainTenant={id:t.tenantId,name:t.name,isAvailable:!0}},p=function(e){s(),c(e),Oe(t,e.name)},u?[2,o.setTenantByName(u).pipe(i.tap(p)).toPromise()]:(Oe(t,"","{0}."),d=o.tenantKey,(f=new URLSearchParams(window.location.search).get(d))?[2,o.setTenantById(f).toPromise()]:[2,Promise.resolve()]);var d}))}))}function Oe(t,e,n){void 0===n&&(n=Ee);var r=t.get(rt),o=I.default(r.getEnvironment());return o.application.baseUrl&&(o.application.baseUrl=o.application.baseUrl.replace(n,e)),o.oAuthConfig.redirectUri&&(o.oAuthConfig.redirectUri=o.oAuthConfig.redirectUri.replace(n,e)),o.oAuthConfig.issuer=o.oAuthConfig.issuer.replace(n,e),Object.keys(o.apis).forEach((function(t){Object.keys(o.apis[t]).forEach((function(r){o.apis[t][r]=o.apis[t][r].replace(n,e)}))})),r.setState(o)}function Te(t){var e=this;return function(){return M(e,void 0,void 0,(function(){var e,n,r,a;return z(this,(function(u){switch(u.label){case 0:return e=t.get(rt),n=t.get(ft),r=t.get(it),a=t.get(q),e.setState(a.environment),[4,Ce(t,a.environment)];case 1:return u.sent(),[4,je(t)];case 2:return u.sent(),[4,t.get(be).init()];case 3:return u.sent(),a.skipGetAppConfiguration?[2]:[2,r.get().pipe(i.tap((function(t){return n.setState(t)})),i.tap((function(){return Re(t)})),i.tap((function(){var e=n.getOne("currentTenant");t.get(dt).setTenant(e)})),i.catchError((function(e){var n=t.get(Se,null);return n&&n.length&&n.forEach((function(t){return t(e)})),o.throwError(e)}))).toPromise()]}}))}))}}function Re(t){var e=t.get(ft);t.get(f.OAuthService).hasValidAccessToken()&&!e.getDeep("currentUser.id")&&me()}function we(t){return function(){var e=t.get(dt),n=t.get(q).registerLocaleFn,o=e.getLanguage()||"en";return new Promise((function(t,e){n(o).then((function(e){return(null==e?void 0:e.default)&&r.registerLocaleData(e.default),t("resolved")}),e)}))}}function Pe(){return le}var ke=function(){};ke.decorators=[{type:e.NgModule,args:[{exports:[r.CommonModule,a.HttpClientModule,p.FormsModule,p.ReactiveFormsModule,n.RouterModule,oe,A,xt,Nt,Ut,$t,Bt,Mt,Gt,Lt,Vt,_t,ie,Ht,Kt],imports:[f.OAuthModule,r.CommonModule,a.HttpClientModule,p.FormsModule,p.ReactiveFormsModule,n.RouterModule,oe],declarations:[A,xt,Nt,Ut,$t,Bt,Mt,Gt,Lt,Vt,_t,ie,Ht,Kt],providers:[re],entryComponents:[_t,Nt,Lt]}]}];var Ne=function(){};Ne.decorators=[{type:e.NgModule,args:[{exports:[ke,oe],imports:[ke,oe,u.NgxsModule.forFeature([t.ɵbd]),f.OAuthModule.forRoot(),a.HttpClientXsrfModule.withOptions({cookieName:"XSRF-TOKEN",headerName:"RequestVerificationToken"})]}]}];var Le=function(){function t(){}return t.forRoot=function(t){return void 0===t&&(t={}),{ngModule:Ne,providers:[ue,{provide:"CORE_OPTIONS",useValue:t},{provide:q,useFactory:B,deps:["CORE_OPTIONS"]},{provide:a.HTTP_INTERCEPTORS,useExisting:ne,multi:!0},{provide:e.APP_INITIALIZER,multi:!0,deps:[Zt],useFactory:G},{provide:e.APP_INITIALIZER,multi:!0,deps:[e.Injector],useFactory:Te},{provide:e.APP_INITIALIZER,multi:!0,deps:[e.Injector],useFactory:we},{provide:e.APP_INITIALIZER,multi:!0,deps:[ht],useFactory:G},{provide:e.APP_INITIALIZER,multi:!0,deps:[Wt],useFactory:G},{provide:f.OAuthStorage,useFactory:Pe},{provide:ee,useValue:t.tenantKey||"__tenant"}]}},t}();Le.decorators=[{type:e.NgModule,args:[{exports:[ke],imports:[ke]}]}];var _e=function(){function t(t,e){this.oauthService=t,this.authService=e}return t.prototype.canActivate=function(){return!!this.oauthService.hasValidAccessToken()||(this.authService.navigateToLogin(),!1)},t}();_e.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new _e(v.ɵɵinject(C.OAuthService),v.ɵɵinject(be))},token:_e,providedIn:"root"}),_e.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],_e.ctorParameters=function(){return[{type:f.OAuthService},{type:be}]};var De=function(){function t(t,e,n,r){this.router=t,this.routesService=e,this.store=n,this.permissionService=r}return t.prototype.canActivate=function(t,e){var n=this,r=(t.data||{}).requiredPolicy;if(!r){var a=yt(this.routesService,gt(this.router,e.url));r=null==a?void 0:a.requiredPolicy}return r?this.permissionService.getGrantedPolicy$(r).pipe(i.tap((function(t){t||n.store.dispatch(new N({status:403}))}))):o.of(!0)},t}();De.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new De(v.ɵɵinject(y.Router),v.ɵɵinject(wt),v.ɵɵinject(m.Store),v.ɵɵinject(Ot))},token:De,providedIn:"root"}),De.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],De.ctorParameters=function(){return[{type:n.Router},{type:wt},{type:u.Store},{type:Ot}]};var xe=function(t){for(var e in void 0===t&&(t={}),t)t.hasOwnProperty(e)&&(this[e]=t[e])},Me=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return _(e,t),e}(xe),ze=function(t){for(var e in void 0===t&&(t={}),this.maxResultCount=10,t)t.hasOwnProperty(e)&&void 0!==t[e]&&(this[e]=t[e])},Fe=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return _(e,t),e}(ze),Ue=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return _(e,t),e}(Fe),$e=function(t){for(var e in void 0===t&&(t={}),t)t.hasOwnProperty(e)&&(this[e]=t[e])},qe=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return _(e,t),e}($e),Be=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return _(e,t),e}(qe),Ge=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return _(e,t),e}(qe),Ve=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return _(e,t),e}(Ge),He=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return _(e,t),e}(Ge),Ke=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return _(e,t),e}(He),Ze=function(t){for(var e in void 0===t&&(t={}),t)t.hasOwnProperty(e)&&(this[e]=t[e])},We=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return _(e,t),e}(Ze),Ye=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return _(e,t),e}(We),Je=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return _(e,t),e}(Ye),Qe=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return _(e,t),e}(Je),Xe=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return _(e,t),e}(Ye),tn=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return _(e,t),e}(Je),en=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return _(e,t),e}(tn),nn=function(){function t(t){this.rest=t}return t.prototype.getConfiguration=function(){return this.rest.request({method:"GET",url:"/api/abp/application-configuration"},{})},t}();nn.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new nn(v.ɵɵinject(ot))},token:nn,providedIn:"root"}),nn.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],nn.ctorParameters=function(){return[{type:ot}]};var rn=function(){function t(t){this.injector=t}return t.prototype.projectContent=function(t,e){return void 0===e&&(e=this.injector),t.injectContent(e)},t}();rn.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new rn(v.ɵɵinject(v.INJECTOR))},token:rn,providedIn:"root"}),rn.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],rn.ctorParameters=function(){return[{type:e.Injector}]};var on=function(t){function n(e){var n=t.call(this)||this;return n.moduleWithProviders=e,n}return _(n,t),Object.defineProperty(n.prototype,"moduleType",{get:function(){return this.moduleWithProviders.ngModule},enumerable:!1,configurable:!0}),n.prototype.create=function(t){var n=e.Injector.create({parent:t,providers:this.moduleWithProviders.providers});return n.get(e.Compiler).compileModuleSync(this.moduleType).create(n)},n}(e.NgModuleFactory);function an(t){return t==Number(t)}function un(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return e}var sn=function(){function t(t,e){this.crossorigin=t,this.integrity=e}return t.prototype.setCrossOrigin=function(t){this.integrity&&t.setAttribute("integrity",this.integrity),t.setAttribute("crossorigin",this.crossorigin)},t}(),cn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.setCrossOrigin=function(){},e}(sn),pn={Anonymous:function(t){return new sn("anonymous",t)},UseCredentials:function(t){return new sn("use-credentials",t)},None:function(){return new cn(null)}},fn=function(){function t(t,e){void 0===t&&(t=document.head),void 0===e&&(e="beforeend"),this.target=t,this.position=e}return t.prototype.insertElement=function(t){this.target.insertAdjacentElement(this.position,t)},t}(),ln={AfterElement:function(t){return new fn(t,"afterend")},AppendToBody:function(){return new fn(document.body,"beforeend")},AppendToHead:function(){return new fn(document.head,"beforeend")},BeforeElement:function(t){return new fn(t,"beforebegin")},PrependToHead:function(){return new fn(document.head,"afterbegin")}};function dn(t,e,n){return void 0===e&&(e=ln.AppendToHead()),void 0===n&&(n=pn.Anonymous()),n.setCrossOrigin(t),e.insertElement(t),new o.Observable((function(e){t.onload=function(n){hn(t),e.next(n),e.complete()};var n=function(t,e){return function(n){hn(e),e.parentNode.removeChild(e),t.error(n)}}(e,t);return t.onerror=n,t.onabort=n,t.onemptied=n,t.onstalled=n,t.onsuspend=n,function(){hn(t),e.complete()}}))}function hn(t){t.onload=null,t.onerror=null,t.onabort=null,t.onemptied=null,t.onstalled=null,t.onsuspend=null}function vn(t){return"function"==typeof t}var yn=function(){function t(){this.inserted=new Set}return t.prototype.insertContent=function(t){var e=un(t.content);if(!this.inserted.has(e)){var n=t.insertElement();return this.inserted.add(e),n}},t.prototype.removeContent=function(t){var e=un(t.textContent);this.inserted.delete(e),t.parentNode.removeChild(t)},t.prototype.has=function(t){var e=un(t);return this.inserted.has(e)},t}();yn.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new yn},token:yn,providedIn:"root"}),yn.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var gn=function(){function t(){this.store=new et({resources:new Set})}return t.prototype.getLoading=function(){return!!this.store.state.resources.size},t.prototype.getLoading$=function(){return this.store.sliceState((function(t){return!!t.resources.size}))},t.prototype.updateLoading$=function(){return this.store.sliceUpdate((function(t){return!!t.resources.size}))},t.prototype.clearLoading=function(){this.store.patch({resources:new Set})},t.prototype.addResource=function(t){var e=this.store.state.resources;e.add(t),this.store.patch({resources:e})},t.prototype.deleteResource=function(t){var e=this.store.state.resources;e.delete(t),this.store.patch({resources:e})},t}();gn.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new gn},token:gn,providedIn:"root"}),gn.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var mn=function(){function t(t){this.resourceWaitService=t,this.loaded=new Map}return t.prototype.load=function(t,e,n){var r=this;return this.loaded.has(t.path)?o.of(new CustomEvent("load")):(this.resourceWaitService.addResource(t.path),t.createStream().pipe(i.retryWhen((function(t){return o.concat(t.pipe(i.delay(n),i.take(e)),o.throwError(new CustomEvent("error")))})),i.tap((function(){r.loaded.set(t.path,t.element),r.resourceWaitService.deleteResource(t.path)})),i.delay(100),i.shareReplay({bufferSize:1,refCount:!0})))},t.prototype.remove=function(t){var e=this.loaded.get(t);return!!e&&(e.parentNode.removeChild(e),this.loaded.delete(t),!0)},t}();mn.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new mn(v.ɵɵinject(gn))},token:mn,providedIn:"root"}),mn.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],mn.ctorParameters=function(){return[{type:gn}]};var bn,Sn=new e.InjectionToken("LIST_QUERY_DEBOUNCE_TIME"),Cn=function(){function t(t){var e=this;this._filter="",this._maxResultCount=10,this._skipCount=0,this._page=0,this._sortKey="",this._sortOrder="",this._query$=new o.ReplaySubject(1),this._isLoading$=new o.BehaviorSubject(!1),this.destroy$=new o.Subject,this.get=function(){e.resetPageWhenUnchanged(),e.next()},this.getWithoutPageReset=function(){e.next()};var n=t.get(Sn,300);this.delay=n?i.debounceTime(n):i.tap(),this.get()}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter=t,this.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxResultCount",{get:function(){return this._maxResultCount},set:function(t){this._maxResultCount=t,this.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this._page},set:function(t){t!==this._page&&(this._page=t,this.get())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortKey",{get:function(){return this._sortKey},set:function(t){this._sortKey=t,this.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortOrder",{get:function(){return this._sortOrder},set:function(t){this._sortOrder=t,this.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"query$",{get:function(){return this._query$.asObservable().pipe(this.delay,i.shareReplay({bufferSize:1,refCount:!0}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading$",{get:function(){return this._isLoading$.asObservable()},enumerable:!1,configurable:!0}),t.prototype.hookToQuery=function(t){var e=this;return this._isLoading$.next(!0),this.query$.pipe(i.switchMap((function(e){return t(e).pipe(i.catchError((function(){return o.of(null)})))})),i.filter(Boolean),i.tap((function(){return e._isLoading$.next(!1)})),i.shareReplay({bufferSize:1,refCount:!0}),i.takeUntil(this.destroy$))},t.prototype.ngOnDestroy=function(){this.destroy$.next()},t.prototype.resetPageWhenUnchanged=function(){var t=this._page*this._maxResultCount;t===this._skipCount?(this._page=0,this._skipCount=0):this._skipCount=t},t.prototype.next=function(){this._query$.next({filter:this._filter||void 0,maxResultCount:this._maxResultCount,skipCount:this._page*this._maxResultCount,sorting:this._sortOrder?this._sortKey+" "+this._sortOrder:void 0})},t}();Cn.decorators=[{type:e.Injectable}],Cn.ctorParameters=function(){return[{type:e.Injector}]},t.ConfigState=bn=function(){function t(t,e,n,r,o){this.http=t,this.store=e,this.sessionState=n,this.environmentService=r,this.configState=o,this.syncConfigState(),this.syncEnvironment()}return t.getAll=function(t){return t},t.getApplicationInfo=function(t){return t.environment.application||{}},t.getEnvironment=function(t){return t.environment},t.getOne=function(t){return u.createSelector([bn],(function(e){return e[t]}))},t.getDeep=function(t){if("string"==typeof t&&(t=t.split(".")),!Array.isArray(t))throw new Error("The argument must be a dot string or an string array.");return u.createSelector([bn],(function(e){return t.reduce((function(t,e){if(t)return t[e]}),e)}))},t.getApiUrl=function(t){return u.createSelector([bn],(function(e){return(e.environment.apis[t||"default"]||e.environment.apis.default).url}))},t.getFeature=function(t){return u.createSelector([bn],(function(e){return S.default((function(){return e.features.values[t]}))}))},t.getSetting=function(t){return u.createSelector([bn],(function(e){return S.default((function(){return e.setting.values[t]}))}))},t.getSettings=function(t){return u.createSelector([bn],(function(e){var n=S.default((function(){return e.setting.values}),{});return t?Object.keys(n).filter((function(e){return e.indexOf(t)>-1})).reduce((function(t,e){return t[e]=n[e],t}),{}):n}))},t.getGrantedPolicy=function(t){return u.createSelector([bn],(function(e){if(!t)return!0;var n,r=function(t){return S.default((function(){return e.auth.grantedPolicies[t]}),!1)};return/\|\|/g.test(t)?!((n=t.split("||").filter(Boolean)).length<2)&&n.some((function(t){return r(t.trim())})):/&&/g.test(t)?!((n=t.split("&&").filter(Boolean)).length<2)&&n.every((function(t){return r(t.trim())})):r(t)}))},t.getLocalizationResource=function(t){return u.createSelector([bn],(function(e){return e.localization.values[t]}))},t.getLocalization=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t||(t=""),"string"!=typeof t&&(e=t.defaultValue,t=t.key);var o=t.split("::"),i=u.createSelector([bn],(function(r){var i=function(t){r.environment.production||console.warn(t)};if(o.length<2)return i("The localization source separator (::) not found."),e||t;if(!r.localization)return e||o[1];var a=o[0]||S.default((function(){return r.environment.localization.defaultResourceName}))||r.localization.defaultResourceName,u=o[1];if("_"===a)return e||u;if(!a)return i("Localization source name is not specified and the defaultResourceName was not defined!"),e||u;var s=r.localization.values[a];if(!s)return i("Could not find localization source: "+a),e||u;var c=s[u];return void 0===c?e||u:(n=n.filter((function(t){return null!=t})),c&&(c=pt(c,n)),"string"!=typeof c&&(c=""),c||e||t)}));return i},t.prototype.syncConfigState=function(){var t=this;this.configState.createOnUpdateStream((function(t){return t})).pipe(i.distinctUntilChanged(b.default)).subscribe((function(e){return t.store.dispatch(new O(e))}))},t.prototype.syncEnvironment=function(){var t=this;this.environmentService.createOnUpdateStream((function(t){return t})).pipe(i.distinctUntilChanged(b.default)).subscribe((function(e){return t.store.dispatch(new O({environment:e}))}))},t.prototype.addData=function(t){var e=this,n=(t.patchState,t.dispatch),r=this.store.selectSnapshot(bn.getApiUrl("default"));return this.http.get(r+"/api/abp/application-configuration").pipe(i.tap((function(t){return e.configState.setState(t)})),i.catchError((function(t){return n(new N(t)),o.throwError(t)})))},t.prototype.setEnvironment=function(t,e){var n=e.environment;return this.environmentService.setState(n)},t.prototype.setConfig=function(t,e){var n=t.patchState,r=t.getState,o=e.state;n(Object.assign(Object.assign({},r()),o))},t}(),t.ConfigState.decorators=[{type:e.Injectable}],t.ConfigState.ctorParameters=function(){return[{type:a.HttpClient},{type:u.Store},{type:dt},{type:rt},{type:ft}]},x([u.Action(E)],t.ConfigState.prototype,"addData",null),x([u.Action(j)],t.ConfigState.prototype,"setEnvironment",null),x([u.Action(O)],t.ConfigState.prototype,"setConfig",null),x([u.Selector()],t.ConfigState,"getAll",null),x([u.Selector()],t.ConfigState,"getApplicationInfo",null),x([u.Selector()],t.ConfigState,"getEnvironment",null),t.ConfigState=bn=x([u.State({name:"ConfigState",defaults:{}})],t.ConfigState);var In=function(){function e(t){this.store=t}return e.prototype.getProfile=function(){return this.store.selectSnapshot(t.ɵbd.getProfile)},e.prototype.dispatchGetProfile=function(){return this.store.dispatch(new w)},e.prototype.dispatchUpdateProfile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(P.bind.apply(P,$([void 0],t))))},e.prototype.dispatchChangePassword=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(k.bind.apply(k,$([void 0],t))))},e}();In.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new In(v.ɵɵinject(m.Store))},token:In,providedIn:"root"}),In.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],In.ctorParameters=function(){return[{type:u.Store}]};var An=function(){function t(t,e){this.routerEvents=t,this.store=new et({loading:!1}),this.destroy$=new o.Subject,this.delay=e.get(Xt,500),this.updateLoadingStatusOnNavigationEvents()}return t.prototype.updateLoadingStatusOnNavigationEvents=function(){var t=this;this.routerEvents.getAllNavigationEvents().pipe(i.map((function(t){return t instanceof n.NavigationStart})),i.switchMap((function(e){return e?0===t.delay?o.of(!0):o.timer(t.delay||0).pipe(i.mapTo(!0),i.takeUntil(t.destroy$)):o.of(!1)})),i.tap((function(){return t.destroy$.next()}))).subscribe((function(e){t.setLoading(e)}))},t.prototype.getLoading=function(){return this.store.state.loading},t.prototype.getLoading$=function(){return this.store.sliceState((function(t){return t.loading}))},t.prototype.updateLoading$=function(){return this.store.sliceUpdate((function(t){return t.loading}))},t.prototype.setLoading=function(t){this.store.patch({loading:t})},t}();An.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new An(v.ɵɵinject(Ct),v.ɵɵinject(v.INJECTOR))},token:An,providedIn:"root"}),An.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],An.ctorParameters=function(){return[{type:Ct},{type:e.Injector}]};var En=function(t){return function(e,n){return n[t]}},jn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,n){return t.reduce((function(t,e){return t[e]}),n)}},On=function(){this.by=En,this.byDeep=jn};On.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new On},token:On,providedIn:"root"}),On.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var Tn=function(){function t(t){this.containerRef=t}return t.prototype.prepare=function(){},t}(),Rn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.getIndex=function(){return 0},e.prototype.prepare=function(){this.containerRef.clear()},e}(Tn),wn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.index=n,r}return _(e,t),e.prototype.getIndex=function(){return Math.min(Math.max(0,this.index),this.containerRef.length)},e}(Tn),Pn={Clear:function(t){return new Rn(t)},Append:function(t){return new wn(t,t.length)},Prepend:function(t){return new wn(t,0)},Insert:function(t,e){return new wn(t,e)}},kn=function(t){this.nonce=t},Nn=function(t){function e(e){return t.call(this,e)||this}return _(e,t),e.prototype.applyCSP=function(t){t.setAttribute("nonce",this.nonce)},e}(kn),Ln=function(t){function e(){return t.call(this)||this}return _(e,t),e.prototype.applyCSP=function(t){},e}(kn),_n={Loose:function(t){return new Nn(t)},None:function(){return new Ln}},Dn=function(){function t(t,e,n){void 0===e&&(e=ln.AppendToHead()),void 0===n&&(n=_n.None()),this.content=t,this.domStrategy=e,this.contentSecurityStrategy=n}return t.prototype.insertElement=function(){var t=this.createElement();return this.contentSecurityStrategy.applyCSP(t),this.domStrategy.insertElement(t),t},t}(),xn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.createElement=function(){var t=document.createElement("style");return t.textContent=this.content,t},e}(Dn),Mn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.createElement=function(){var t=document.createElement("script");return t.textContent=this.content,t},e}(Dn),zn={AppendScriptToBody:function(t){return new Mn(t,ln.AppendToBody())},AppendScriptToHead:function(t){return new Mn(t,ln.AppendToHead())},AppendStyleToHead:function(t){return new xn(t,ln.AppendToHead())},PrependStyleToHead:function(t){return new xn(t,ln.PrependToHead())}},Fn=function(){function t(t){this.context=t}return t.prototype.setContext=function(t){return this.context},t}(),Un=function(t){function e(){return t.call(this,void 0)||this}return _(e,t),e}(Fn),$n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.setContext=function(t){var e=this;return Object.keys(this.context).forEach((function(n){return t.instance[n]=e.context[n]})),t.changeDetectorRef.detectChanges(),this.context},e}(Fn),qn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.setContext=function(){return this.context},e}(Fn),Bn={None:function(){return new Un},Component:function(t){return new $n(t)},Template:function(t){return new qn(t)}},Gn=function(){function t(t,e,n){void 0===e&&(e=ln.AppendToHead()),void 0===n&&(n=pn.Anonymous()),this.path=t,this.domStrategy=e,this.crossOriginStrategy=n}return t.prototype.createStream=function(){var t=this;return this.element=this.createElement(),o.of(null).pipe(i.switchMap((function(){return dn(t.element,t.domStrategy,t.crossOriginStrategy)})))},t}(),Vn=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return _(e,t),e.prototype.createElement=function(){var t=document.createElement("script");return t.src=this.path,t},e}(Gn),Hn=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return _(e,t),e.prototype.createElement=function(){var t=document.createElement("link");return t.rel="stylesheet",t.href=this.path,t},e}(Gn),Kn={AppendScriptToBody:function(t){return new Vn(t,ln.AppendToBody(),pn.None())},AppendAnonymousScriptToBody:function(t,e){return new Vn(t,ln.AppendToBody(),pn.Anonymous(e))},AppendAnonymousScriptToHead:function(t,e){return new Vn(t,ln.AppendToHead(),pn.Anonymous(e))},AppendAnonymousStyleToHead:function(t,e){return new Hn(t,ln.AppendToHead(),pn.Anonymous(e))},PrependAnonymousScriptToHead:function(t,e){return new Vn(t,ln.PrependToHead(),pn.Anonymous(e))},PrependAnonymousStyleToHead:function(t,e){return new Hn(t,ln.PrependToHead(),pn.Anonymous(e))}},Zn=function(t){this.content=t},Wn=function(t){function n(e,n,r){void 0===r&&(r=Bn.None());var o=t.call(this,e)||this;return o.containerStrategy=n,o.contextStrategy=r,o}return _(n,t),n.prototype.injectContent=function(t){this.containerStrategy.prepare();var n=t.get(e.ComponentFactoryResolver).resolveComponentFactory(this.content),r=this.containerStrategy.containerRef.createComponent(n,this.containerStrategy.getIndex(),t);return this.contextStrategy.setContext(r),r},n}(Zn),Yn=function(t){function n(e,n,r){void 0===n&&(n=Bn.None()),void 0===r&&(r=ln.AppendToBody());var o=t.call(this,e)||this;return o.contextStrategy=n,o.domStrategy=r,o}return _(n,t),n.prototype.injectContent=function(t){var n=t.get(e.ApplicationRef),r=t.get(e.ComponentFactoryResolver).resolveComponentFactory(this.content).create(t);this.contextStrategy.setContext(r),n.attachView(r.hostView);var o=r.hostView.rootNodes[0];return this.domStrategy.insertElement(o),r},n}(Zn),Jn=function(t){function e(e,n,r){void 0===r&&(r=Bn.None());var o=t.call(this,e)||this;return o.containerStrategy=n,o.contextStrategy=r,o}return _(e,t),e.prototype.injectContent=function(){this.containerStrategy.prepare();var t=this.containerStrategy.containerRef.createEmbeddedView(this.content,this.contextStrategy.context,this.containerStrategy.getIndex());return t.detectChanges(),t},e}(Zn),Qn={AppendComponentToBody:function(t,e){return new Yn(t,e&&Bn.Component(e))},AppendComponentToContainer:function(t,e,n){return new Wn(t,Pn.Append(e),n&&Bn.Component(n))},AppendTemplateToContainer:function(t,e,n){return new Jn(t,Pn.Append(e),n&&Bn.Template(n))},PrependComponentToContainer:function(t,e,n){return new Wn(t,Pn.Prepend(e),n&&Bn.Component(n))},PrependTemplateToContainer:function(t,e,n){return new Jn(t,Pn.Prepend(e),n&&Bn.Template(n))},ProjectComponentToContainer:function(t,e,n){return new Wn(t,Pn.Clear(e),n&&Bn.Component(n))},ProjectTemplateToContainer:function(t,e,n){return new Jn(t,Pn.Clear(e),n&&Bn.Template(n))}},Xn=new e.InjectionToken("NAVIGATE_TO_MANAGE_PROFILE",{providedIn:"root",factory:function(){var t=e.inject(rt);return function(){window.open(t.getEnvironment().oAuthConfig.issuer+"/Account/Manage?returnUrl="+window.location.href,"_self")}}});function tr(t){var e=(void 0===t?{}:t).age,n=void 0===e?18:e;return function(t){return["",null,void 0].indexOf(t.value)>-1?null:(e=t.value,r=n,(o=new Date).setFullYear(o.getFullYear()-r),o.setHours(23,59,59,999),Number(new Date(e))<=o.valueOf()?null:{minAge:{age:n}});var e,r,o}}function er(){return function(t){return["",null,void 0].indexOf(t.value)>-1||function(t){if(t=t.replace(/[ -]/g,""),!/^[0-9]{13,19}$/.test(t))return!1;for(var e=0,n=1,r=t.length;r>0;r--){var o=Number(t[r-1])*n;e+=o%10+~~(o/10),n=2*n%3}return e%10==0}(String(t.value))?null:{creditCard:!0}}}function nr(t){var e=void 0===t?{}:t,n=e.maximum,r=void 0===n?1/0:n,o=e.minimum,i=void 0===o?0:o;return function(t){if(["",null,void 0].indexOf(t.value)>-1)return null;var e=Number(t.value);return function(t,e,n){return t<e?{range:{min:e,max:n}}:null}(e,i,r)||function(t,e,n){return t>e?{range:{max:e,min:n}}:null}(e,r,i)}}function rr(t){var e=(void 0===t?{}:t).allowEmptyStrings;return function(t){return function(t,e){return!(!t&&0!==t&&!1!==t)||!(!e||""!==t)}(t.value,e)?null:{required:!0}}}function or(t){var e=void 0===t?{}:t,n=e.maximumLength,r=void 0===n?1/0:n,o=e.minimumLength,i=void 0===o?0:o;return function(t){if(["",null,void 0].indexOf(t.value)>-1)return null;var e=String(t.value);return function(t,e){return t.length<e?{minlength:{requiredLength:e}}:null}(e,i)||function(t,e){return t.length>e?{maxlength:{requiredLength:e}}:null}(e,r)}}function ir(){return function(t){return["",null,void 0].indexOf(t.value)>-1||function(t){if(/^http(s)?:\/\/[^/]/.test(t)||/^ftp:\/\/[^/]/.test(t)){var e=document.createElement("a");return e.href=t,!!e.host}return!1}(t.value)?null:{url:!0}}}var ar={creditCard:er,emailAddress:function(){return p.Validators.email},minAge:tr,range:nr,required:rr,stringLength:or,url:ir},ur=function(t){var e=this;this.restService=t,this.apiName="abp",this.getByModel=function(t){return e.restService.request({method:"GET",url:"/api/abp/api-definition",params:{includeTypes:t.includeTypes}},{apiName:e.apiName})}};ur.ɵprov=v.ɵɵdefineInjectable({factory:function(){return new ur(v.ɵɵinject(ot))},token:ur,providedIn:"root"}),ur.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],ur.ctorParameters=function(){return[{type:ot}]};var sr=Object.freeze({__proto__:null});t.APP_INIT_ERROR_HANDLERS=Se,t.AbpApiDefinitionService=ur,t.AbpApplicationConfigurationService=it,t.AbpTenantService=Ie,t.AbpValidators=ar,t.AbstractNavTreeService=Rt,t.AbstractNgModelComponent=A,t.AbstractTreeService=Tt,t.ApiInterceptor=ne,t.ApplicationConfigurationService=nn,t.AuditedEntityDto=Ge,t.AuditedEntityWithUserDto=Ve,t.AuthGuard=_e,t.AuthService=be,t.AutofocusDirective=xt,t.BaseCoreModule=ke,t.BaseTreeNode=At,t.CONTAINER_STRATEGY=Pn,t.CONTENT_SECURITY_STRATEGY=_n,t.CONTENT_STRATEGY=zn,t.CONTEXT_STRATEGY=Bn,t.CORE_OPTIONS=q,t.CROSS_ORIGIN_STRATEGY=pn,t.ChangePassword=k,t.ClearContainerStrategy=Rn,t.ComponentContextStrategy=$n,t.ComponentProjectionStrategy=Wn,t.ConfigStateService=ft,t.ContainerStrategy=Tn,t.ContentProjectionService=rn,t.ContentSecurityStrategy=kn,t.ContentStrategy=Dn,t.ContextStrategy=Fn,t.CoreModule=Le,t.CreationAuditedEntityDto=qe,t.CreationAuditedEntityWithUserDto=Be,t.CrossOriginStrategy=sn,t.DOM_STRATEGY=ln,t.DomInsertionService=yn,t.DomStrategy=fn,t.DynamicLayoutComponent=Nt,t.EntityDto=$e,t.EnvironmentService=rt,t.ExtensibleAuditedEntityDto=Je,t.ExtensibleAuditedEntityWithUserDto=Qe,t.ExtensibleCreationAuditedEntityDto=Ye,t.ExtensibleCreationAuditedEntityWithUserDto=Xe,t.ExtensibleEntityDto=We,t.ExtensibleFullAuditedEntityDto=tn,t.ExtensibleFullAuditedEntityWithUserDto=en,t.ExtensibleObject=Ze,t.ForDirective=Ut,t.FormSubmitDirective=$t,t.FullAuditedEntityDto=He,t.FullAuditedEntityWithUserDto=Ke,t.GetAppConfiguration=E,t.GetProfile=w,t.HttpWaitService=te,t.InitDirective=Bt,t.InputEventDebounceDirective=Mt,t.InsertIntoContainerStrategy=wn,t.InternalStore=et,t.LIST_QUERY_DEBOUNCE_TIME=Sn,t.LOADER_DELAY=Xt,t.LOADING_STRATEGY=Kn,t.LazyLoadService=mn,t.LazyModuleFactory=on,t.LimitedResultRequestDto=ze,t.ListResultDto=xe,t.ListService=Cn,t.LoadingStrategy=Gn,t.LocalizationModule=oe,t.LocalizationPipe=re,t.LocalizationService=ht,t.LooseContentSecurityStrategy=Nn,t.MultiTenancyService=Ae,t.NAVIGATE_TO_MANAGE_PROFILE=Xn,t.NavigationEvent=St,t.NoContentSecurityStrategy=Ln,t.NoContextStrategy=Un,t.NoCrossOriginStrategy=cn,t.ObjectExtending=sr,t.PROJECTION_STRATEGY=Qn,t.PagedAndSortedResultRequestDto=Ue,t.PagedResultDto=Me,t.PagedResultRequestDto=Fe,t.PermissionDirective=Gt,t.PermissionGuard=De,t.PermissionService=Ot,t.ProfileService=se,t.ProfileState=t.ɵbd,t.ProfileStateService=In,t.ProjectionStrategy=Zn,t.ReplaceableComponentsService=bt,t.ReplaceableRouteContainerComponent=Lt,t.ReplaceableTemplateDirective=Vt,t.ResourceWaitService=gn,t.RestOccurError=N,t.RestService=ot,t.RootComponentProjectionStrategy=Yn,t.RootCoreModule=Ne,t.RouterEvents=Ct,t.RouterOutletComponent=_t,t.RouterWaitService=An,t.RoutesService=wt,t.ScriptContentStrategy=Mn,t.ScriptLoadingStrategy=Vn,t.SessionStateService=dt,t.SetEnvironment=j,t.SettingTabsService=Pt,t.SortPipe=ie,t.StartLoader=T,t.StopLoader=R,t.StopPropagationDirective=Ht,t.StyleContentStrategy=xn,t.StyleLoadingStrategy=Hn,t.SubscriptionService=kt,t.TENANT_KEY=ee,t.TemplateContextStrategy=qn,t.TemplateProjectionStrategy=Jn,t.TrackByService=On,t.UpdateProfile=P,t.VisibilityDirective=Kt,t.WebHttpUrlEncodingCodec=Qt,t.checkAccessToken=Re,t.coreOptionsFactory=B,t.createLocalizationPipeKeyGenerator=function(t){var e=st(t);return function(t,n,r){var o=e(t,n),i=o.resourceName,a=o.key;return i?"_"===i?a:i+"::"+a:r}},t.createLocalizer=at,t.createLocalizerWithFallback=ut,t.createMapFromList=jt,t.createTokenParser=ct,t.createTreeFromList=Et,t.createTreeNodeFilterCreator=function(t,e){return function(n){var r=new RegExp(".*"+n+".*","i");return function n(o,i){var a,u;void 0===i&&(i=[]);try{for(var s=F(o),c=s.next();!c.done;c=s.next()){var p=c.value;r.test(e(p[t]))&&i.push(p),p.children.length&&n(p.children,i)}}catch(t){a={error:t}}finally{try{c&&!c.done&&(u=s.return)&&u.call(s)}finally{if(a)throw a.error}}return i}}},t.deepMerge=X,t.differentLocales=Dt,t.downloadBlob=function(t,e){var n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),document.body.removeChild(r)},t.exists=K,t.featuresFactory=function(t,e,n){return void 0===n&&(n=function(t){return t}),t.getFeatures$(e).pipe(i.filter(Boolean),i.map(n))},t.findRoute=yt,t.fromLazyLoad=dn,t.generateHash=un,t.generatePassword=function(t){void 0===t&&(t=8),t=Math.min(Math.max(4,t),128);var e="abcdefghijklmnopqrstuvwxyz",n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r="0123456789",o="!@#$%&*()_+{}<>?[]./",i=function(t){return t[Math.floor(Math.random()*t.length)]},a=Array({length:t});a[0]=i(e),a[1]=i(n),a[2]=i(r),a[3]=i(o);for(var u=4;u<t;u++)a[u]=i("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%&*()_+{}<>?[]./");return a.sort((function(){return.5-Math.random()})).join("")},t.getInitialData=Te,t.getLocaleDirection=function(t){return/^(ar(-[A-Z]{2})?|ckb(-IR)?|fa(-AF)?|he|ks|lrc(-IQ)?|mzn|pa-Arab|ps(-PK)?|sd|ug|ur(-IN)?|uz-Arab|yi)$/.test(t)?"rtl":"ltr"},t.getPathName=Jt,t.getRemoteEnv=Ce,t.getRoutePath=gt,t.getShortDateFormat=function(t){return t.getDeep("localization.currentCulture.dateTimeFormat").shortDatePattern},t.getShortDateShortTimeFormat=function(t){var e=t.getDeep("localization.currentCulture.dateTimeFormat");return e.shortDatePattern+" "+e.shortTimePattern.replace("tt","a")},t.getShortTimeFormat=function(t){return t.getDeep("localization.currentCulture.dateTimeFormat").shortTimePattern.replace("tt","a")},t.interpolate=pt,t.isArray=W,t.isNode=J,t.isNullOrUndefined=H,t.isNumber=an,t.isObject=Z,t.isObjectAndNotArray=Y,t.isObjectAndNotArrayNotNode=Q,t.isUndefinedOrEmptyString=V,t.localeInitializer=we,t.mapEnumToOptions=function(t){var e=[];for(var n in t)an(n)||e.push({key:n,value:t[n]});return e},t.ngxsStoragePluginSerialize=function(t){return t},t.noop=G,t.parseTenantFromUrl=je,t.pipeToLogin=function(t,e){var r=e.get(ft),a=e.get(it),u=e.get(n.Router);return o.pipe(i.switchMap((function(){return a.get()})),i.tap((function(e){r.setState(e),pe(t.rememberMe),t.redirectUrl&&u.navigate([t.redirectUrl])})))},t.pushValueTo=It,t.reloadRoute=mt,t.removeRememberMe=fe,t.setRememberMe=pe,t.setTokenResponseToStorage=function(t,e){var n=e.access_token,r=e.refresh_token,o=e.scope,i=e.expires_in,a=t.get(f.OAuthStorage);if(a.setItem("access_token",n),a.setItem("refresh_token",r),a.setItem("access_token_stored_at",""+Date.now()),o&&a.setItem("granted_scopes",JSON.stringify(o.split(" "))),i){var u=1e3*i,s=(new Date).getTime()+u;a.setItem("expires_at",""+s)}},t.storageFactory=Pe,t.takeUntilDestroy=function(t,e){return void 0===e&&(e="ngOnDestroy"),function(n){var r=t[e];if(!1===vn(r))throw new Error(t.constructor.name+" is using untilDestroyed but doesn't implement "+e);return t.__takeUntilDestroy||(t.__takeUntilDestroy=new o.Subject,t[e]=function(){vn(r)&&r.apply(this,arguments),t.__takeUntilDestroy.next(!0),t.__takeUntilDestroy.complete()}),n.pipe(i.takeUntil(t.__takeUntilDestroy))}},t.trackBy=En,t.trackByDeep=jn,t.uuid=function t(e){return e?(e^16*Math.random()>>e/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,t)},t.validateCreditCard=er,t.validateMinAge=tr,t.validateRange=nr,t.validateRequired=rr,t.validateStringLength=or,t.validateUrl=ir,t.ɵa=le,t.ɵb=re,t.ɵba=ie,t.ɵbb=Ht,t.ɵbc=Kt,t.ɵbe=se,t.ɵbf=w,t.ɵbg=P,t.ɵbh=k,t.ɵbj=ae,t.ɵbk=ue,t.ɵbl=ne,t.ɵbm=ee,t.ɵbn=te,t.ɵbo=Zt,t.ɵbp=G,t.ɵbq=Te,t.ɵbr=we,t.ɵbs=Wt,t.ɵbt=Tt,t.ɵbu=Rt,t.ɵbv=wt,t.ɵc=ht,t.ɵd=dt,t.ɵe=ft,t.ɵf=it,t.ɵg=ot,t.ɵh=q,t.ɵi=B,t.ɵk=rt,t.ɵl=A,t.ɵm=xt,t.ɵn=Nt,t.ɵo=kt,t.ɵp=bt,t.ɵq=Ct,t.ɵr=Ut,t.ɵs=$t,t.ɵt=Bt,t.ɵu=Mt,t.ɵv=Gt,t.ɵw=Ot,t.ɵx=Lt,t.ɵy=Vt,t.ɵz=_t,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=abp-ng.core.umd.min.js.map