{"version":3,"file":"abp-ng.components-page.js","sources":["../../../packages/components/page/src/page-parts.component.ts","../../../packages/components/page/src/page.component.ts","../../../packages/components/page/src/page-part.directive.ts","../../../packages/components/page/src/page.module.ts","../../../packages/components/page/src/abp-ng.components-page.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, ViewEncapsulation } from '@angular/core';\n\nexport enum PageParts {\n  title = 'PageTitleContainerComponent',\n  breadcrumb = 'PageBreadcrumbContainerComponent',\n  toolbar = 'PageToolbarContainerComponent',\n}\n\n@Component({\n  selector: 'abp-page-title-container',\n  template: `\n    <ng-content></ng-content>\n  `,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class PageTitleContainerComponent {}\n\n@Component({\n  selector: 'abp-page-breadcrumb-container',\n  template: `\n    <ng-content></ng-content>\n  `,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class PageBreadcrumbContainerComponent {}\n\n@Component({\n  selector: 'abp-page-toolbar-container',\n  template: `\n    <ng-content></ng-content>\n  `,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class PageToolbarContainerComponent {}\n","import { Component, Input, ViewEncapsulation, ContentChild } from '@angular/core';\nimport {\n  PageTitleContainerComponent,\n  PageBreadcrumbContainerComponent,\n  PageToolbarContainerComponent,\n  PageParts,\n} from './page-parts.component';\n\n@Component({\n  selector: 'abp-page',\n  templateUrl: './page.component.html',\n  encapsulation: ViewEncapsulation.None,\n})\nexport class PageComponent {\n  @Input() title: string;\n\n  toolbarVisible = false;\n  _toolbarData: any;\n  @Input('toolbar') set toolbarData(val: any) {\n    this._toolbarData = val;\n    this.toolbarVisible = true;\n  }\n\n  get toolbarData() {\n    return this._toolbarData;\n  }\n\n  @Input('breadcrumb') breadcrumbVisible = true;\n\n  pageParts = {\n    title: PageParts.title,\n    breadcrumb: PageParts.breadcrumb,\n    toolbar: PageParts.toolbar,\n  };\n\n  @ContentChild(PageTitleContainerComponent) customTitle: PageTitleContainerComponent;\n  @ContentChild(PageBreadcrumbContainerComponent)\n  customBreadcrumb: PageBreadcrumbContainerComponent;\n  @ContentChild(PageToolbarContainerComponent) customToolbar: PageToolbarContainerComponent;\n\n  get shouldRenderRow() {\n    return !!(\n      this.title ||\n      this.toolbarVisible ||\n      this.breadcrumbVisible ||\n      this.customTitle ||\n      this.customBreadcrumb ||\n      this.customToolbar\n    );\n  }\n}\n","import {\n  Directive,\n  TemplateRef,\n  ViewContainerRef,\n  Input,\n  InjectionToken,\n  Optional,\n  Inject,\n  OnInit,\n  OnDestroy,\n  Injector,\n  OnChanges,\n  SimpleChanges,\n  SimpleChange,\n} from '@angular/core';\nimport { Observable, Subscription, of } from 'rxjs';\n\nexport interface PageRenderStrategy {\n  shouldRender(type?: string): boolean | Observable<boolean>;\n  onInit?(type?: string, injector?: Injector, context?: any): void;\n  onDestroy?(type?: string, injector?: Injector, context?: any): void;\n  onContextUpdate?(change?: SimpleChange): void;\n}\n\nexport const PAGE_RENDER_STRATEGY = new InjectionToken<PageRenderStrategy>('PAGE_RENDER_STRATEGY');\n\n@Directive({ selector: '[abpPagePart]' })\nexport class PagePartDirective implements OnInit, OnDestroy, OnChanges {\n  hasRendered = false;\n  type: string;\n  subscription: Subscription;\n\n  @Input('abpPagePartContext') context: any;\n  @Input() set abpPagePart(type: string) {\n    this.type = type;\n    this.createRenderStream(type);\n  }\n\n  render = (shouldRender: boolean) => {\n    if (shouldRender && !this.hasRendered) {\n      this.viewContainer.createEmbeddedView(this.templateRef);\n      this.hasRendered = true;\n    } else if (!shouldRender && this.hasRendered) {\n      this.viewContainer.clear();\n      this.hasRendered = false;\n    }\n  };\n\n  constructor(\n    private templateRef: TemplateRef<any>,\n    private viewContainer: ViewContainerRef,\n    @Optional() @Inject(PAGE_RENDER_STRATEGY) private renderLogic: PageRenderStrategy,\n    private injector: Injector,\n  ) {}\n\n  ngOnChanges({ context }: SimpleChanges): void {\n    if (this.renderLogic?.onContextUpdate) {\n      this.renderLogic.onContextUpdate(context);\n    }\n  }\n\n  ngOnInit() {\n    if (this.renderLogic?.onInit) {\n      this.renderLogic.onInit(this.type, this.injector, this.context);\n    }\n  }\n\n  ngOnDestroy() {\n    this.clearSubscription();\n\n    if (this.renderLogic?.onDestroy) {\n      this.renderLogic.onDestroy(this.type, this.injector, this.context);\n    }\n  }\n\n  shouldRender(type: string) {\n    if (this.renderLogic) {\n      const willRender = this.renderLogic.shouldRender(type);\n      return willRender instanceof Observable ? willRender : of(willRender);\n    }\n    return of(true);\n  }\n\n  protected createRenderStream(type: string) {\n    this.clearSubscription();\n\n    this.subscription = this.shouldRender(type).subscribe(this.render);\n  }\n\n  protected clearSubscription() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UiExtensionsModule } from '@abp/ng.theme.shared/extensions';\nimport { ThemeSharedModule } from '@abp/ng.theme.shared';\nimport { CoreModule } from '@abp/ng.core';\nimport { PageComponent } from './page.component';\nimport {\n  PageTitleContainerComponent,\n  PageBreadcrumbContainerComponent,\n  PageToolbarContainerComponent,\n} from './page-parts.component';\nimport { PagePartDirective } from './page-part.directive';\n\nconst exportedDeclarations = [\n  PageComponent,\n  PageTitleContainerComponent,\n  PageBreadcrumbContainerComponent,\n  PageToolbarContainerComponent,\n  PagePartDirective,\n];\n\n@NgModule({\n  declarations: [...exportedDeclarations],\n  imports: [CommonModule, UiExtensionsModule, CoreModule, ThemeSharedModule],\n  exports: [...exportedDeclarations],\n})\nexport class PageModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]}